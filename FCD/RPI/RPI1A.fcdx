<!-- CRC: 9CBAA20B02874D61C96DAE4FEC699BE7E9A941D0A9A74FD9EC8EAC686D541C5DF8B48017CEA9C3F928FAD4357B6CF5FF40897D2E0FE9ECE9A383EF668AF0E4CBA3521E13BBF2FDECA4D1C56CD1580BF548D30488CDFA8AC8641CBC453E1FA368358BBC3FF7893B6E4A0198EC558FEEEA76F5B8686D5D53D7D0191D793B81813BF0E66F8DDFFD513453ED11AB099B1F4306A9CF1E302A0D804FC767A78C2641BA9AEB18B7B9192BB4086944AE325796A6A027DDFEA0B6EDCD6489E7E389A6E3BF6E5EF1F424EB9D0679849CDE32E3BB2BC44AB45AA6BFFC2C -->
<!-- REVISION: 2.0 -->
<!-- GUID: 92EB4BA1-DF7D-4F9D-A2A1-47CE7A400F73 -->
<!-- DATE: 19\08\2022 -->
<!-- DIR: FCD\RPI\RPI1A.fcdx -->
<root>
<build>
<compiler   exe="$(fcddir)RPI\batch\rbuild.bat" params="&quot;$(target)&quot; &quot;$(outdir)&quot;  &quot;$(compilerrpi)&quot; " />
<linker     exe="$(appdir)tools\DoNothing\DoNothing.exe" params="" />
<programmer exe="$(fcddir)RPI\batch\rprog.bat" params="&quot;$(target)&quot; &quot;$(outdir)&quot; &quot;$(compilerrpi)&quot;  $(sship) $(sshuser) $(sshpass) $(sshsudo) " UsesSSH="1" />
</build>

<device name='RPI1A' namealt='RPI1A' product='RPI' cal='RPI' family='RPI' bits='32' >
    <clock max_speed='76800000' master_divider='8' fixed='76800000' />
    <memory >
        <flash bytes='131072' />
        <ram bytes='32768' />
    </memory>
    <configuration address='0x0000' mult='1' >
        <setting />
    </configuration>
    <pins sides='2' smd='0' >
        <pin name='3.3V' />
        <pin name='SDA [ 2]' port='6' bit='2' />
        <pin name='SCL [ 3]' port='6' bit='3' />
        <pin name=' [ 4]' port='6' bit='4' />
        <pin name='GND' />
        <pin name=' [17]' port='6' bit='17' />
        <pin name=' [27]' port='6' bit='27' />
        <pin name=' [22]' port='6' bit='22' />
        <pin name='3.3V' />
        <pin name='MOSI [10]' port='6' bit='10' />
        <pin name='MISO [ 9]' port='6' bit='9' />
        <pin name='SCLK [11]' port='6' bit='11' />
        <pin name='GND' />
		
        <pin name='[ 7] CS1' port='6' bit='7' />
        <pin name='[ 8] CS0' port='6' bit='8' />
        <pin name='[25] ' port='6' bit='25' />
        <pin name='GND' />
        <pin name='[24] ' port='6' bit='24' />
        <pin name='[23] ' port='6' bit='23' />
        <pin name='GND' />
        <pin name='[18] ' port='6' bit='18' />
        <pin name='[15] RXD' port='6' bit='15' />
        <pin name='[14] TXD' port='6' bit='14' />
        <pin name='GND' />
        <pin name='5V' />
        <pin name='5V' />
    </pins>
	
    <i2c master='1' >
        <sda port='6' pin='2' />
        <scl port='6' pin='3' />
    </i2c>
	
    <spi >
        <miso port='6' pin='9' />
        <mosi port='6' pin='10' />
        <clk  port='6' pin='11' />
    </spi>
    
    <uart aname='/dev/serial0' >
        <tx port='6' pin='14' />
        <rx port='6' pin='15' />
    </uart>

    <uart aname='/dev/serial1' noio='1' />
    <uart aname='/dev/serial2' noio='1' />
    <uart aname='/dev/serial3' noio='1' />
    <uart aname='/dev/serial4' noio='1' />

    <pwm>
    	<timer>
    	    <option name='Dedicated' value='0' />
    	</timer>
        <prescaler >
            <option name='1' value='1' />
            <option name='2' value='2' />
            <option name='4' value='4' />
            <option name='8' value='8' />
            <option name='16' value='16' />
            <option name='32' value='32' />
            <option name='64' value='64' />
            <option name='128' value='128' />
        </prescaler>
        <out port='6' pin='12' aport='6' apin='18' />
        <out port='6' pin='13' aport='6' apin='19' />		
	</pwm>
    <interrupts >
    </interrupts>
</device>
<inline >
    <defines code='
#define MX_CAL_RPI
#define	MX_REGISTER_MAP_BASE	0x20000000
' />
    <directives code="" />
    <main >
        <start code='
int main()
{
	if ((gpio = FC_CAL_GetRegisterMap(MX_REGISTER_MAP_GPIO)) == MAP_FAILED) return -1 ;
	FC_CAL_PullupsOff();
#ifdef USE_FLOWCODE_ICD2
	// Set pullups on ICD Clock and Data GPIO pins
	MX_GPIO_PULL = 2;
	FCI_DELAYBYTE_US(100);
	MX_GPIO_PULLCLK0 = (1 &lt;&lt; MX_ICD_DATA_GPIO) | (1 &lt;&lt; MX_ICD_CLK_GPIO);
	FCI_DELAYBYTE_US(100);
	MX_GPIO_PULLCLK0 = 0;
	// ICD Startup
	dbg_mode = 0x08;
	ICD_PUSH(0);
	FC_MARKER(1);
	FC_MARKER(1);
	ICD_POP();
#endif
' />
        <end code='
	munmap((void *)gpio, getpagesize());
	return 0;
}
	' />
        <init code='' />
    </main>
    <interrupt >
        <enable code='' />
        <start code='' />
        <end code='' />
        <init code='' />
    </interrupt>
    <config >
    	<start code='//Configuration Start\n' />
        <body code='' />
        <end code='//Configuration End\n\n' />
    </config>
</inline>
<test >
    <icd >
        <clock port='6' pin='26' />
        <data port='6' pin='16' />
    </icd>
</test>
</root>
