<root>
<document scada='0' projtype='1' schema='103' license='1,82702381,95CJQR' title='' description='' fcversion='720896' target='PIC.16F.16F1937' >
	<config data='!0,fe2!10,1eff%0,2%3,0%5,1%6,1%7,1%8,1%9,3%b,1%c,0%d,0%10,3%14,3%18,0%19,1%1a,1%1c,1%1d,0' clkspd='19660800' simspd='1' usewdt='0' constif='0' Use3V3='0' />
	<plugins >
		<dll_models enabled='1' />
	</plugins>
	<supplement use='0' head='' body='' />
	<debug />
	<traces >
		<trace digital='1' variable='0' displayname='Test' portdata='131072' scopetype='0' showtrace='1' autonamed='0' channel='-1' ymin='0' ymax='1' ydiv='3' />
	</traces>
	<ghost >
		<FK2 >
			<data name='FK2D0' port='4294967295' pin='4294967295' />
			<data name='FK2D1' port='4294967295' pin='4294967295' />
			<data name='FK2D2' port='4294967295' pin='4294967295' />
			<data name='FK2D3' port='4294967295' pin='4294967295' />
			<data name='FK2D4' port='4294967295' pin='4294967295' />
			<data name='FK2D5' port='4294967295' pin='4294967295' />
			<data name='FK2D6' port='4294967295' pin='4294967295' />
			<data name='FK2D7' port='4294967295' pin='4294967295' />
			<data name='FK2D8' port='4294967295' pin='4294967295' />
			<data name='FK2D9' port='4294967295' pin='4294967295' />
			<data name='FK2D10' port='4294967295' pin='4294967295' />
			<data name='FK2D11' port='4294967295' pin='4294967295' />
			<data name='FK2D12' port='4294967295' pin='4294967295' />
			<data name='FK2D13' port='4294967295' pin='4294967295' />
			<data name='FK2D14' port='4294967295' pin='4294967295' />
			<data name='FK2D15' port='4294967295' pin='4294967295' />
			<data name='FK2A0' port='4294967295' pin='4294967295' />
			<data name='FK2A1' port='4294967295' pin='4294967295' />
			<data name='FK2A2' port='4294967295' pin='4294967295' />
			<data name='FK2A3' port='4294967295' pin='4294967295' />
			<data name='FK2A4' port='4294967295' pin='4294967295' />
			<data name='FK2A5' port='4294967295' pin='4294967295' />
		</FK2>
		<ICD >
			<data name='AnalogPrescaleValue' value='19' />
			<data name='DigitalSampleRate' value='100000' />
			<data name='BreakpointCount' value='8' />
			<data name='CallStackDepthCount' value='8' />
			<data name='ClockPort' value='1' />
			<data name='ClockPin' value='6' />
			<data name='DataPort' value='1' />
			<data name='DataPin' value='7' />
			<data name='UseDefaultPins' value='1' />
			<data name='WrapEnabled' value='1' />
			<data name='CommsDelayOverridden' value='0' />
			<data name='CommsDelay' value='9' />
			<data name='CalculatedCommsDelay' value='9' />
			<data name='AnalogEB2PrescaleValue' value='2' />
			<data name='DigitalEB2SampleRate' value='100000' />
		</ICD>
		<pins >
			<digital A='0' B='0' C='0' D='0' E='0' F='0' G='0' H='0' I='0' J='0' K='0' L='0' M='0' N='0' O='0' P='0' Q='0' R='0' S='0' T='0' U='0' V='0' W='0' X='0' Y='0' Z='0' />
			<analog A='0' B='0' C='0' D='0' E='0' F='0' G='0' H='0' I='0' J='0' K='0' L='0' M='0' N='0' O='0' P='0' Q='0' R='0' S='0' T='0' U='0' V='0' W='0' X='0' Y='0' Z='0' />
		</pins>
	</ghost>
	<components >
		<settings autoimg='0' center='1' unitscale='1' fixedscale='0' fixedx='16' fixedy='16' fixedz='16' headcode='0' />
		<definition guid='c67171df-0ad6-4b11-8361-cfe14b072847' vstate='40' vmin='21' vmaj='21' srcleaf='SPI.fcfx' visiblename='SPI' description='CAL = Code Abstraction Layer - Allows one code base to run on a wide range of chips.
A low level implementation giving direct access to the Serial Peripheral Interface peripheral.' category='Misc' category2='' category3='' bIs2dOnly='1' bIs3dOnly='0' bIsWysiwyg='0' catenable='1' author='Matrix TSL' manuname='Matrix TSL' manucode='CAL' sysinfo='15741727' keywords='' dynamic='1' scadaCompatible='1' embeddedCompatible='1' showmacros='1' iconpath='..\icons\components\Chip.png' />
		<component class_type='root' codename='cal_spi' panelId='-1' x='0' y='0' z='0' xsz='0.1' ysz='0.1' zsz='0.1' xang='0' yang='0' zang='0' xquat='0' yquat='0' zquat='0' wquat='1' visible='1' scadavisible='1' interactive='1' solid='1' layer='0' poslock='0' ancTop='0' ancBottom='0' ancLeft='0' ancRight='0' ancMinX='0' ancMinY='0' comp2dType='0' macronames='$(type)_$(module)__$(macro)' >
			<resources />
			<properties >
				<property name='Component Enable' target='ENABLED' typeid='7' hidden='0' locked='0' info='A global flag to enable or disable the SPI component from producing code.
Useful for generating components with multiple communications options.' />
				<property name='REF' target='REF' typeid='14' hidden='1' locked='0' info='' />
				<property name='Connections' folder='property_2' hidden='0' >
					<property name='Channel' target='CHANNEL' typeid='16' hidden='0' locked='0' info='SPI Channel selector' filter='000Software
001Channel 1
' expansion='MX_SPI_$(variable:u)_$(instance)' initialiser='($(value))' />
					<property name='MOSI' target='MOSI' typeid='5' hidden='0' locked='1' info='SPI Data Out Pin SDO - Also Known as Master Out Slave In (MOSI) when used in Master mode.' />
					<property name='MOSI Remap Pin' target='MOSIPins' typeid='16' hidden='1' locked='0' sorted='1' info='Select which the target pin to assign the MOSI hardware pin functionality.' filter='008$PORTB.0
009$PORTB.1
010$PORTB.2
011$PORTB.3
012$PORTB.4
013$PORTB.5
014$PORTB.6
015$PORTB.7
000$PORTC.0
001$PORTC.1
002$PORTC.2
003$PORTC.3
004$PORTC.4
005$PORTC.5
006$PORTC.6
007$PORTC.7' />
					<property name='MISO' target='MISO' typeid='5' hidden='0' locked='1' info='SPI Data In Pin SDI - Also Known as Master In Slave Out (MISO) when used in Master mode.' />
					<property name='MISO Remap Pin' target='MISOPins' typeid='16' hidden='1' locked='0' sorted='1' info='Select which the target pin to assign the MISO hardware pin functionality.' filter='008$PORTB.0
009$PORTB.1
010$PORTB.2
011$PORTB.3
012$PORTB.4
013$PORTB.5
014$PORTB.6
015$PORTB.7
016$PORTC.0
017$PORTC.1
018$PORTC.2
019$PORTC.3
020$PORTC.4
021$PORTC.5
022$PORTC.6
023$PORTC.7' />
					<property name='CLK' target='CLK' typeid='5' hidden='0' locked='1' info='SPI Clock Pin CLK - The Clock signal is driven by the SPI master.' />
					<property name='CLK Remap Pin' target='CLKPins' typeid='16' hidden='1' locked='0' sorted='1' info='Select which the target pin to assign the CLK hardware pin functionality.' filter='008$PORTB.0
009$PORTB.1
010$PORTB.2
011$PORTB.3
012$PORTB.4
013$PORTB.5
014$PORTB.6
015$PORTB.7
000$PORTC.0
001$PORTC.1
002$PORTC.2
003$PORTC.3
004$PORTC.4
005$PORTC.5
006$PORTC.6
007$PORTC.7' />
					<property name='Use Auto CS' target='UseAutoCS' typeid='7' hidden='0' locked='0' info='Allow the SPI component to manage the CS pin for us in Master mode.
On initialise the CS pin is automatically set high to disable the remote SPI device.
Set to No if you want to create a component with multiple CS pins or if you want to manage the CS pin yourself.' />
					<property name='Use Slave Select' target='UseCS' typeid='7' hidden='1' locked='0' info='Allows the SPI Slave to monitor the hardware SS pin to enable the SPI perpheral.
No: SS pin will not be used and can be used as standard IO
Yes: SS pin will be used to automatically enable the SPI interface when low.' expansion='MX_SPI_USESS_$(instance)' initialiser='$(value)' />
					<property name='CS / SS' target='SS' typeid='5' hidden='0' locked='0' info='Chip Select / Slave Select Pin 
Master Mode: General purpose output pin used to select the remote SPI device.
Slave Mode: Hardware chip select pin input used to select the SPI device.
' />
					<property name='CS Polarity' target='CSPolarity' typeid='16' hidden='0' locked='0' info='' filter='000Active Low
001Active High' />
					<property name='SS Remap Pin' target='SSPins' typeid='16' hidden='1' locked='0' sorted='1' info='Select which the target pin to assign the SS hardware pin functionality.' />
					<property name='Alt SS Pin' target='AltSSPin' typeid='7' hidden='1' locked='0' info='Allows an alternative SS hardware pin to be used.' />
				</property>
				<property name='Options' folder='property_3' hidden='0' >
					<property name='Mode' target='Mode' typeid='16' hidden='0' locked='0' info='Configures the mode of the SPI component.
Currently only Master mode is supported.' filter='000Master
001Slave' />
					<property name='Prescale' target='PR_SCALE' typeid='16' hidden='0' locked='0' info='Prescale option selector' filter='004Fosc/4
016Fosc/16
064Fosc/64' expansion='MX_SPI_$(variable:u)_$(instance)' initialiser='($(value))' />
					<property name='Clock Phase' target='CKE' typeid='16' hidden='0' locked='0' info='Clock Phase (data change edge) selection' filter='000Leading Edge
001Trailing Edge' />
					<property name='Clock Polarity' target='CKP' typeid='16' hidden='0' locked='0' info='Clock Polarity setting, inactive (idle) state' filter='000Idle Low
001Idle High' />
					<property name='Sample Point' target='SMP' typeid='16' hidden='0' locked='0' info='Data bit read sample point' filter='000Middle
001End' />
				</property>
				<property name='Simulation' folder='property_1' hidden='0' >
					<property name='Scope Traces' target='ScopeTraces' typeid='7' hidden='0' locked='0' info='Selects if the scope traces are automatically generated or not' />
					<property name='Console Data' target='ConsoleData' typeid='7' hidden='0' locked='0' info='Selects if the console data is automatically generated or not' />
					<property name='API' target='Injector' typeid='16' hidden='0' locked='0' info='Selects the API Slave to use to send and receive real world SPI data during simulation.' filter='000' />
					<property name='API CS Pin' target='InjectorCS' typeid='21' hidden='1' locked='0' info='' />
					<property name='Injector Handle' target='InjectorHandle' typeid='21' hidden='1' locked='0' info='' />
					<property name='Injector Channel' target='InjectorChannel' typeid='21' hidden='1' locked='0' info='' />
					<property name='Loading' target='Loading' typeid='7' hidden='1' locked='0' info='' />
				</property>
				<property name='Bus Mode' target='BMODE' typeid='14' hidden='1' locked='0' info='' expansion='MX_SPI_$(variable:u)_$(instance)' initialiser='($(value))' />
				<property name='MOSI_PORT' target='MOSI_PORT' typeid='10' hidden='1' locked='0' info='' expansion='MX_SPI_$(variable:u)_$(instance)' initialiser='port$(value:6-,1,l)' />
				<property name='MOSI_TRIS' target='MOSI_TRIS' typeid='10' hidden='1' locked='0' info='' expansion='MX_SPI_$(variable:u)_$(instance)' initialiser='tris$(value:6-,1,l)' />
				<property name='MOSI_PIN' target='MOSI_PIN' typeid='14' hidden='1' locked='0' info='' expansion='MX_SPI_$(variable:u)_$(instance)' initialiser='($(value))' />
				<property name='MISO_PORT' target='MISO_PORT' typeid='10' hidden='1' locked='0' info='' expansion='MX_SPI_$(variable:u)_$(instance)' initialiser='port$(value:6-,1,l)' />
				<property name='MISO_TRIS' target='MISO_TRIS' typeid='10' hidden='1' locked='0' info='' expansion='MX_SPI_$(variable:u)_$(instance)' initialiser='tris$(value:6-,1,l)' />
				<property name='MISO_PIN' target='MISO_PIN' typeid='14' hidden='1' locked='0' info='' expansion='MX_SPI_$(variable:u)_$(instance)' initialiser='($(value))' />
				<property name='SCK_PORT' target='SCK_PORT' typeid='10' hidden='1' locked='0' info='' expansion='MX_SPI_$(variable:u)_$(instance)' initialiser='port$(value:6-,1,l)' />
				<property name='SCK_TRIS' target='SCK_TRIS' typeid='10' hidden='1' locked='0' info='' expansion='MX_SPI_$(variable:u)_$(instance)' initialiser='tris$(value:6-,1,l)' />
				<property name='SCK_PIN' target='SCK_PIN' typeid='14' hidden='1' locked='0' info='' expansion='MX_SPI_$(variable:u)_$(instance)' initialiser='($(value))' />
				<property name='SS_PORT' target='SS_PORT' typeid='10' hidden='1' locked='0' info='' expansion='MX_SPI_$(variable:u)_$(instance)' initialiser='port$(value:6-,1,l)' />
				<property name='SS_TRIS' target='SS_TRIS' typeid='10' hidden='1' locked='0' info='' expansion='MX_SPI_$(variable:u)_$(instance)' initialiser='tris$(value:6-,1,l)' />
				<property name='SS_PIN' target='SS_PIN' typeid='14' hidden='1' locked='0' info='' expansion='MX_SPI_$(variable:u)_$(instance)' initialiser='($(value))' />
				<property name='REMAPPABLE' target='Remappable' typeid='14' hidden='1' locked='1' info='' />
				<property name='MOSI Reg' target='MOSIReg' typeid='16' hidden='1' locked='0' info='' filter='000RC0PPS
001RC1PPS
002RC2PPS
003RC3PPS
004RC4PPS
005RC5PPS
006RC6PPS
007RC7PPS
008RB0PPS
009RB1PPS
010RB2PPS
011RB3PPS
012RB4PPS
013RB5PPS
014RB6PPS
015RB7PPS
016RPD10R
017RPD11R
018RPC13R
019RPC14R
020RPD2R
021RPD3R
022RPF0R
023RPF1R
024RPG1R
025RPG0R
026RPOR12bits.RP25R
027RPOR10bits.RP20R' />
				<property name='CLK Reg' target='CLKREG' typeid='16' hidden='1' locked='0' info='' filter='000RC0PPS
001RC1PPS
002RC2PPS
003RC3PPS
004RC4PPS
005RC5PPS
006RC6PPS
007RC7PPS
008RB0PPS
009RB1PPS
010RB2PPS
011RB3PPS
012RB4PPS
013RB5PPS
014RB6PPS
015RB7PPS
016RPOR8bits.RP17R
017RPOR8bits.RP16R
018RPOR1bits.RP2R
019RPOR2bits.RP4R
020RPOR1bits.RP3R
021RPOR6bits.RP12R
022RPOR5bits.RP11R
023RPOR12bits.RP24R
024RPOR11bits.RP23R
025RPOR11bits.RP22R
026RPOR12bits.RP25R
027RPOR10bits.RP20R' />
				<property name='MOSI RP Num' target='MOSIRPNUM' typeid='21' hidden='1' locked='0' info='' />
				<property name='MOSI Bank' target='MOSIBank' typeid='10' hidden='1' locked='0' info='' />
				<property name='MOSI Bank2' target='MOSIBank2' typeid='10' hidden='1' locked='0' info='' />
				<property name='CLK RP Num' target='CLKRPNUM' typeid='21' hidden='1' locked='0' info='' />
				<property name='CLK Bank' target='CLKBank' typeid='10' hidden='1' locked='0' info='' />
				<property name='MISO RP Reg' target='MISORPREG' typeid='10' hidden='1' locked='0' info='' />
				<property name='MISO Bank' target='MISOBank' typeid='10' hidden='1' locked='0' info='' />
				<property name='SPI Name' target='SPIName' typeid='10' hidden='1' locked='0' info='' />
				<property name='MISO Reg' target='MISOReg' typeid='16' hidden='1' locked='0' info='' />
				<property name='SPI Clock' target='SPIClock' typeid='10' hidden='1' locked='0' info='' />
				<property name='MISO Bank2' target='MISOBank2' typeid='10' hidden='1' locked='0' info='' />
				<property name='CLK Bank2' target='CLKBank2' typeid='10' hidden='1' locked='0' info='' />
				<property name='Parent Name' target='ParentName' typeid='10' hidden='1' locked='0' info='' />
				<property name='BitDelay' target='BitDelay' typeid='21' hidden='1' locked='0' info='' />
				<property name='ClockSpeed' target='ClockSpeed' typeid='21' hidden='1' locked='0' info='' />
				<property name='MasterDivider' target='MasterDivider' typeid='21' hidden='1' locked='0' info='' />
				<property name='Sim' target='Sim' typeid='7' hidden='1' locked='0' info='' />
				<property name='CLK RP Reg' target='CLKRPREG' typeid='10' hidden='1' locked='0' info='' />
				<property name='SS RP Reg' target='SSRPREG' typeid='10' hidden='1' locked='0' info='' />
				<property name='SS Bank' target='SSBank' typeid='10' hidden='1' locked='0' info='' />
				<property name='SS Bank2' target='SSBank2' typeid='10' hidden='1' locked='0' info='' />
				<property name='AltSSReg' target='AltSSReg' typeid='10' hidden='1' locked='0' info='' />
				<property name='AltSSMask' target='AltSSMask' typeid='21' hidden='1' locked='0' info='' />
				<property name='Sorted' target='Sorted' typeid='7' hidden='1' locked='0' info='' />
			</properties>
			<values >
				<value target='ENABLED' data='1' />
				<value target='REF' data='1' />
				<value target='CHANNEL' data='001' />
				<value target='MOSI' data='$PORTC.5' />
				<value target='MOSIPins' data='008' />
				<value target='MISO' data='$PORTC.4' />
				<value target='MISOPins' data='013' />
				<value target='CLK' data='$PORTC.3' />
				<value target='CLKPins' data='004' />
				<value target='UseAutoCS' data='1' />
				<value target='UseCS' data='0' />
				<value target='SS' data='$PORTC.2' />
				<value target='CSPolarity' data='000' />
				<value target='SSPins' data='000' />
				<value target='AltSSPin' data='0' />
				<value target='Mode' data='000' />
				<value target='PR_SCALE' data='004' />
				<value target='CKE' data='001' />
				<value target='CKP' data='000' />
				<value target='SMP' data='000' />
				<value target='ScopeTraces' data='1' />
				<value target='ConsoleData' data='1' />
				<value target='Injector' data='000' />
				<value target='InjectorCS' data='0' />
				<value target='InjectorHandle' data='0' />
				<value target='InjectorChannel' data='0' />
				<value target='Loading' data='1' />
				<value target='BMODE' data='2' />
				<value target='MOSI_PORT' data='$PORTC.5' />
				<value target='MOSI_TRIS' data='$PORTC.5' />
				<value target='MOSI_PIN' data='5' />
				<value target='MISO_PORT' data='$PORTC.4' />
				<value target='MISO_TRIS' data='$PORTC.4' />
				<value target='MISO_PIN' data='4' />
				<value target='SCK_PORT' data='$PORTC.3' />
				<value target='SCK_TRIS' data='$PORTC.3' />
				<value target='SCK_PIN' data='3' />
				<value target='SS_PORT' data='$PORTC.2' />
				<value target='SS_TRIS' data='$PORTC.2' />
				<value target='SS_PIN' data='2' />
				<value target='Remappable' data='' />
				<value target='MOSIReg' data='008' />
				<value target='CLKREG' data='004' />
				<value target='MOSIRPNUM' data='21' />
				<value target='MOSIBank' data='b' />
				<value target='MOSIBank2' data='c' />
				<value target='CLKRPNUM' data='20' />
				<value target='CLKBank' data='b' />
				<value target='MISORPREG' data='SSP1DATPPS' />
				<value target='MISOBank' data='b' />
				<value target='SPIName' data='' />
				<value target='MISOReg' data='000' />
				<value target='SPIClock' data='' />
				<value target='MISOBank2' data='c' />
				<value target='CLKBank2' data='c' />
				<value target='ParentName' data='' />
				<value target='BitDelay' data='0' />
				<value target='ClockSpeed' data='19660800' />
				<value target='MasterDivider' data='4' />
				<value target='Sim' data='1' />
				<value target='CLKRPREG' data='' />
				<value target='SSRPREG' data='' />
				<value target='SSBank' data='' />
				<value target='SSBank2' data='' />
				<value target='AltSSReg' data='' />
				<value target='AltSSMask' data='0' />
				<value target='Sorted' data='0' />
			</values>
			<events >
				<event class='Compile' event='AddProperty' target='Ev_AddProperty' />
				<event class='Connection' event='FCDChange' target='Ev_ChipChange' />
				<event class='Components' event='Property' target='Ev_Property_Change' />
				<event class='System' event='Timer' target='Ev_Timer' />
				<event class='DataRecorder' event='FmtPacket' target='Ev_FmtPacket' />
				<event class='Compile' event='AddHeader' target='Ev_AddHeader' />
				<event class='Components' event='PostInitialise' target='Ev_PostInitialise' />
				<event class='Components' event='Initialise' target='Ev_Initialise' />
				<event class='Compile' event='Start' target='Ev_CompStart' />
				<event class='DataRecorder' event='Decode' target='Ev_DecodeSync' />
				<event class='Connection' event='ChipChange' target='Ev_ChipChange' />
				<event class='Simulation' event='Start' target='Ev_SimStart' />
				<event class='Components' event='Renamed' target='Ev_Renamed' />
				<event class='System' event='LoadComplete' target='Ev_LoadComplete' />
				<event class='Compile' event='Stop' target='Ev_CompStop' />
			</events>
			<apis >
				<api name='Master_Enable_CS' alt='Master_Enable_CS' type='1' proto='1' />
				<api name='Slave_Uninit' alt='FC_CAL_SPI_$(macro)_$(instance)' type='5' proto='1' />
				<api name='Prv_TextConsole' alt='' type='2' proto='1' />
				<api name='Master_Transaction' alt='FC_CAL_SPI_Transaction_$(instance)' type='5' proto='1' />
				<api name='ChangeMode' alt='' type='2' proto='1' />
				<api name='GetValue' alt='' type='2' proto='1' />
				<api name='Slave_Init' alt='FC_CAL_SPI_$(macro)_$(instance)' type='5' proto='1' />
				<api name='Master_Disable_CS' alt='Master_Disable_CS' type='1' proto='1' />
				<api name='Master_Uninit' alt='FC_CAL_SPI_$(macro)_$(instance)' type='5' proto='1' />
				<api name='Master_Byte' alt='FC_CAL_SPI_$(macro)_$(instance)' type='5' proto='1' />
				<api name='GetConsoleHandle' alt='' type='2' proto='1' />
				<api name='Slave_TxByte' alt='FC_CAL_SPI_$(macro)_$(instance)' type='5' proto='1' />
				<api name='Slave_RxByte' alt='FC_CAL_SPI_$(macro)_$(instance)' type='5' proto='1' />
				<api name='SetValue' alt='' type='2' proto='1' />
				<api name='SetPrescaler' alt='FC_CAL_SPI_$(macro)_$(instance)' type='5' proto='0' />
				<api name='Master_Init' alt='FC_CAL_SPI_$(macro)_$(instance)' type='5' proto='1' />
				<api name='GetList' alt='' type='2' proto='1' />
			</apis>
			<variables >
				<variable public='0' >
					<def class_type='variable' name='ConsoleDecode' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
				</variable>
				<variable public='0' >
					<def class_type='variable' name='StrmId_SS' type='s16' description='' isconst='1' isHidden='0' isinit='1' usrinit='2' setinit='2' />
				</variable>
				<variable public='0' >
					<def class_type='variable' name='StrmId_MISO' type='s16' description='The ScopeStream[] of the data' isconst='1' isHidden='0' isinit='1' usrinit='0' setinit='0' />
				</variable>
				<variable public='0' >
					<def class_type='variable' name='StrmId_MOSI' type='s16' description='A ScopeStream[] for the data' isconst='1' isHidden='0' isinit='1' usrinit='1' setinit='1' />
				</variable>
				<variable public='0' >
					<def class_type='variable' name='ConsoleLog' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
				</variable>
				<variable public='0' >
					<def class_type='variable' name='LinkBar' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
				</variable>
				<variable public='0' >
					<def class_type='variable' name='ScopeStream' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' >
						<array size='4' />
					</def>
				</variable>
				<variable public='0' >
					<def class_type='variable' name='ScopeGroup' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
				</variable>
				<variable public='0' >
					<def class_type='variable' name='StrmId_Clk' type='s16' description='The ScopeStream[] of the clock' isconst='1' isHidden='0' isinit='1' usrinit='3' setinit='3' />
				</variable>
			</variables>
			<macros >
				<macro >
					<flowline name='Master_Enable_CS' description='Outputs a low signal to the chip select pin to select the remote slave device.' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<local name='str' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<command class_type='decision' title='SPI Enabled?' exp='ENABLED' swap='0' >
							<flowline >
								<command class_type='decision' title='Master Mode?' exp='Mode = 0' swap='0' >
									<flowline >
										<command class_type='decision' title='Auto CS Enabled?' exp='UseAutoCS' swap='0' >
											<flowline >
												<command class_type='decision' title='Simulation' exp='Sim' swap='0' >
													<flowline >
														<command class_type='decision' title='Console Data Enabled?' exp='ConsoleData' swap='0' >
															<flowline >
																<command class_type='calculation' title='Build Console String' >
																	<exp exp='.str = &quot;Master_Enable_CS()&quot;' />
																</command>
																<command class_type='call' title='Call Macro' macro='Prv_TextConsole' >
																	<argument exp='.str' />
																	<argument exp='0' />
																	<argument exp='1' />
																</command>
															</flowline>
															<flowline />
														</command>
														<command class_type='decision' title='Injector Available?' exp='InjectorHandle &gt; 0' swap='0' >
															<flowline >
																<command class_type='sim' title='CS Enabled' component='API_SPI_Dummy1' macro='IOSetOutputPin' >
																	<argument exp='InjectorCS' />
																	<argument exp='0' />
																</command>
															</flowline>
															<flowline />
														</command>
													</flowline>
													<flowline />
												</command>
												<command class_type='calculation' title='CS Pin Enabled' >
													<exp exp='SS = CSPolarity' />
												</command>
											</flowline>
											<flowline />
										</command>
									</flowline>
									<flowline />
								</command>
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Ev_CompStart' description='Broadcast to all components that compilation is starting' statediag='0' >
						<return name='Return' type='u32' description='Non-zero to prevent compilation' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
							<argument exp='this' />
							<argument exp='&quot;Sim&quot;' />
							<argument exp='0' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Ev_Timer' description='Called back on the panel command System.TimerStart' statediag='0' >
						<return name='Return' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='TimerID' type='u32' description='The identifier passed to the System.TimerStart panel command' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='f1' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='f2' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='f3' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<command class_type='decision' title='Decision' exp='.TimerID = 0' swap='0' >
							<flowline >
								<command class_type='sim' title='Built-in Function' macro='Component.Property.SetValue' >
									<argument exp='this' />
									<argument exp='&quot;Loading&quot;' />
									<argument exp='0' />
								</command>
								<command class_type='call' title='' macro='Prv_PopulateInjectorFilter' />
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Slave_Uninit' description='Uninitialise the Slave' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<command class_type='decision' title='Console Data Enabled?' exp='ConsoleData' swap='0' >
							<flowline >
								<command class_type='call' title='Call Macro' macro='Prv_TextConsole' >
									<argument exp='&quot;Slave_Uninit()&quot;' />
									<argument exp='0' />
									<argument exp='1' />
								</command>
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Prv_TextConsole' description='Send text to the SPI console.
Exposed as part of the CAL_SPI component to allow none AutoCS pins and other.' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<param name='str' type='T8*' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</param>
						<param name='Colour' type='u8' description='0=Default, 1=TX, 2=RX' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='AppendTimestamp' type='u8' description='0=Don&apos;t Append / 1=Do Append' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='tstr' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<command class_type='decision' title='Decision' exp='Sim' swap='0' >
							<flowline >
								<command class_type='decision' title='Decision' exp='.AppendTimestamp' swap='0' >
									<flowline >
										<command class_type='sim' title='Default - White' macro='Console.SetOutputRGB' >
											<argument exp='ConsoleLog' />
											<argument exp='0x000000' />
										</command>
										<command class_type='calculation' title='Build Console String' >
											<exp exp='.tstr = &quot;\n&quot; + TimeStamp1 :: GetTimeStamp () + &quot; - &quot;' />
										</command>
										<command class_type='sim' title='Append Timestamp to String' macro='Console.WriteText' >
											<argument exp='ConsoleLog' />
											<argument exp='.tstr' />
										</command>
									</flowline>
									<flowline />
								</command>
								<command class_type='switch' title='Switch' textarea='36,25,36,25' exp='.colour' >
									<case >
										<flowline >
											<command class_type='sim' title='Default - White' macro='Console.SetOutputRGB' >
												<argument exp='ConsoleLog' />
												<argument exp='0x000000' />
											</command>
										</flowline>
									</case>
									<case exp='1' >
										<flowline >
											<command class_type='sim' title='Outgoing - Green' macro='Console.SetOutputRGB' >
												<argument exp='ConsoleLog' />
												<argument exp='0x007F00' />
											</command>
										</flowline>
									</case>
									<case exp='2' >
										<flowline >
											<command class_type='sim' title='Incoming - Red' macro='Console.SetOutputRGB' >
												<argument exp='ConsoleLog' />
												<argument exp='0x00007F' />
											</command>
										</flowline>
									</case>
								</command>
								<command class_type='sim' title='Add text to console' macro='Console.WriteText' >
									<argument exp='ConsoleLog' />
									<argument exp='.Str' />
								</command>
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Prv_LoadPortString' description='load port string into property from the given name and fcd handle' statediag='0' >
						<return name='Return' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='fcd_h' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Name' type='T8*' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</param>
						<local name='port_h' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='port' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='pin' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='alt' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<command class_type='calculation' title='Calculation' >
							<exp exp='.Return = 0' />
						</command>
						<command class_type='sim' title='Get the child' macro='FCD.GetPathHandle' >
							<return exp='.port_h' />
							<argument exp='.Name' />
							<argument exp='.fcd_h' />
						</command>
						<command class_type='decision' title='Decision' exp='Compare$ (.Name,&quot;ss&quot;,1) == 0' swap='0' >
							<flowline >
								<command class_type='comment' title='' comment='Slave Select Pin Only - Slave mode
' textarea='12,0,12,0' />
								<command class_type='decision' title='If valid' exp='.port_h != 0' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' >
											<exp exp='.Return = 1' />
										</command>
										<command class_type='calculation' title='Calculation' >
											<exp exp='.alt = ::Tree .GetSubValue (.port_h,&quot;aport&quot;)' />
											<exp exp='' />
										</command>
										<command class_type='decision' title='Decision' exp='Length$ (.alt) &gt; 0' swap='0' >
											<flowline >
												<command class_type='sim' title='Simulation' macro='Component.Property.SetVisible' >
													<argument exp='this' />
													<argument exp='&quot;AltSSPin&quot;' />
													<argument exp='1' />
												</command>
											</flowline>
											<flowline >
												<command class_type='sim' title='Simulation' macro='Component.Property.SetVisible' >
													<argument exp='this' />
													<argument exp='&quot;AltSSPin&quot;' />
													<argument exp='0' />
												</command>
												<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
													<argument exp='this' />
													<argument exp='&quot;AltSSPin&quot;' />
													<argument exp='0' />
												</command>
											</flowline>
										</command>
										<command class_type='decision' title='Decision' exp='AltSSPin' swap='0' >
											<flowline >
												<command class_type='calculation' title='Calculation' >
													<exp exp='.Return = 1' />
												</command>
												<command class_type='calculation' title='Calculation' >
													<exp exp='.port = ::Tree .GetSubValue (.port_h,&quot;aport&quot;)' />
													<exp exp='.pin = ::Tree .GetSubValue (.port_h,&quot;apin&quot;)' />
													<exp exp='::Component .Property .SetValue (this, .Name,Prv_ConvertPort (.port, .pin))' />
													<exp exp='' />
													<exp exp='::Component .Property .SetValue (this,&quot;AltSSReg&quot;, ::Tree .GetSubValue (.port_h,&quot;areg&quot;))' />
													<exp exp='::Component .Property .SetValue (this,&quot;AltSSMask&quot;, ::Tree .GetSubValue (.port_h,&quot;amask&quot;))' />
												</command>
											</flowline>
											<flowline >
												<command class_type='calculation' title='Calculation' >
													<exp exp='.Return = 1' />
												</command>
												<command class_type='calculation' title='Calculation' >
													<exp exp='.port = ::Tree .GetSubValue (.port_h,&quot;port&quot;)' />
													<exp exp='.pin = ::Tree .GetSubValue (.port_h,&quot;pin&quot;)' />
													<exp exp='::Component .Property .SetValue (this, .Name,Prv_ConvertPort (.port, .pin))' />
												</command>
											</flowline>
										</command>
									</flowline>
									<flowline />
								</command>
							</flowline>
							<flowline >
								<command class_type='comment' title='' comment='Other Pins' textarea='12,0,12,0' />
								<command class_type='decision' title='If valid' exp='.port_h != 0' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' >
											<exp exp='.Return = 1' />
										</command>
										<command class_type='calculation' title='Calculation' >
											<exp exp='.port = ::Tree .GetSubValue (.port_h,&quot;port&quot;)' />
											<exp exp='.pin = ::Tree .GetSubValue (.port_h,&quot;pin&quot;)' />
											<exp exp='::Component .Property .SetValue (this, .Name,Prv_ConvertPort (.port, .pin))' />
										</command>
									</flowline>
									<flowline />
								</command>
							</flowline>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Master_Transaction' description='Sends and receives data bytes via the SPI channel.
The Buffer is to contain the data to be sent, and is overwritten by the retuning data from the device.
Returns 1 for success, 0 for failure' statediag='0' >
						<return name='Return' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Buffer' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='32768' />
						</param>
						<param name='Length' type='u16' description='Number of bytes to transfer' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='str' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='idx' type='u16' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
						<command class_type='decision' title='Console Data Enabled?' exp='ConsoleData' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' >
									<exp exp='.str = &quot;\nTransaction(&quot; + ToString$ (.Length) + &quot;)&quot;' />
								</command>
								<command class_type='call' title='Call Macro' macro='Prv_TextConsole' >
									<argument exp='.str' />
									<argument exp='0' />
									<argument exp='1' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='Decision' exp='ScopeTraces' swap='0' >
							<flowline >
								<command class_type='loop' title='Loop' type='0' exp='.idx &lt; .length' >
									<flowline >
										<command class_type='call' title='Send / Receive' macro='Master_Byte' >
											<return exp='.Buffer[.idx]' />
											<argument exp='.Buffer[.idx]' />
										</command>
										<command class_type='calculation' title='Calculation' >
											<exp exp='.idx = .idx + 1' />
										</command>
									</flowline>
								</command>
							</flowline>
							<flowline >
								<command class_type='decision' title='Decision' exp='InjectorHandle &gt; 0' swap='0' >
									<flowline >
										<command class_type='sim' title='Component Macro' component='API_SPI_Dummy1' macro='SPITransferTrans' >
											<argument exp='InjectorChannel' />
											<argument exp='.Length' />
											<argument exp='.Buffer' />
											<argument exp='.Buffer' />
										</command>
									</flowline>
									<flowline >
										<command class_type='calculation' title='Calculation' >
											<exp exp='.Return = .Length' />
										</command>
									</flowline>
								</command>
							</flowline>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Ev_Initialise' description='Initialisation routine for the component once the component is linked to its parent' statediag='0' >
						<return name='Return' type='u32' description='Non-zero to prevent initialisation' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='Handle' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='RootHandle' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='sim' title='Built-in Function' macro='Component.Property.SetValue' >
							<argument exp='this' />
							<argument exp='&quot;Sorted&quot;' />
							<argument exp='0' />
						</command>
						<command class_type='sim' title='Component needs to be exported with this property set to Yes' macro='Component.Property.SetValue' >
							<argument exp='this' />
							<argument exp='&quot;Loading&quot;' />
							<argument exp='1' />
						</command>
						<command class_type='call' title='Call Macro' macro='Prv_LoadPrescalers' />
						<command class_type='call' title='Call Macro' macro='Prv_LoadChannelList' />
						<command class_type='call' title='Call Macro' disable='1' macro='Prv_LoadChannelPorts' />
						<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
							<argument exp='this' />
							<argument exp='&quot;Sim&quot;' />
							<argument exp='1' />
						</command>
						<command class_type='sim' title='Built-in Function' macro='Component.GetRoot' >
							<return exp='.RootHandle' />
						</command>
						<command class_type='sim' title='Built-in Function' macro='Component.GetParent' >
							<return exp='.Handle' />
							<argument exp='this' />
						</command>
						<command class_type='decision' title='Decision' exp='(.Handle != .RootHandle) &amp;&amp; (this != .RootHandle)' swap='0' >
							<flowline >
								<command class_type='comment' title='' comment='Only fire this when we are in a user project, not a component source.' textarea='12,0,12,0' />
								<command class_type='sim' title='Built-in Function' macro='System.TimerStart' >
									<argument exp='0' />
									<argument exp='15000' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='call' title='User Macro' disable='1' macro='Ev_Property_Change' />
					</flowline>
				</macro>
				<macro >
					<flowline name='GetValue' description='Reads Named property Value. 
' statediag='0' >
						<return name='Return' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;\x00&quot;' setinit='' >
							<array size='2000' />
						</return>
						<param name='Name' type='T8*' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</param>
						<command class_type='comment' title='' comment='This should now be largely unused as we expose properties now instead of copying values back and forth' textarea='12,0,12,0' />
						<command class_type='decision' title='Decision' exp='(Compare$ (.Name,&quot;ENABLED&quot;,1) = 0) OR (Compare$ (.Name,&quot;CHANNEL&quot;,1) = 0) OR (Compare$ (.Name,&quot;MOSI&quot;,1) = 0) OR (Compare$ (.Name,&quot;MISO&quot;,1) = 0) OR (Compare$ (.Name,&quot;CLK&quot;,1) = 0) OR (Compare$ (.Name,&quot;SS&quot;,1) = 0) OR (Compare$ (.Name,&quot;PR_SCALE&quot;,1) = 0) OR (Compare$ (.Name,&quot;CKP&quot;,1) = 0) OR (Compare$ (.Name,&quot;CKE&quot;,1) = 0) OR (Compare$ (.Name,&quot;SMP&quot;,1) = 0) OR (Compare$ (.Name,&quot;Remappable&quot;,1) = 0)' swap='0' >
							<flowline >
								<command class_type='sim' title='Simulation' macro='Component.Property.GetValue' >
									<return exp='.Return' />
									<argument exp='this' />
									<argument exp='.Name' />
								</command>
							</flowline>
							<flowline >
								<command class_type='sim' title='Call Macro' macro='Debug.PrintLn' >
									<argument exp='&quot;GetValue(&quot; + .Name + &quot;) not valid. Use CHANNEL, MOSI, MISO, CLK, SS, PR_SCALE, CKP, CKE or SMP&quot;' />
								</command>
							</flowline>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Prv_SimShowWaveform' description='' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<param name='RXData' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='TXData' type='u16' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='decision' title='Decision' exp='Sim' swap='0' >
							<flowline >
								<command class_type='decision' title='Decision' exp='ENABLED' swap='0' >
									<flowline >
										<command class_type='loop' title='Loop' type='2' exp='8' >
											<flowline >
												<command class_type='decision' title='Mode 1 or 3 Switch the Clock' exp='(BMODE &amp; 0x02) = 0' swap='0' >
													<flowline >
														<command class_type='decision' title='Idle Mode?' exp='(BMODE &amp; 0x01) = 0' swap='0' >
															<flowline >
																<command class_type='calculation' title='Drive Clock' >
																	<exp exp='CLK = 1' />
																</command>
															</flowline>
															<flowline >
																<command class_type='calculation' title='Drive Clock' >
																	<exp exp='CLK = 0' />
																</command>
															</flowline>
														</command>
													</flowline>
													<flowline />
												</command>
												<command class_type='decision' title='Check Serial Data Bit' exp='.TXData &amp; 0x80' swap='0' >
													<flowline >
														<command class_type='calculation' title='Data High' >
															<exp exp='MOSI = 1' />
														</command>
													</flowline>
													<flowline >
														<command class_type='calculation' title='Data Low' >
															<exp exp='MOSI = 0' />
														</command>
													</flowline>
												</command>
												<command class_type='decision' title='Sample At Middle Of Period?' exp='(BMODE &amp; 0x04) = 0' swap='0' >
													<flowline >
														<command class_type='decision' title='Check Serial Data Bit' exp='.RXData &amp; 0x80' swap='0' >
															<flowline >
																<command class_type='calculation' title='Data High' >
																	<exp exp='MISO = 1' />
																</command>
															</flowline>
															<flowline >
																<command class_type='calculation' title='Data Low' >
																	<exp exp='MISO = 0' />
																</command>
															</flowline>
														</command>
													</flowline>
													<flowline />
												</command>
												<command class_type='delay' title='Delay' exp='BitDelay' type='0' />
												<command class_type='decision' title='Switch the Clock' exp='(BMODE &amp; 0x02) = 2' swap='0' >
													<flowline >
														<command class_type='decision' title='Idle Mode?' exp='(BMODE &amp; 0x01) = 0' swap='0' >
															<flowline >
																<command class_type='calculation' title='Drive Clock' >
																	<exp exp='CLK = 1' />
																</command>
															</flowline>
															<flowline >
																<command class_type='calculation' title='Drive Clock' >
																	<exp exp='CLK = 0' />
																</command>
															</flowline>
														</command>
													</flowline>
													<flowline >
														<command class_type='decision' title='Idle Mode?' exp='(BMODE &amp; 0x01) = 0' swap='0' >
															<flowline >
																<command class_type='calculation' title='Drive Clock' >
																	<exp exp='CLK = 0' />
																</command>
															</flowline>
															<flowline >
																<command class_type='calculation' title='Drive Clock' >
																	<exp exp='CLK = 1' />
																</command>
															</flowline>
														</command>
													</flowline>
												</command>
												<command class_type='decision' title='Sample At End Of Period?' exp='(BMODE &amp; 0x04) = 4' swap='0' >
													<flowline >
														<command class_type='decision' title='Check Serial Data Bit' exp='.RXData &amp; 0x80' swap='0' >
															<flowline >
																<command class_type='calculation' title='Data High' >
																	<exp exp='MISO = 1' />
																</command>
															</flowline>
															<flowline >
																<command class_type='calculation' title='Data Low' >
																	<exp exp='MISO = 0' />
																</command>
															</flowline>
														</command>
													</flowline>
													<flowline />
												</command>
												<command class_type='delay' title='Delay' exp='BitDelay' type='0' />
												<command class_type='decision' title='Switch the Clock' exp='(BMODE &amp; 0x02) = 2' swap='0' >
													<flowline >
														<command class_type='decision' title='Idle Mode?' exp='(BMODE &amp; 0x01) = 0' swap='0' >
															<flowline >
																<command class_type='calculation' title='Drive Clock' >
																	<exp exp='CLK = 0' />
																</command>
															</flowline>
															<flowline >
																<command class_type='calculation' title='Drive Clock' >
																	<exp exp='CLK = 1' />
																</command>
															</flowline>
														</command>
													</flowline>
													<flowline />
												</command>
												<command class_type='calculation' title='Shift to next data bit' >
													<exp exp='.TXData = .TXData &lt;&lt; 1' />
													<exp exp='.RXData = .RXData &lt;&lt; 1' />
												</command>
											</flowline>
										</command>
									</flowline>
									<flowline />
								</command>
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Ev_PostInitialise' description='Post-initialisation routine for the component once all components have been initialised' statediag='0' >
						<return name='Return' type='u32' description='Non-zero to prevent initialisation' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='Handle' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='RootHandle' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='sim' title='Built-in Function' macro='Component.GetRoot' >
							<return exp='.RootHandle' />
						</command>
						<command class_type='sim' title='Built-in Function' macro='Component.GetParent' >
							<return exp='.Handle' />
							<argument exp='this' />
						</command>
						<command class_type='decision' title='Decision' exp='.Handle != .RootHandle' swap='0' >
							<flowline >
								<command class_type='comment' title='' comment='Only fire this when we are in a user project, not a component source.' textarea='12,0,12,0' />
								<command class_type='sim' title='Built-in Function' macro='Component.Property.SetValue' >
									<argument exp='this' />
									<argument exp='&quot;Loading&quot;' />
									<argument exp='0' />
								</command>
								<command class_type='comment' title='' comment='This is a test - to see if we can overcome the initial delay
when dragging on a component.

Test and make sure this doesn&apos;t cause pin corruption for software channels.' textarea='12,0,12,0' />
								<command class_type='call' title='Test' macro='Prv_PopulateInjectorFilter' />
							</flowline>
							<flowline />
						</command>
						<command class_type='call' title='User Macro' macro='Ev_Property_Change' />
					</flowline>
				</macro>
				<macro >
					<flowline name='Prv_BubbleSort' description='' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<param name='Handle' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Property' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</param>
						<local name='sTemp' type='T8' description='' isconst='0' isHidden='0' isinit='1' usrinit='&quot;&quot;' setinit='&quot;&quot;' >
							<array size='30' />
						</local>
						<local name='i' type='s16' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
						<local name='bDone' type='b1' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
						<local name='sa' type='T8*' description='' isconst='0' isHidden='0' isinit='1' usrinit='&quot; \&quot;\&quot; &quot;' setinit='{&quot;&quot;}' >
							<array size='200' />
							<array size='30' />
						</local>
						<local name='iFilteredItems' type='s16' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
						<local name='s1' type='T8' description='' isconst='0' isHidden='0' isinit='1' usrinit='&quot;&quot;' setinit='&quot;&quot;' >
							<array size='30' />
						</local>
						<local name='s2' type='T8' description='' isconst='0' isHidden='0' isinit='1' usrinit='&quot;&quot;' setinit='&quot;&quot;' >
							<array size='30' />
						</local>
						<local name='sUnsorted' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='2000' />
						</local>
						<local name='Sorted' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='2000' />
						</local>
						<local name='len1' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='len2' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='val' type='s32' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
						<command class_type='sim' title='Built-in Function' macro='Component.Property.GetFilter' >
							<return exp='.sUnsorted' />
							<argument exp='.Handle' />
							<argument exp='.Property' />
						</command>
						<command class_type='calculation' title='Calculation' textarea='36,0,511,300' >
							<exp exp='.i = 0' />
							<exp exp='.Sorted = &quot;&quot;' />
							<exp exp='.bDone = 0' />
						</command>
						<command class_type='loop' title='Loop' textarea='36,0,511,300' type='0' exp='.bDone == 0' >
							<flowline >
								<command class_type='calculation' title='Calculation' textarea='82,3,82,3' >
									<exp exp='.sa[.i] = SplitString$(.sUnsorted,&quot;\n&quot;,.i)' />
								</command>
								<command class_type='decision' title='Decision' textarea='36,0,511,300' exp='Length$(.sa[.i]) = 0' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' textarea='36,0,511,300' >
											<exp exp='.bDone = 1' />
										</command>
									</flowline>
									<flowline >
										<command class_type='calculation' title='Calculation' textarea='36,0,511,300' >
											<exp exp='.i = .i + 1' />
										</command>
									</flowline>
								</command>
							</flowline>
						</command>
						<command class_type='calculation' title='Calculation' textarea='36,0,511,300' >
							<exp exp='.iFilteredItems = .i' />
							<exp exp='.bDone = 0' />
							<exp exp='.i = 0' />
						</command>
						<command class_type='loop' title='Loop' textarea='36,0,511,300' type='0' exp='.bDone == 0' >
							<flowline >
								<command class_type='label' title='Restart' textarea='36,0,511,300' labelid='0' labelname='A' />
								<command class_type='calculation' title='Calculation' textarea='36,0,511,300' >
									<exp exp='.bDone = 1' />
								</command>
								<command class_type='loop' title='Loop' type='2' forvar='.i' exp='.iFilteredItems - 1' >
									<flowline >
										<command class_type='calculation' title='Calculation' >
											<exp exp='.len1 = Length$(.sa[.i])' />
											<exp exp='.len2 = Length$(.sa[.i + 1])' />
											<exp exp='.s1 = Right$(.sa[.i],.len1 - 3)' />
											<exp exp='.s2 = Right$(.sa[.i + 1],.len2 - 3)' />
										</command>
										<command class_type='decision' title='Decision' exp='Prv_NumericCompare(.s1,.s2) &gt; 0' swap='0' >
											<flowline >
												<command class_type='calculation' title='Calculation' textarea='36,0,511,300' >
													<exp exp='.sTemp = .sa[.i]' />
													<exp exp='.sa[.i] = .sa[.i + 1]' />
													<exp exp='.sa[.i + 1] = .sTemp' />
													<exp exp='.bDone = 0' />
												</command>
												<command class_type='goto' title='Goto Connection Point' textarea='36,0,511,300' labelid='0' labelname='' />
											</flowline>
											<flowline />
										</command>
									</flowline>
								</command>
							</flowline>
						</command>
						<command class_type='loop' title='Loop' textarea='36,0,511,300' type='2' forvar='.i' exp='.iFilteredItems' >
							<flowline >
								<command class_type='calculation' title='Calculation' textarea='36,0,511,300' >
									<exp exp='.Sorted = .Sorted + .sa[.i]' />
									<exp exp='.Sorted = .Sorted + &quot;\n&quot;' />
								</command>
							</flowline>
						</command>
						<command class_type='sim' title='Built-in Function' macro='Component.Property.SetFilter' >
							<argument exp='.Handle' />
							<argument exp='.Property' />
							<argument exp='.Sorted' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Ev_Property_Change' description='Sent when a property has been changed by the User' statediag='0' >
						<return name='Return' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='CompName' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='Calc' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='fCalc' type='f32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0.0' setinit='' />
						<local name='temp_str' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='100' />
						</local>
						<local name='ObjHandle' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='decision' title='Decision' exp='ENABLED' swap='0' >
							<flowline >
								<command class_type='sim' title='Panel' macro='Component.Property.SetVisible' >
									<argument exp='this' />
									<argument exp='&quot;property_1&quot;' />
									<argument exp='1' />
								</command>
								<command class_type='sim' title='Panel' macro='Component.Property.SetVisible' >
									<argument exp='this' />
									<argument exp='&quot;property_2&quot;' />
									<argument exp='1' />
								</command>
								<command class_type='sim' title='Panel' macro='Component.Property.SetVisible' >
									<argument exp='this' />
									<argument exp='&quot;property_3&quot;' />
									<argument exp='1' />
								</command>
								<command class_type='decision' title='Decision' exp='Loading' swap='0' >
									<flowline />
									<flowline >
										<command class_type='call' title='Call Macro' macro='Prv_LoadChannelPorts' />
										<command class_type='calculation' title='Setup the PORT and PIN info' >
											<exp exp='::Component.Property.SetValue(this,&quot;MOSI_PORT&quot;,::Component.Property.GetValue(this,&quot;MOSI&quot;))' />
											<exp exp='::Component.Property.SetValue(this,&quot;MOSI_TRIS&quot;,::Component.Property.GetValue(this,&quot;MOSI&quot;))' />
											<exp exp='::Component.Property.SetValue(this,&quot;MOSI_PIN&quot;,ParsePin(::Component.Property.GetValue(this,&quot;MOSI&quot;)))' />
											<exp exp='' />
											<exp exp='::Component.Property.SetValue(this,&quot;MISO_PORT&quot;,::Component.Property.GetValue(this,&quot;MISO&quot;))' />
											<exp exp='::Component.Property.SetValue(this,&quot;MISO_TRIS&quot;,::Component.Property.GetValue(this,&quot;MISO&quot;))' />
											<exp exp='::Component.Property.SetValue(this,&quot;MISO_PIN&quot;,ParsePin(::Component.Property.GetValue(this,&quot;MISO&quot;)))' />
											<exp exp='' />
											<exp exp='::Component.Property.SetValue(this,&quot;SCK_PORT&quot;,::Component.Property.GetValue(this,&quot;CLK&quot;))' />
											<exp exp='::Component.Property.SetValue(this,&quot;SCK_TRIS&quot;,::Component.Property.GetValue(this,&quot;CLK&quot;))' />
											<exp exp='::Component.Property.SetValue(this,&quot;SCK_PIN&quot;,ParsePin(::Component.Property.GetValue(this,&quot;CLK&quot;)))' />
											<exp exp='' />
											<exp exp='::Component.Property.SetValue(this,&quot;SS_PORT&quot;,::Component.Property.GetValue(this,&quot;SS&quot;))' />
											<exp exp='::Component.Property.SetValue(this,&quot;SS_TRIS&quot;,::Component.Property.GetValue(this,&quot;SS&quot;))' />
											<exp exp='::Component.Property.SetValue(this,&quot;SS_PIN&quot;,ParsePin(::Component.Property.GetValue(this,&quot;SS&quot;)))' />
										</command>
									</flowline>
								</command>
								<command class_type='calculation' title='Set the BMODE flags' >
									<exp exp='::Component .Property .SetValue (this,&quot;BMODE&quot;, (SMP &lt;&lt; 2) + (CKE &lt;&lt; 1) + CKP)' />
								</command>
								<command class_type='decision' title='Decision' exp='ScopeTraces' swap='0' >
									<flowline >
										<command class_type='decision' title='Decision' exp='ScopeGroup = 0' swap='0' >
											<flowline >
												<command class_type='call' title='Call Macro' macro='Prv_SimSetupScope' />
											</flowline>
											<flowline />
										</command>
									</flowline>
									<flowline >
										<command class_type='calculation' title='Calculation' >
											<exp exp='ScopeGroup = 0' />
											<exp exp='ScopeStream[0] = 0' />
											<exp exp='ScopeStream[1] = 0' />
											<exp exp='ScopeStream[2] = 0' />
											<exp exp='ScopeStream[3] = 0' />
										</command>
									</flowline>
								</command>
								<command class_type='decision' title='Decision' exp='ConsoleData' swap='0' >
									<flowline >
										<command class_type='decision' title='Decision' exp='ConsoleLog = 0' swap='0' >
											<flowline >
												<command class_type='call' title='Call Macro' macro='Prv_SetupConsole' />
											</flowline>
											<flowline />
										</command>
									</flowline>
									<flowline >
										<command class_type='calculation' title='Calculation' >
											<exp exp='ConsoleLog = 0' />
										</command>
									</flowline>
								</command>
								<command class_type='call' title='' macro='Prv_PopulateInjectorFilter' />
								<command class_type='decision' title='Pointing to valid injector?' exp='Injector &gt; 0' swap='0' >
									<flowline >
										<command class_type='call' title='' macro='Prv_GetInjectorHandle' >
											<argument exp='Injector' />
										</command>
										<command class_type='decision' title='Decision' exp='InjectorHandle &gt; 0' swap='0' >
											<flowline >
												<command class_type='sim' title='Built-in Function' macro='Panel.LinkBar.Create' >
													<return exp='LinkBar' />
													<argument exp='this' />
													<argument exp='InjectorHandle' />
												</command>
												<command class_type='sim' title='Built-in Function' macro='Panel.LinkBar.SetBarGfx' >
													<argument exp='LinkBar' />
													<argument exp='::Panel.LinkBar.Bar_Curve' />
													<argument exp='0x000000' />
													<argument exp='5.0' />
												</command>
												<command class_type='sim' title='Enable Selected Injector Component' macro='System.RedirectMacros' >
													<argument exp='API_SPI_Dummy1' />
													<argument exp='InjectorHandle' />
												</command>
												<command class_type='sim' title='Simulation' macro='Component.Property.SetVisible' >
													<argument exp='this' />
													<argument exp='&quot;InjectorCS&quot;' />
													<argument exp='1' />
												</command>
											</flowline>
											<flowline >
												<command class_type='sim' title='Enable Selected Injector Component' macro='System.RedirectMacros' >
													<argument exp='API_SPI_Dummy1' />
													<argument exp='API_SPI_Dummy1' />
												</command>
												<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
													<argument exp='this' />
													<argument exp='&quot;InjectorHandle&quot;' />
													<argument exp='0' />
												</command>
												<command class_type='sim' title='Simulation' macro='Component.Property.SetVisible' >
													<argument exp='this' />
													<argument exp='&quot;InjectorCS&quot;' />
													<argument exp='0' />
												</command>
											</flowline>
										</command>
									</flowline>
									<flowline >
										<command class_type='sim' title='Enable Selected Injector Component' macro='System.RedirectMacros' >
											<argument exp='API_SPI_Dummy1' />
											<argument exp='API_SPI_Dummy1' />
										</command>
										<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
											<argument exp='this' />
											<argument exp='&quot;InjectorHandle&quot;' />
											<argument exp='0' />
										</command>
										<command class_type='sim' title='Simulation' macro='Component.Property.SetVisible' >
											<argument exp='this' />
											<argument exp='&quot;InjectorCS&quot;' />
											<argument exp='0' />
										</command>
									</flowline>
								</command>
								<command class_type='sim' title='Simulation' macro='FCD.GetItemValue' >
									<return exp='.CompName' />
									<argument exp='&quot;device.clock&quot;' />
									<argument exp='&quot;value&quot;' />
									<argument exp='&quot;20000000&quot;' />
								</command>
								<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
									<argument exp='this' />
									<argument exp='&quot;ClockSpeed&quot;' />
									<argument exp='.CompName' />
								</command>
								<command class_type='sim' title='Simulation' macro='FCD.GetItemValue' >
									<return exp='.CompName' />
									<argument exp='&quot;device.clock&quot;' />
									<argument exp='&quot;master_divider&quot;' />
									<argument exp='&quot;1&quot;' />
								</command>
								<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
									<argument exp='this' />
									<argument exp='&quot;MasterDivider&quot;' />
									<argument exp='.CompName' />
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='.Calc = ClockSpeed / MasterDivider' />
									<exp exp='.Calc = .Calc / PR_SCALE' />
								</command>
								<command class_type='calculation' title='Work Out Bit Delay in Microseconds' >
									<exp exp='.fCalc = 1.0 / FLOAT .Calc' />
									<exp exp='.fCalc = .fCalc * 1000.0 //Convert to ms' />
									<exp exp='.fCalc = .fCalc * 1000.0 //Convert to us' />
									<exp exp='.calc = float2int (.fCalc)' />
								</command>
								<command class_type='sim' title='Assign to BitDelay property' macro='Component.Property.SetValue' >
									<argument exp='this' />
									<argument exp='&quot;BitDelay&quot;' />
									<argument exp='.calc' />
								</command>
							</flowline>
							<flowline >
								<command class_type='sim' title='Panel' macro='Component.Property.SetVisible' >
									<argument exp='this' />
									<argument exp='&quot;property_1&quot;' />
									<argument exp='0' />
								</command>
								<command class_type='sim' title='Panel' macro='Component.Property.SetVisible' >
									<argument exp='this' />
									<argument exp='&quot;property_2&quot;' />
									<argument exp='0' />
								</command>
								<command class_type='sim' title='Panel' macro='Component.Property.SetVisible' >
									<argument exp='this' />
									<argument exp='&quot;property_3&quot;' />
									<argument exp='0' />
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='ScopeGroup = 0' />
									<exp exp='ScopeStream[0] = 0' />
									<exp exp='ScopeStream[1] = 0' />
									<exp exp='ScopeStream[2] = 0' />
									<exp exp='ScopeStream[3] = 0' />
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='ConsoleLog = 0' />
								</command>
							</flowline>
						</command>
						<command class_type='sim' title='Built-in Function' macro='Component.GetParent' >
							<return exp='.ObjHandle' />
							<argument exp='this' />
						</command>
						<command class_type='sim' title='Built-in Function' macro='Component.GetChildHead' >
							<return exp='.ObjHandle' />
							<argument exp='.ObjHandle' />
						</command>
						<command class_type='loop' title='Loop' type='0' exp='.ObjHandle' >
							<flowline >
								<command class_type='sim' title='Built-in Function' macro='Tree.GetValue' >
									<return exp='.temp_str' />
									<argument exp='.ObjHandle' />
								</command>
								<command class_type='decision' title='Check for library or sensor theme components' exp='(Compare$ (.temp_str,&quot;58be670e-18fb-477e-ab09-61fde14b23ec&quot;,0) == 0) || (Compare$ (.temp_str,&quot;960e433c-1295-4aeb-ac84-04d75422119e&quot;,0) == 0)' swap='0' >
									<flowline >
										<command class_type='decision' title='Only add if already enabled' exp='ENABLED' swap='0' >
											<flowline >
												<command class_type='sim' title='Built-in Function' macro='Component.Property.SetValue' >
													<argument exp='.ObjHandle' />
													<argument exp='&quot;Peripheral::sText&quot;' />
													<argument exp='&quot;(SPI CH&quot; + STRING CHANNEL + &quot;)&quot;' />
												</command>
												<command class_type='decision' title='Decision' exp='Injector' swap='0' >
													<flowline >
														<command class_type='sim' title='Component Macro' macro='System.RedirectMacros' >
															<argument exp='LibraryComponent1' />
															<argument exp='.ObjHandle' />
														</command>
														<command class_type='sim' title='Component Macro' component='LibraryComponent1' macro='SetLinkHandle' >
															<argument exp='1' />
															<argument exp='InjectorHandle' />
														</command>
													</flowline>
													<flowline >
														<command class_type='sim' title='Built-in Function' macro='Component.Property.SetValue' >
															<argument exp='.ObjHandle' />
															<argument exp='&quot;OutputIcon::LinkTo&quot;' />
															<argument exp='0' />
														</command>
													</flowline>
												</command>
											</flowline>
											<flowline />
										</command>
										<command class_type='calculation' title='Done' >
											<exp exp='.ObjHandle = 0' />
										</command>
									</flowline>
									<flowline >
										<command class_type='sim' title='Built-in Function' macro='Component.GetNext' >
											<return exp='.ObjHandle' />
											<argument exp='.ObjHandle' />
										</command>
									</flowline>
								</command>
							</flowline>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Ev_AddProperty' description='Sent to a component to allow dynamic amendment of global property declarations' statediag='0' >
						<return name='Return' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='PropName' type='T8' description='The original Flowcode property' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</param>
						<param name='Expansion' type='T8*' description='The expanded string to inline to the code' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</param>
						<local name='DeviceFamily' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='instance' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='Rate' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<command class_type='calculation' title='Calculation' >
							<exp exp='.Return = 1' />
						</command>
						<command class_type='sim' title='Simulation' macro='FCD.GetItemValue' >
							<return exp='.DeviceFamily' />
							<argument exp='&quot;device&quot;' />
							<argument exp='&quot;product&quot;' />
							<argument exp='&quot;&quot;' />
						</command>
						<command class_type='decision' title='Decision' exp='(Compare$ (&quot;ESP&quot;, .DeviceFamily,1) == 0)' swap='0' >
							<flowline >
								<command class_type='decision' title='Decision' exp='Compare$ (.PropName,&quot;PR_SCALE&quot;,0) == 0' swap='0' >
									<flowline >
										<command class_type='sim' title='Simulation' macro='Component.GetInstance' >
											<return exp='.instance' />
											<argument exp='this' />
										</command>
										<command class_type='calculation' title='Calculation' >
											<exp exp='.Expansion = &quot;#define MX_SPI_PR_SCALE_&quot; + STRING .instance + &quot; &quot; + STRING PR_SCALE + &quot;00000\n&quot;' />
										</command>
									</flowline>
									<flowline />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='Decision' exp='(Compare$ (&quot;PICO&quot;, .DeviceFamily,1) == 0)' swap='0' >
							<flowline >
								<command class_type='decision' title='Decision' exp='Compare$ (.PropName,&quot;PR_SCALE&quot;,0) == 0' swap='0' >
									<flowline >
										<command class_type='sim' title='Simulation' macro='Component.GetInstance' >
											<return exp='.instance' />
											<argument exp='this' />
										</command>
										<command class_type='calculation' title='Calculation' >
											<exp exp='.Expansion = &quot;#define MX_SPI_PR_SCALE_&quot; + STRING .instance + &quot; &quot; + STRING PR_SCALE + &quot;00000\n&quot;' />
										</command>
									</flowline>
									<flowline />
								</command>
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Prv_SetupConsole' description='Setup a console for the component' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<local name='str' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='inst' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='ObjectHandle' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='calculation' title='Calculation' >
							<exp exp='.ObjectHandle = this' />
						</command>
						<command class_type='sim' title='Step away from UART CAL' macro='Tree.StepParent' >
							<argument exp='.ObjectHandle' />
						</command>
						<command class_type='sim' title='Get Name Of Current Position' macro='Tree.GetName' >
							<return exp='.str' />
							<argument exp='.ObjectHandle' />
						</command>
						<command class_type='calculation' title='Calculation' >
							<exp exp='.str = .str + &quot; - SPI &quot; + STRING CHANNEL' />
						</command>
						<command class_type='sim' title='Simulation' macro='Console.AddText' >
							<return exp='ConsoleLog' />
							<argument exp='.str' />
							<argument exp='0' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Slave_Init' description='Initialise the Slave' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<command class_type='decision' title='Console Data Enabled?' exp='ConsoleData' swap='0' >
							<flowline >
								<command class_type='call' title='Call Macro' macro='Prv_TextConsole' >
									<argument exp='&quot;Slave_Init()&quot;' />
									<argument exp='0' />
									<argument exp='1' />
								</command>
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Ev_ChipChange' description='Sent when the target device has changed' statediag='0' >
						<return name='Return' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Target' type='T8*' description='The name of the new target device' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</param>
						<command class_type='call' title='Call Macro' macro='Prv_LoadPrescalers' />
						<command class_type='call' title='Call Macro' macro='Prv_LoadChannelList' />
						<command class_type='call' title='Call Macro' macro='Prv_LoadChannelPorts' />
					</flowline>
				</macro>
				<macro >
					<flowline name='Prv_PopulateInjectorFilter' description='' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<local name='ObjHandle' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='RootHandle' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='OldHandle' type='h32' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
						<local name='ObjName' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='CmpName' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='Index' type='u8' description='' isconst='0' isHidden='0' isinit='1' usrinit='1' setinit='1' />
						<local name='X' type='u8' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
						<local name='OldName' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='Idx' type='u8' description='' isconst='0' isHidden='0' isinit='1' usrinit='1' setinit='1' />
						<local name='BailOut' type='u16' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
						<command class_type='sim' title='Clear Filter' macro='Component.Property.SetFilter' >
							<argument exp='this' />
							<argument exp='&quot;Injector&quot;' />
							<argument exp='&quot;&quot;' />
						</command>
						<command class_type='sim' title='Add to Blank property' macro='Component.Property.AddListItem' >
							<argument exp='this' />
							<argument exp='&quot;Injector&quot;' />
							<argument exp='0' />
							<argument exp='&quot;&quot;' />
						</command>
						<command class_type='sim' title='Jump to Parent of Component' macro='Component.GetParent' >
							<return exp='.ObjHandle' />
							<argument exp='this' />
						</command>
						<command class_type='loop' title='Keep jumping to parent until we hit the root' type='0' exp='::Tree .CheckParent (.ObjHandle) &amp;&amp; (.BailOut &lt; 100)' >
							<flowline >
								<command class_type='sim' title='Jump to Parent of Component' macro='Tree.StepParent' >
									<argument exp='.ObjHandle' />
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='.BailOut = .BailOut + 1' />
								</command>
							</flowline>
						</command>
						<command class_type='decision' title='Decision' exp='.Bailout = 100' swap='0' >
							<flowline >
								<command class_type='goto' title='Goto Connection Point' labelid='0' labelname='' />
							</flowline>
							<flowline />
						</command>
						<command class_type='sim' title='Make copy of root object' macro='Tree.GetCopy' >
							<return exp='.RootHandle' />
							<argument exp='.ObjHandle' />
						</command>
						<command class_type='loop' title='Loop through panel items' type='0' exp='(.OldHandle != .ObjHandle) &amp;&amp; (.BailOut &lt; 1000)' >
							<flowline >
								<command class_type='sim' title='Take a copy of the current panel item' macro='Tree.GetCopy' >
									<return exp='.OldHandle' />
									<argument exp='.ObjHandle' />
								</command>
								<command class_type='sim' title='Built-in Function' macro='Component.Property.GetValue' >
									<return exp='.ObjName' />
									<argument exp='.ObjHandle' />
									<argument exp='&quot;APISPI&quot;' />
								</command>
								<command class_type='decision' title='Decision' exp='Length$ (.ObjName)' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' >
											<exp exp='.X = StringToInt$ (.ObjName)' />
											<exp exp='.Index = 0' />
										</command>
										<command class_type='sim' title='Get name of panel item' macro='Tree.GetName' >
											<return exp='.ObjName' />
											<argument exp='.ObjHandle' />
										</command>
										<command class_type='loop' title='Loop' type='0' exp='.Index &lt; .X' >
											<flowline >
												<command class_type='calculation' title='Calculation' >
													<exp exp='.OldName = .ObjName + &quot; SPI CH&quot; + ToString$ (.Index)' />
												</command>
												<command class_type='sim' title='Add to Injector filter property' macro='Component.Property.AddListItem' >
													<argument exp='this' />
													<argument exp='&quot;Injector&quot;' />
													<argument exp='.idx' />
													<argument exp='.OldName' />
												</command>
												<command class_type='calculation' title='Calculation' >
													<exp exp='.Index = .Index + 1' />
													<exp exp='.idx = .idx + 1' />
												</command>
											</flowline>
										</command>
									</flowline>
									<flowline />
								</command>
								<command class_type='sim' title='Move through component tree' macro='Tree.Traverse' >
									<argument exp='.ObjHandle' />
									<argument exp='.RootHandle' />
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='.BailOut = .BailOut + 1' />
								</command>
							</flowline>
						</command>
						<command class_type='label' title='Declare Connection Point' labelid='0' labelname='A' />
					</flowline>
				</macro>
				<macro >
					<flowline name='Master_Disable_CS' description='Outputs a high signal to the chip select pin to deselect the remote slave device.' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<local name='str' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<command class_type='decision' title='SPI Enabled' exp='ENABLED' swap='0' >
							<flowline >
								<command class_type='decision' title='Master Mode?' exp='Mode = 0' swap='0' >
									<flowline >
										<command class_type='decision' title='Auto CS Enabled' exp='UseAutoCS' swap='0' >
											<flowline >
												<command class_type='decision' title='Simulation?' exp='Sim' swap='0' >
													<flowline >
														<command class_type='decision' title='Console Data Enabled?' exp='ConsoleData' swap='0' >
															<flowline >
																<command class_type='calculation' title='Build Console String' >
																	<exp exp='.str = &quot;Master_Disable_CS()&quot;' />
																</command>
																<command class_type='call' title='Call Macro' macro='Prv_TextConsole' >
																	<argument exp='.str' />
																	<argument exp='0' />
																	<argument exp='1' />
																</command>
															</flowline>
															<flowline />
														</command>
														<command class_type='decision' title='Decision' exp='InjectorHandle &gt; 0' swap='0' >
															<flowline >
																<command class_type='sim' title='CS Disabled' component='API_SPI_Dummy1' macro='IOSetOutputPin' >
																	<argument exp='InjectorCS' />
																	<argument exp='1' />
																</command>
															</flowline>
															<flowline />
														</command>
													</flowline>
													<flowline />
												</command>
												<command class_type='calculation' title='CS Pin Disabled' >
													<exp exp='SS = 1 - CSPolarity' />
												</command>
											</flowline>
											<flowline />
										</command>
									</flowline>
									<flowline />
								</command>
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Master_Uninit' description='Uninitialise the Master' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<local name='Dummy' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='str' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<command class_type='decision' title='Console Data Enabled?' exp='ConsoleData' swap='0' >
							<flowline >
								<command class_type='calculation' title='Build Console String' >
									<exp exp='.str = &quot;Master_Uninit()&quot;' />
								</command>
								<command class_type='call' title='Call Macro' macro='Prv_TextConsole' >
									<argument exp='.str' />
									<argument exp='0' />
									<argument exp='1' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='Decision' exp='ScopeTraces' swap='0' >
							<flowline >
								<command class_type='calculation' title='Clock Input State' >
									<exp exp='.Dummy = CLK' />
								</command>
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Master_Byte' description='Sends and receives a data byte' statediag='0' >
						<return name='Return' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='DataOut' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='str' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='TXstr' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='10' />
						</local>
						<local name='RXstr' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='10' />
						</local>
						<command class_type='decision' title='Decision' exp='InjectorHandle &gt; 0' swap='0' >
							<flowline >
								<command class_type='sim' title='Call Component Macro' component='API_SPI_Dummy1' macro='SPITransfer' >
									<return exp='.Return' />
									<argument exp='InjectorChannel' />
									<argument exp='.DataOut' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='Console Data Enabled?' exp='ConsoleData' swap='0' >
							<flowline >
								<command class_type='decision' title='Decision' exp='.DataOut = 10' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' >
											<exp exp='.TXstr[0] = &apos;\\&apos;' />
											<exp exp='.TXstr[1] = &apos;n&apos;' />
											<exp exp='.TXstr[2] = 0' />
											<exp exp='' />
											<exp exp='' />
										</command>
									</flowline>
									<flowline >
										<command class_type='calculation' title='Calculation' >
											<exp exp='.TXstr[0] = .DataOut' />
											<exp exp='.TXstr[1] = 0' />
											<exp exp='' />
											<exp exp='' />
										</command>
									</flowline>
								</command>
								<command class_type='decision' title='Decision' exp='.Return = 10' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' >
											<exp exp='.RXstr[0] = &apos;\\&apos;' />
											<exp exp='.RXstr[1] = &apos;n&apos;' />
											<exp exp='.RXstr[2] = 0' />
											<exp exp='' />
											<exp exp='' />
										</command>
									</flowline>
									<flowline >
										<command class_type='calculation' title='Calculation' >
											<exp exp='.RXstr[0] = .Return' />
											<exp exp='.RXstr[1] = 0' />
										</command>
									</flowline>
								</command>
								<command class_type='calculation' title='Build Console String' >
									<exp exp='.str = &quot;MasterByte( &quot;' />
								</command>
								<command class_type='call' title='Call Macro' macro='Prv_TextConsole' >
									<argument exp='.str' />
									<argument exp='0' />
									<argument exp='1' />
								</command>
								<command class_type='calculation' title='Build Console String' >
									<exp exp='.str = &quot;TX: &apos;&quot; + .TXstr + &quot;&apos; / &quot; + NumberToHex$ (.DataOut) + &quot; / &quot;' />
								</command>
								<command class_type='decision' title='Decision' exp='.DataOut &lt; 10' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' >
											<exp exp='.str = .str + &quot; &quot;' />
										</command>
									</flowline>
									<flowline />
								</command>
								<command class_type='decision' title='Decision' exp='.DataOut &lt; 100' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' >
											<exp exp='.str = .str + &quot; &quot;' />
										</command>
									</flowline>
									<flowline />
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='.str = .str + ToString$ (.DataOut)' />
								</command>
								<command class_type='call' title='Call Macro' macro='Prv_TextConsole' >
									<argument exp='.str' />
									<argument exp='1' />
									<argument exp='0' />
								</command>
								<command class_type='calculation' title='Build Console String' >
									<exp exp='.str = &quot; - &quot;' />
								</command>
								<command class_type='call' title='Call Macro' macro='Prv_TextConsole' >
									<argument exp='.str' />
									<argument exp='0' />
									<argument exp='0' />
								</command>
								<command class_type='calculation' title='Build Console String' >
									<exp exp='.str = &quot;RX: &apos;&quot; + .RXstr + &quot;&apos; / &quot; + NumberToHex$ (.Return) + &quot; / &quot;' />
								</command>
								<command class_type='decision' title='Decision' exp='.Return &lt; 10' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' >
											<exp exp='.str = .str + &quot; &quot;' />
										</command>
									</flowline>
									<flowline />
								</command>
								<command class_type='decision' title='Decision' exp='.Return &lt; 100' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' >
											<exp exp='.str = .str + &quot; &quot;' />
										</command>
									</flowline>
									<flowline />
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='.str = .str + ToString$ (.Return)' />
								</command>
								<command class_type='call' title='Call Macro' macro='Prv_TextConsole' >
									<argument exp='.str' />
									<argument exp='2' />
									<argument exp='0' />
								</command>
								<command class_type='calculation' title='Build Console String' >
									<exp exp='.str = &quot; )&quot;' />
								</command>
								<command class_type='call' title='Call Macro' macro='Prv_TextConsole' >
									<argument exp='.str' />
									<argument exp='0' />
									<argument exp='0' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='Scope Traces Enabled?' exp='ScopeTraces' swap='0' >
							<flowline >
								<command class_type='call' title='Output Waveforms' macro='Prv_SimShowWaveform' >
									<argument exp='.Return' />
									<argument exp='.DataOut' />
								</command>
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='GetChannelList' description='Retrieves the channel list from the FCD for this device' statediag='0' >
						<return name='Return' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;\x00&quot;' setinit='' >
							<array size='2000' />
						</return>
						<local name='x' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='n' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='s' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='fcd_h' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='SPIName' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<command class_type='decision' title='Decision' exp='Compare$ (&quot;SCADA&quot;, ::FCD .GetItemValue (&quot;device&quot;,&quot;product&quot;,&quot;&quot;),0) == 0' swap='0' >
							<flowline >
								<command class_type='sim' title='Set the first item as &quot;Software&quot; channel' component='fcdhelper' macro='GetIntListItem' >
									<return exp='.Return' />
									<argument exp='0' />
									<argument exp='&quot;SPI API Slave&quot;' />
								</command>
								<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
									<argument exp='this' />
									<argument exp='&quot;CHANNEL&quot;' />
									<argument exp='0' />
								</command>
								<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
									<argument exp='this' />
									<argument exp='&quot;ScopeTraces&quot;' />
									<argument exp='0' />
								</command>
							</flowline>
							<flowline >
								<command class_type='decision' title='Decision' exp='Mode = 0' swap='0' >
									<flowline >
										<command class_type='sim' title='Set the first item as &quot;Software&quot; channel' component='fcdhelper' macro='GetIntListItem' >
											<return exp='.Return' />
											<argument exp='0' />
											<argument exp='&quot;Software&quot;' />
										</command>
									</flowline>
									<flowline >
										<command class_type='calculation' title='No Software Mode for Slave' >
											<exp exp='.Return = &quot;&quot;' />
										</command>
									</flowline>
								</command>
								<command class_type='comment' title='' comment='Get the hardware channel list, if any' textarea='245,10,774,10' />
								<command class_type='sim' title='Panel' macro='FCD.GetPathHandle' >
									<return exp='.fcd_h' />
									<argument exp='&quot;device.spi&quot;' />
									<argument exp='0' />
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='.x = 0' />
								</command>
								<command class_type='loop' title='Loop' type='0' exp='.fcd_h' >
									<flowline >
										<command class_type='sim' title='Simulation' macro='Tree.GetSubValue' >
											<return exp='.SPIname' />
											<argument exp='.fcd_h' />
											<argument exp='&quot;name&quot;' />
										</command>
										<command class_type='calculation' title='Calculation' >
											<exp exp='.n = Length$ (.SPIname)' />
										</command>
										<command class_type='sim' title='Simulation' macro='Tree.GetSubValue' >
											<return exp='.s' />
											<argument exp='.fcd_h' />
											<argument exp='&quot;spacer&quot;' />
										</command>
										<command class_type='decision' title='Decision' exp='.s[0] = &apos;1&apos;' swap='0' >
											<flowline >
												<command class_type='calculation' title='Spacer present - just increment counter' >
													<exp exp='.x = .x + 1' />
												</command>
											</flowline>
											<flowline >
												<command class_type='decision' title='Decision' exp='.n &gt; 0' swap='0' >
													<flowline >
														<command class_type='calculation' title='Create the displayed channel string' >
															<exp exp='.x = .x + 1' />
															<exp exp='.s = &quot;Channel &quot; + ToString$ (.x)' />
															<exp exp='.s = .s + &quot; - &quot;' />
															<exp exp='.s = .s + .SPIName' />
														</command>
													</flowline>
													<flowline >
														<command class_type='calculation' title='Create the displayed channel string' >
															<exp exp='.x = .x + 1' />
															<exp exp='.s = &quot;Channel &quot; + ToString$ (.x)' />
														</command>
													</flowline>
												</command>
												<command class_type='sim' title='Construct the list item' component='fcdhelper' macro='GetIntListItem' >
													<return exp='.s' />
													<argument exp='.x' />
													<argument exp='.s' />
												</command>
												<command class_type='calculation' title='Add to result' >
													<exp exp='.Return = .Return + .s' />
												</command>
											</flowline>
										</command>
										<command class_type='sim' title='Simulation' macro='Tree.StepNamedNext' >
											<argument exp='.fcd_h' />
											<argument exp='&quot;spi&quot;' />
										</command>
									</flowline>
								</command>
							</flowline>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='GetConsoleHandle' description='Returns a handle to the console used by this component' statediag='0' >
						<return name='Return' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='calculation' title='Calculation' >
							<exp exp='.Return = ConsoleLog' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Ev_LoadComplete' description='Broadcast after a project has finished loading' statediag='0' >
						<return name='Return' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='Handle' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='RootHandle' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='sim' title='Built-in Function' macro='Component.GetRoot' >
							<return exp='.RootHandle' />
						</command>
						<command class_type='sim' title='Built-in Function' macro='Component.GetParent' >
							<return exp='.Handle' />
							<argument exp='this' />
						</command>
						<command class_type='decision' title='Decision' exp='(.Handle != .RootHandle) &amp;&amp; (this != .RootHandle)' swap='0' >
							<flowline >
								<command class_type='comment' title='' comment='Only fire this when we are in a user project, not a component source.' textarea='12,0,12,0' />
								<command class_type='sim' title='Built-in Function' macro='Component.Property.SetValue' >
									<argument exp='this' />
									<argument exp='&quot;Loading&quot;' />
									<argument exp='0' />
								</command>
								<command class_type='comment' title='' comment='This is a test - to see if we can overcome the initial delay
when dragging on a component.

Test and make sure this doesn&apos;t cause pin corruption for software channels.' textarea='12,0,12,0' />
								<command class_type='call' title='Test' macro='Prv_PopulateInjectorFilter' />
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Slave_TxByte' description='Sets the data to be transmitted to the SPI master.' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<param name='Data' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='str' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<command class_type='decision' title='Decision' exp='InjectorHandle &gt; 0' swap='0' >
							<flowline />
							<flowline />
						</command>
						<command class_type='decision' title='Console Data Enabled?' exp='ConsoleData' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' >
									<exp exp='.str = &quot;Slave_TxByte(&quot; + NumberToHex$ (.Data) + &quot;)&quot;' />
								</command>
								<command class_type='call' title='Call Macro' macro='Prv_TextConsole' >
									<argument exp='.str' />
									<argument exp='1' />
									<argument exp='1' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='Scope Traces Enabled?' exp='ScopeTraces' swap='0' >
							<flowline >
								<command class_type='call' title='Output Waveforms' macro='Prv_SimShowWaveform' >
									<argument exp='0xFF' />
									<argument exp='.Data' />
								</command>
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Ev_FmtPacket' description='Sent when a %e is read in a format string when decoding a packet' statediag='0' >
						<return name='Return' type='u32' description='Non-zero to claim the packet, zero for Flowcode to add a packet automatically' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='StreamH' type='h32' description='The scope being decoded' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='TimeOffset' type='s32' description='The time-reference of the start of the overlay packet' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Duration' type='u32' description='The time duration the packet of the overlay packet' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Data' type='u8' description='The data packet to be decoded' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</param>
						<param name='Bits' type='u32' description='The number of bits (not bytes) in Data[]' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='EventId' type='u32' description='A event identifier to help distinguish decodes' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Result' type='T8*' description='The format string to return' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</param>
						<local name='summary' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<command class_type='calculation' title='Calculation' >
							<exp exp='.summary[0] = &apos; &apos;' />
							<exp exp='.summary[1] = &apos; &apos;' />
							<exp exp='.summary[2] = (.Data[0] &gt;= 0x20 &amp;&amp; .Data[0] &lt; 0x7F) * .Data[0] + ! (.Data[0] &gt;= 0x20 &amp;&amp; .Data[0] &lt; 0x7F) * &apos;.&apos;' />
							<exp exp='.summary[3] = &apos;\0&apos;' />
							<exp exp='.summary = .summary + &quot; - &quot; + NumberToHex$ (.Data[0]) + &quot; - &quot; + STRING (.Data[0]) + &quot;\n&quot;' />
						</command>
						<command class_type='sim' title='Simulation' macro='Console.WriteText' >
							<argument exp='ConsoleDecode' />
							<argument exp='.summary' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Prv_LoadChannelPorts' description='Loads the Port value properties from the FCD for this device' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<local name='Check' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='port' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='pin' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='str' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='name' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='fcd_h' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='pinhandle' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='txrx_h' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='str2' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='SPI_Channel' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='decision' title='Decision' exp='Compare$ (&quot;SCADA&quot;, ::FCD .GetItemValue (&quot;device&quot;,&quot;product&quot;,&quot;&quot;),0) == 0' swap='0' >
							<flowline >
								<command class_type='calculation' title='User Selectable CS' >
									<exp exp='::Component .Property .SetVisible (this,&quot;MOSI&quot;,0)' />
									<exp exp='::Component .Property .SetVisible (this,&quot;MISO&quot;,0)' />
									<exp exp='::Component .Property .SetVisible (this,&quot;CLK&quot;,0)' />
								</command>
								<command class_type='calculation' title='User Selectable CS' >
									<exp exp='::Component .Property .SetVisible (this,&quot;PR_SCALE&quot;,0)' />
									<exp exp='::Component .Property .SetVisible (this,&quot;CKE&quot;,0)' />
									<exp exp='::Component .Property .SetVisible (this,&quot;CKP&quot;,0)' />
									<exp exp='::Component .Property .SetVisible (this,&quot;SMP&quot;,0)' />
								</command>
								<command class_type='calculation' title='User Selectable CS' >
									<exp exp='::Component .Property .SetVisible (this,&quot;SS&quot;,0)' />
								</command>
								<command class_type='sim' title='Simulation' macro='Component.Property.SetVisible' >
									<argument exp='this' />
									<argument exp='&quot;MOSIPins&quot;' />
									<argument exp='0' />
								</command>
								<command class_type='sim' title='Simulation' macro='Component.Property.SetVisible' >
									<argument exp='this' />
									<argument exp='&quot;MISOPins&quot;' />
									<argument exp='0' />
								</command>
								<command class_type='sim' title='Simulation' macro='Component.Property.SetVisible' >
									<argument exp='this' />
									<argument exp='&quot;CLKPins&quot;' />
									<argument exp='0' />
								</command>
							</flowline>
							<flowline >
								<command class_type='comment' title='' comment='Load the PORTS from the FCD
based on Channel number ' textarea='12,0,487,300' />
								<command class_type='calculation' title='User Selectable CS' >
									<exp exp='::Component .Property .SetVisible (this,&quot;MOSI&quot;,1)' />
									<exp exp='::Component .Property .SetVisible (this,&quot;MISO&quot;,1)' />
									<exp exp='::Component .Property .SetVisible (this,&quot;CLK&quot;,1)' />
								</command>
								<command class_type='calculation' title='User Selectable CS' >
									<exp exp='::Component .Property .SetVisible (this,&quot;PR_SCALE&quot;,1)' />
									<exp exp='::Component .Property .SetVisible (this,&quot;CKE&quot;,1)' />
									<exp exp='::Component .Property .SetVisible (this,&quot;CKP&quot;,1)' />
									<exp exp='::Component .Property .SetVisible (this,&quot;SMP&quot;,1)' />
								</command>
								<command class_type='decision' title='Slave Mode ?' exp='Mode' swap='0' >
									<flowline >
										<command class_type='calculation' title='Fixed Hardware Pin' >
											<exp exp='::Component .Property .SetWritable (this,&quot;SS&quot;,0)' />
											<exp exp='::Component .Property .SetVisible (this,&quot;UseAutoCS&quot;,0)' />
											<exp exp='::Component .Property .SetVisible (this,&quot;UseCS&quot;,1)' />
										</command>
										<command class_type='decision' title='Decision' exp='UseCS' swap='0' >
											<flowline >
												<command class_type='calculation' title='User Selectable CS' >
													<exp exp='::Component .Property .SetVisible (this,&quot;SS&quot;,1)' />
												</command>
											</flowline>
											<flowline >
												<command class_type='calculation' title='User Selectable CS' >
													<exp exp='::Component .Property .SetVisible (this,&quot;SS&quot;,0)' />
												</command>
												<command class_type='sim' title='Simulation' macro='Component.Property.GetValue' >
													<return exp='.str' />
													<argument exp='this' />
													<argument exp='&quot;MOSI&quot;' />
												</command>
												<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
													<argument exp='this' />
													<argument exp='&quot;SS&quot;' />
													<argument exp='.str' />
												</command>
											</flowline>
										</command>
									</flowline>
									<flowline >
										<command class_type='calculation' title='Auto CS Functionality' >
											<exp exp='::Component .Property .SetVisible (this,&quot;UseAutoCS&quot;,1)' />
											<exp exp='::Component .Property .SetVisible (this,&quot;UseCS&quot;,0)' />
											<exp exp='::Component .Property .SetWritable (this,&quot;SS&quot;,1)' />
										</command>
										<command class_type='decision' title='Decision' exp='UseAutoCS' swap='0' >
											<flowline >
												<command class_type='calculation' title='User Selectable CS' >
													<exp exp='::Component .Property .SetVisible (this,&quot;SS&quot;,1)' />
												</command>
												<command class_type='calculation' title='User Selectable CS' >
													<exp exp='::Component .Property .SetVisible (this,&quot;CSPolarity&quot;,1)' />
												</command>
											</flowline>
											<flowline >
												<command class_type='calculation' title='User Selectable CS' >
													<exp exp='::Component .Property .SetVisible (this,&quot;SS&quot;,0)' />
												</command>
												<command class_type='calculation' title='User Selectable CS' >
													<exp exp='::Component .Property .SetVisible (this,&quot;CSPolarity&quot;,0)' />
												</command>
											</flowline>
										</command>
									</flowline>
								</command>
								<command class_type='decision' title='Decision' exp='CHANNEL &gt; 0' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' >
											<exp exp='::Component.Property.SetWritable(this,&quot;MOSI&quot;,0)' />
											<exp exp='::Component.Property.SetWritable(this,&quot;MISO&quot;,0)' />
											<exp exp='::Component.Property.SetWritable(this,&quot;CLK&quot;,0)' />
											<exp exp='.SPI_Channel = 1' />
										</command>
										<command class_type='sim' title='Panel' macro='FCD.GetPathHandle' >
											<return exp='.fcd_h' />
											<argument exp='&quot;device.spi&quot;' />
											<argument exp='0' />
										</command>
										<command class_type='decision' title='Decision' exp='.fcd_h' swap='0' >
											<flowline >
												<command class_type='loop' title='Loop' type='0' exp='.SPI_Channel &lt; CHANNEL' >
													<flowline >
														<command class_type='calculation' title='Calculation' >
															<exp exp='.SPI_Channel = .SPI_Channel + 1' />
														</command>
														<command class_type='sim' title='Panel' macro='Tree.StepNamedNext' >
															<argument exp='.fcd_h' />
															<argument exp='&quot;spi&quot;' />
														</command>
													</flowline>
												</command>
												<command class_type='comment' title='' comment='test for remappable' textarea='12,0,12,0' />
												<command class_type='calculation' title='Calculation' >
													<exp exp='::Component .Property .SetValue (this,&quot;REMAPPABLE&quot;, ::Tree .GetSubValue (.fcd_h,&quot;remappable&quot;))' />
													<exp exp='' />
												</command>
												<command class_type='decision' title='Decision' exp='Remappable = 1' swap='0' >
													<flowline >
														<command class_type='comment' title='' comment='PIC8/16 Remappable RP Specific
' textarea='63,20,63,20' />
														<command class_type='sim' title='Simulation' macro='Component.Property.SetVisible' >
															<argument exp='this' />
															<argument exp='&quot;MOSIPins&quot;' />
															<argument exp='1' />
														</command>
														<command class_type='sim' title='Simulation' macro='Component.Property.SetVisible' >
															<argument exp='this' />
															<argument exp='&quot;MISOPins&quot;' />
															<argument exp='1' />
														</command>
														<command class_type='sim' title='Simulation' macro='Component.Property.SetVisible' >
															<argument exp='this' />
															<argument exp='&quot;CLKPins&quot;' />
															<argument exp='1' />
														</command>
														<command class_type='decision' title='Slave Mode' exp='Mode = 1' swap='0' >
															<flowline >
																<command class_type='decision' title='Slave Mode' exp='UseCS' swap='0' >
																	<flowline >
																		<command class_type='sim' title='Simulation' macro='Component.Property.SetVisible' >
																			<argument exp='this' />
																			<argument exp='&quot;SSPins&quot;' />
																			<argument exp='1' />
																		</command>
																	</flowline>
																	<flowline >
																		<command class_type='sim' title='Simulation' macro='Component.Property.SetVisible' >
																			<argument exp='this' />
																			<argument exp='&quot;SSPins&quot;' />
																			<argument exp='0' />
																		</command>
																	</flowline>
																</command>
															</flowline>
															<flowline />
														</command>
														<command class_type='comment' title='' comment='get the rpreg for inputs
' textarea='500,20,500,20' />
														<command class_type='sim' title='Get the child' macro='FCD.GetPathHandle' >
															<return exp='.pinhandle' />
															<argument exp='&quot;miso&quot;' />
															<argument exp='.fcd_h' />
														</command>
														<command class_type='decision' title='If valid' exp='.pinhandle != 0' swap='0' >
															<flowline >
																<command class_type='calculation' title='Calculation' >
																	<exp exp='.str = ::Tree .GetSubValue (.pinhandle,&quot;rpreg&quot;)' />
																</command>
																<command class_type='sim' title='ConvertPort(.port, .pin)' macro='Component.Property.SetValue' >
																	<argument exp='this' />
																	<argument exp='&quot;MISORPREG&quot;' />
																	<argument exp='.str' />
																</command>
																<command class_type='calculation' title='Calculation' >
																	<exp exp='.str = ::Tree .GetSubValue (.pinhandle,&quot;rpbank&quot;)' />
																</command>
																<command class_type='sim' title='ConvertPort(.port, .pin)' macro='Component.Property.SetValue' >
																	<argument exp='this' />
																	<argument exp='&quot;MISOBank&quot;' />
																	<argument exp='.str' />
																</command>
																<command class_type='calculation' title='Calculation' >
																	<exp exp='.str = ::Tree .GetSubValue (.pinhandle,&quot;arpbank&quot;)' />
																</command>
																<command class_type='sim' title='ConvertPort(.port, .pin)' macro='Component.Property.SetValue' >
																	<argument exp='this' />
																	<argument exp='&quot;MISOBank2&quot;' />
																	<argument exp='.str' />
																</command>
															</flowline>
															<flowline />
														</command>
														<command class_type='comment' title='' comment='get the rpnum for outputs' textarea='500,20,500,20' />
														<command class_type='sim' title='Get the child' macro='FCD.GetPathHandle' >
															<return exp='.pinhandle' />
															<argument exp='&quot;mosi&quot;' />
															<argument exp='.fcd_h' />
														</command>
														<command class_type='decision' title='If valid' exp='.pinhandle != 0' swap='0' >
															<flowline >
																<command class_type='calculation' title='Calculation' >
																	<exp exp='.str = ::Tree .GetSubValue (.pinhandle,&quot;rpnum&quot;)' />
																</command>
																<command class_type='sim' title='ConvertPort(.port, .pin)' macro='Component.Property.SetValue' >
																	<argument exp='this' />
																	<argument exp='&quot;MOSIRPNUM&quot;' />
																	<argument exp='.str' />
																</command>
																<command class_type='calculation' title='Calculation' >
																	<exp exp='.str = ::Tree .GetSubValue (.pinhandle,&quot;rpbank&quot;)' />
																</command>
																<command class_type='sim' title='ConvertPort(.port, .pin)' macro='Component.Property.SetValue' >
																	<argument exp='this' />
																	<argument exp='&quot;MOSIBank&quot;' />
																	<argument exp='.str' />
																</command>
																<command class_type='calculation' title='Calculation' >
																	<exp exp='.str = ::Tree .GetSubValue (.pinhandle,&quot;arpbank&quot;)' />
																</command>
																<command class_type='sim' title='ConvertPort(.port, .pin)' macro='Component.Property.SetValue' >
																	<argument exp='this' />
																	<argument exp='&quot;MOSIBank2&quot;' />
																	<argument exp='.str' />
																</command>
															</flowline>
															<flowline />
														</command>
														<command class_type='sim' title='Get the child' macro='FCD.GetPathHandle' >
															<return exp='.pinhandle' />
															<argument exp='&quot;clk&quot;' />
															<argument exp='.fcd_h' />
														</command>
														<command class_type='decision' title='If valid' exp='.pinhandle != 0' swap='0' >
															<flowline >
																<command class_type='decision' title='Master Mode?' exp='Mode = 0' swap='0' >
																	<flowline >
																		<command class_type='calculation' title='Calculation' >
																			<exp exp='.str = ::Tree .GetSubValue (.pinhandle,&quot;rpnum&quot;)' />
																		</command>
																		<command class_type='sim' title='ConvertPort(.port, .pin)' macro='Component.Property.SetValue' >
																			<argument exp='this' />
																			<argument exp='&quot;CLKRPNUM&quot;' />
																			<argument exp='.str' />
																		</command>
																	</flowline>
																	<flowline >
																		<command class_type='calculation' title='Calculation' >
																			<exp exp='.str = ::Tree .GetSubValue (.pinhandle,&quot;rpreg&quot;)' />
																		</command>
																		<command class_type='sim' title='ConvertPort(.port, .pin)' macro='Component.Property.SetValue' >
																			<argument exp='this' />
																			<argument exp='&quot;CLKRPREG&quot;' />
																			<argument exp='.str' />
																		</command>
																	</flowline>
																</command>
																<command class_type='calculation' title='Calculation' >
																	<exp exp='.str = ::Tree .GetSubValue (.pinhandle,&quot;rpbank&quot;)' />
																</command>
																<command class_type='sim' title='ConvertPort(.port, .pin)' macro='Component.Property.SetValue' >
																	<argument exp='this' />
																	<argument exp='&quot;CLKBank&quot;' />
																	<argument exp='.str' />
																</command>
																<command class_type='calculation' title='Calculation' >
																	<exp exp='.str = ::Tree .GetSubValue (.pinhandle,&quot;arpbank&quot;)' />
																</command>
																<command class_type='sim' title='ConvertPort(.port, .pin)' macro='Component.Property.SetValue' >
																	<argument exp='this' />
																	<argument exp='&quot;CLKBank2&quot;' />
																	<argument exp='.str' />
																</command>
															</flowline>
															<flowline />
														</command>
														<command class_type='sim' title='Get the child' macro='FCD.GetPathHandle' >
															<return exp='.pinhandle' />
															<argument exp='&quot;ss&quot;' />
															<argument exp='.fcd_h' />
														</command>
														<command class_type='decision' title='If valid' exp='.pinhandle != 0' swap='0' >
															<flowline >
																<command class_type='calculation' title='Calculation' >
																	<exp exp='.str = ::Tree .GetSubValue (.pinhandle,&quot;rpbank&quot;)' />
																</command>
																<command class_type='sim' title='ConvertPort(.port, .pin)' macro='Component.Property.SetValue' >
																	<argument exp='this' />
																	<argument exp='&quot;SSBank&quot;' />
																	<argument exp='.str' />
																</command>
																<command class_type='calculation' title='Calculation' >
																	<exp exp='.str = ::Tree .GetSubValue (.pinhandle,&quot;arpbank&quot;)' />
																</command>
																<command class_type='sim' title='ConvertPort(.port, .pin)' macro='Component.Property.SetValue' >
																	<argument exp='this' />
																	<argument exp='&quot;SSBank2&quot;' />
																	<argument exp='.str' />
																</command>
																<command class_type='calculation' title='Calculation' >
																	<exp exp='.str = ::Tree .GetSubValue (.pinhandle,&quot;rpreg&quot;)' />
																</command>
																<command class_type='sim' title='ConvertPort(.port, .pin)' macro='Component.Property.SetValue' >
																	<argument exp='this' />
																	<argument exp='&quot;SSRPREG&quot;' />
																	<argument exp='.str' />
																</command>
															</flowline>
															<flowline />
														</command>
														<command class_type='call' title='Call Macro' macro='ParseRemapPins' />
														<command class_type='sim' title='Simulation' macro='Component.Property.GetValue' >
															<return exp='.str' />
															<argument exp='this' />
															<argument exp='&quot;MOSIPins&quot;' />
														</command>
														<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
															<argument exp='this' />
															<argument exp='&quot;MOSIReg&quot;' />
															<argument exp='.str' />
														</command>
														<command class_type='sim' title='Simulation' macro='Component.Property.GetListItem' >
															<return exp='.str' />
															<argument exp='this' />
															<argument exp='&quot;MOSIPins&quot;' />
															<argument exp='.str' />
														</command>
														<command class_type='decision' title='Search for space' exp='Contains$(.str,&quot; &quot;,0)' swap='0' >
															<flowline >
																<command class_type='calculation' title='Calculation' >
																	<exp exp='.Check = Contains$(.str,&quot; &quot;,0)' />
																	<exp exp='.str = Left$(.Str,.Check)' />
																</command>
															</flowline>
															<flowline />
														</command>
														<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
															<argument exp='this' />
															<argument exp='&quot;MOSI&quot;' />
															<argument exp='.str' />
														</command>
														<command class_type='sim' title='Simulation' macro='Component.Property.GetValue' >
															<return exp='.str' />
															<argument exp='this' />
															<argument exp='&quot;CLKPins&quot;' />
														</command>
														<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
															<argument exp='this' />
															<argument exp='&quot;CLKReg&quot;' />
															<argument exp='.str' />
														</command>
														<command class_type='sim' title='Simulation' macro='Component.Property.GetListItem' >
															<return exp='.str' />
															<argument exp='this' />
															<argument exp='&quot;CLKPins&quot;' />
															<argument exp='.str' />
														</command>
														<command class_type='decision' title='Search for space' exp='Contains$(.str,&quot; &quot;,0)' swap='0' >
															<flowline >
																<command class_type='calculation' title='Calculation' >
																	<exp exp='.Check = Contains$(.str,&quot; &quot;,0)' />
																	<exp exp='.str = Left$(.Str,.Check)' />
																</command>
															</flowline>
															<flowline />
														</command>
														<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
															<argument exp='this' />
															<argument exp='&quot;CLK&quot;' />
															<argument exp='.str' />
														</command>
														<command class_type='sim' title='Simulation' macro='Component.Property.GetValue' >
															<return exp='.str' />
															<argument exp='this' />
															<argument exp='&quot;MISOPins&quot;' />
														</command>
														<command class_type='sim' title='Simulation' macro='Component.Property.GetListItem' >
															<return exp='.str' />
															<argument exp='this' />
															<argument exp='&quot;MISOPins&quot;' />
															<argument exp='.str' />
														</command>
														<command class_type='decision' title='Search for space' exp='Contains$(.str,&quot; &quot;,0)' swap='0' >
															<flowline >
																<command class_type='calculation' title='Calculation' >
																	<exp exp='.Check = Contains$(.str,&quot; &quot;,0)' />
																	<exp exp='.str = Left$(.Str,.Check)' />
																</command>
															</flowline>
															<flowline />
														</command>
														<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
															<argument exp='this' />
															<argument exp='&quot;MISO&quot;' />
															<argument exp='.str' />
														</command>
														<command class_type='decision' title='Slave Mode?' exp='Mode = 1' swap='0' >
															<flowline >
																<command class_type='sim' title='Simulation' macro='Component.Property.GetValue' >
																	<return exp='.str' />
																	<argument exp='this' />
																	<argument exp='&quot;SSPins&quot;' />
																</command>
																<command class_type='sim' title='Simulation' macro='Component.Property.GetListItem' >
																	<return exp='.str' />
																	<argument exp='this' />
																	<argument exp='&quot;SSPins&quot;' />
																	<argument exp='.str' />
																</command>
																<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
																	<argument exp='this' />
																	<argument exp='&quot;SS&quot;' />
																	<argument exp='.str' />
																</command>
															</flowline>
															<flowline />
														</command>
													</flowline>
													<flowline >
														<command class_type='decision' title='Decision' exp='Remappable = 2' swap='0' >
															<flowline >
																<command class_type='comment' title='' comment='PIC32 Remappable RP Specific
' textarea='63,20,63,20' />
																<command class_type='sim' title='Simulation' macro='Component.Property.SetVisible' >
																	<argument exp='this' />
																	<argument exp='&quot;MOSIPins&quot;' />
																	<argument exp='1' />
																</command>
																<command class_type='sim' title='Simulation' macro='Component.Property.SetVisible' >
																	<argument exp='this' />
																	<argument exp='&quot;MISOPins&quot;' />
																	<argument exp='1' />
																</command>
																<command class_type='call' title='Call Macro' textarea='103,21,103,21' macro='Prv_LoadPortString' >
																	<argument exp='.fcd_h' />
																	<argument exp='&quot;clk&quot;' />
																</command>
																<command class_type='comment' title='' comment='get the rpreg for inputs
' textarea='500,20,500,20' />
																<command class_type='sim' title='Get the child' macro='FCD.GetPathHandle' >
																	<return exp='.pinhandle' />
																	<argument exp='&quot;miso&quot;' />
																	<argument exp='.fcd_h' />
																</command>
																<command class_type='decision' title='If valid' exp='.pinhandle != 0' swap='0' >
																	<flowline >
																		<command class_type='calculation' title='Calculation' >
																			<exp exp='.str = ::Tree .GetSubValue (.pinhandle,&quot;rpreg&quot;)' />
																		</command>
																		<command class_type='sim' title='ConvertPort(.port, .pin)' macro='Component.Property.SetValue' >
																			<argument exp='this' />
																			<argument exp='&quot;MISORPREG&quot;' />
																			<argument exp='.str' />
																		</command>
																		<command class_type='calculation' title='Calculation' >
																			<exp exp='.str = ::Tree .GetSubValue (.pinhandle,&quot;rpbank&quot;)' />
																		</command>
																		<command class_type='sim' title='ConvertPort(.port, .pin)' macro='Component.Property.SetValue' >
																			<argument exp='this' />
																			<argument exp='&quot;MISOBank&quot;' />
																			<argument exp='.str' />
																		</command>
																		<command class_type='sim' title='ConvertPort(.port, .pin)' macro='Component.Property.SetValue' >
																			<argument exp='this' />
																			<argument exp='&quot;MISOBank2&quot;' />
																			<argument exp='&quot;x&quot;' />
																		</command>
																	</flowline>
																	<flowline />
																</command>
																<command class_type='comment' title='' comment='get the rpnum for outputs' textarea='500,20,500,20' />
																<command class_type='sim' title='Get the child' macro='FCD.GetPathHandle' >
																	<return exp='.pinhandle' />
																	<argument exp='&quot;mosi&quot;' />
																	<argument exp='.fcd_h' />
																</command>
																<command class_type='decision' title='If valid' exp='.pinhandle != 0' swap='0' >
																	<flowline >
																		<command class_type='calculation' title='Calculation' >
																			<exp exp='.str2 = ::Tree .GetSubValue (.pinhandle,&quot;rpnum&quot;)' />
																		</command>
																		<command class_type='sim' title='ConvertPort(.port, .pin)' macro='Component.Property.SetValue' >
																			<argument exp='this' />
																			<argument exp='&quot;MOSIRPNUM&quot;' />
																			<argument exp='.str2' />
																		</command>
																		<command class_type='calculation' title='Calculation' >
																			<exp exp='.str = ::Tree .GetSubValue (.pinhandle,&quot;rpbank&quot;)' />
																		</command>
																		<command class_type='sim' title='ConvertPort(.port, .pin)' macro='Component.Property.SetValue' >
																			<argument exp='this' />
																			<argument exp='&quot;MOSIBank&quot;' />
																			<argument exp='.str' />
																		</command>
																		<command class_type='calculation' title='Calculation' >
																			<exp exp='.str = ::Tree .GetSubValue (.pinhandle,&quot;arpnum&quot;)' />
																		</command>
																		<command class_type='decision' title='Decision' exp='Compare$ (.str, .str2,0) == 0' swap='0' >
																			<flowline >
																				<command class_type='calculation' title='Calculation' >
																					<exp exp='.str = ::Tree .GetSubValue (.pinhandle,&quot;arpbank&quot;)' />
																				</command>
																				<command class_type='sim' title='ConvertPort(.port, .pin)' macro='Component.Property.SetValue' >
																					<argument exp='this' />
																					<argument exp='&quot;MOSIBank2&quot;' />
																					<argument exp='.str' />
																				</command>
																			</flowline>
																			<flowline >
																				<command class_type='sim' title='ConvertPort(.port, .pin)' macro='Component.Property.SetValue' >
																					<argument exp='this' />
																					<argument exp='&quot;MOSIBank2&quot;' />
																					<argument exp='&quot;x&quot;' />
																				</command>
																			</flowline>
																		</command>
																	</flowline>
																	<flowline />
																</command>
																<command class_type='call' title='Call Macro' macro='ParseRemapPins' />
																<command class_type='sim' title='Simulation' macro='Component.Property.GetValue' >
																	<return exp='.str' />
																	<argument exp='this' />
																	<argument exp='&quot;MOSIPins&quot;' />
																</command>
																<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
																	<argument exp='this' />
																	<argument exp='&quot;MOSIReg&quot;' />
																	<argument exp='.str' />
																</command>
																<command class_type='sim' title='Simulation' macro='Component.Property.GetListItem' >
																	<return exp='.str' />
																	<argument exp='this' />
																	<argument exp='&quot;MOSIPins&quot;' />
																	<argument exp='.str' />
																</command>
																<command class_type='decision' title='Search for space' exp='Contains$(.str,&quot; &quot;,0)' swap='0' >
																	<flowline >
																		<command class_type='calculation' title='Calculation' >
																			<exp exp='.Check = Contains$(.str,&quot; &quot;,0)' />
																			<exp exp='.str = Left$(.Str,.Check)' />
																		</command>
																	</flowline>
																	<flowline />
																</command>
																<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
																	<argument exp='this' />
																	<argument exp='&quot;MOSI&quot;' />
																	<argument exp='.str' />
																</command>
																<command class_type='sim' title='Simulation' macro='Component.Property.GetValue' >
																	<return exp='.str' />
																	<argument exp='this' />
																	<argument exp='&quot;MISOPins&quot;' />
																</command>
																<command class_type='sim' title='Simulation' macro='Component.Property.GetListItem' >
																	<return exp='.str' />
																	<argument exp='this' />
																	<argument exp='&quot;MISOPins&quot;' />
																	<argument exp='.str' />
																</command>
																<command class_type='decision' title='Search for space' exp='Contains$(.str,&quot; &quot;,0)' swap='0' >
																	<flowline >
																		<command class_type='calculation' title='Calculation' >
																			<exp exp='.Check = Contains$(.str,&quot; &quot;,0)' />
																			<exp exp='.str = Left$(.Str,.Check)' />
																		</command>
																	</flowline>
																	<flowline />
																</command>
																<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
																	<argument exp='this' />
																	<argument exp='&quot;MISO&quot;' />
																	<argument exp='.str' />
																</command>
																<command class_type='decision' title='Decision' exp='Sorted = 0' swap='0' >
																	<flowline >
																		<command class_type='sim' title='Built-in Function' macro='System.TimerStart' >
																			<argument exp='101' />
																			<argument exp='10000' />
																		</command>
																	</flowline>
																	<flowline />
																</command>
															</flowline>
															<flowline >
																<command class_type='decision' title='Decision' exp='Remappable = 3' swap='0' >
																	<flowline >
																		<command class_type='comment' title='' comment='STARM Remappable RP Specific
' textarea='63,20,63,20' />
																		<command class_type='calculation' title='Calculation' >
																			<exp exp='::Component .Property .SetValue (this,&quot;SPIName&quot;, ::Tree .GetSubValue (.fcd_h,&quot;name&quot;))' />
																			<exp exp='' />
																		</command>
																		<command class_type='sim' title='Simulation' macro='Component.Property.SetVisible' >
																			<argument exp='this' />
																			<argument exp='&quot;MOSIPins&quot;' />
																			<argument exp='1' />
																		</command>
																		<command class_type='sim' title='Simulation' macro='Component.Property.SetVisible' >
																			<argument exp='this' />
																			<argument exp='&quot;MISOPins&quot;' />
																			<argument exp='1' />
																		</command>
																		<command class_type='sim' title='Simulation' macro='Component.Property.SetVisible' >
																			<argument exp='this' />
																			<argument exp='&quot;CLKPins&quot;' />
																			<argument exp='1' />
																		</command>
																		<command class_type='sim' title='Simulation' macro='Component.Property.SetFilter' >
																			<argument exp='this' />
																			<argument exp='&quot;MOSIPins&quot;' />
																			<argument exp='&quot;&quot;' />
																		</command>
																		<command class_type='sim' title='Simulation' macro='Component.Property.SetFilter' >
																			<argument exp='this' />
																			<argument exp='&quot;MISOPins&quot;' />
																			<argument exp='&quot;&quot;' />
																		</command>
																		<command class_type='sim' title='Simulation' macro='Component.Property.SetFilter' >
																			<argument exp='this' />
																			<argument exp='&quot;CLKPins&quot;' />
																			<argument exp='&quot;&quot;' />
																		</command>
																		<command class_type='sim' title='Simulation' macro='Component.Property.SetFilter' >
																			<argument exp='this' />
																			<argument exp='&quot;MOSIReg&quot;' />
																			<argument exp='&quot;&quot;' />
																		</command>
																		<command class_type='sim' title='Simulation' macro='Component.Property.SetFilter' >
																			<argument exp='this' />
																			<argument exp='&quot;MISOReg&quot;' />
																			<argument exp='&quot;&quot;' />
																		</command>
																		<command class_type='sim' title='Simulation' macro='Component.Property.SetFilter' >
																			<argument exp='this' />
																			<argument exp='&quot;CLKREG&quot;' />
																			<argument exp='&quot;&quot;' />
																		</command>
																		<command class_type='comment' title='' comment='get the remap pins for MISO' textarea='57,13,57,13' />
																		<command class_type='sim' title='Get the child' macro='FCD.GetPathHandle' >
																			<return exp='.txrx_h' />
																			<argument exp='&quot;miso&quot;' />
																			<argument exp='.fcd_h' />
																		</command>
																		<command class_type='decision' title='If valid' exp='.txrx_h != 0' swap='0' >
																			<flowline >
																				<command class_type='call' title='Call Macro' macro='ParseSTRemapPins' >
																					<argument exp='.txrx_h' />
																					<argument exp='1' />
																				</command>
																			</flowline>
																			<flowline />
																		</command>
																		<command class_type='comment' title='' comment='get the remap pins for MOSI' textarea='103,23,103,23' />
																		<command class_type='sim' title='Get the child' macro='FCD.GetPathHandle' >
																			<return exp='.txrx_h' />
																			<argument exp='&quot;mosi&quot;' />
																			<argument exp='.fcd_h' />
																		</command>
																		<command class_type='decision' title='If valid' exp='.txrx_h != 0' swap='0' >
																			<flowline >
																				<command class_type='call' title='Call Macro' macro='ParseSTRemapPins' >
																					<argument exp='.txrx_h' />
																					<argument exp='0' />
																				</command>
																			</flowline>
																			<flowline />
																		</command>
																		<command class_type='comment' title='' comment='get the remap pins for CLK' textarea='103,23,103,23' />
																		<command class_type='sim' title='Get the child' macro='FCD.GetPathHandle' >
																			<return exp='.txrx_h' />
																			<argument exp='&quot;clk&quot;' />
																			<argument exp='.fcd_h' />
																		</command>
																		<command class_type='decision' title='If valid' exp='.txrx_h != 0' swap='0' >
																			<flowline >
																				<command class_type='call' title='Call Macro' macro='ParseSTRemapPins' >
																					<argument exp='.txrx_h' />
																					<argument exp='2' />
																				</command>
																			</flowline>
																			<flowline />
																		</command>
																		<command class_type='sim' title='Simulation' macro='Component.Property.GetValue' >
																			<return exp='.str' />
																			<argument exp='this' />
																			<argument exp='&quot;MOSIPins&quot;' />
																		</command>
																		<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
																			<argument exp='this' />
																			<argument exp='&quot;MOSIReg&quot;' />
																			<argument exp='.str' />
																		</command>
																		<command class_type='sim' title='Simulation' macro='Component.Property.GetListItem' >
																			<return exp='.str' />
																			<argument exp='this' />
																			<argument exp='&quot;MOSIPins&quot;' />
																			<argument exp='.str' />
																		</command>
																		<command class_type='decision' title='Search for space' exp='Contains$(.str,&quot; &quot;,0)' swap='0' >
																			<flowline >
																				<command class_type='calculation' title='Calculation' >
																					<exp exp='.Check = Contains$(.str,&quot; &quot;,0)' />
																					<exp exp='.str = Left$(.Str,.Check)' />
																				</command>
																			</flowline>
																			<flowline />
																		</command>
																		<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
																			<argument exp='this' />
																			<argument exp='&quot;MOSI&quot;' />
																			<argument exp='.str' />
																		</command>
																		<command class_type='sim' title='Simulation' macro='Component.Property.GetValue' >
																			<return exp='.str' />
																			<argument exp='this' />
																			<argument exp='&quot;CLKPins&quot;' />
																		</command>
																		<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
																			<argument exp='this' />
																			<argument exp='&quot;CLKReg&quot;' />
																			<argument exp='.str' />
																		</command>
																		<command class_type='sim' title='Simulation' macro='Component.Property.GetListItem' >
																			<return exp='.str' />
																			<argument exp='this' />
																			<argument exp='&quot;CLKPins&quot;' />
																			<argument exp='.str' />
																		</command>
																		<command class_type='decision' title='Search for space' exp='Contains$(.str,&quot; &quot;,0)' swap='0' >
																			<flowline >
																				<command class_type='calculation' title='Calculation' >
																					<exp exp='.Check = Contains$(.str,&quot; &quot;,0)' />
																					<exp exp='.str = Left$(.Str,.Check)' />
																				</command>
																			</flowline>
																			<flowline />
																		</command>
																		<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
																			<argument exp='this' />
																			<argument exp='&quot;CLK&quot;' />
																			<argument exp='.str' />
																		</command>
																		<command class_type='sim' title='Simulation' macro='Component.Property.GetValue' >
																			<return exp='.str' />
																			<argument exp='this' />
																			<argument exp='&quot;MISOPins&quot;' />
																		</command>
																		<command class_type='sim' title='Simulation' macro='Component.Property.GetListItem' >
																			<return exp='.str' />
																			<argument exp='this' />
																			<argument exp='&quot;MISOPins&quot;' />
																			<argument exp='.str' />
																		</command>
																		<command class_type='decision' title='Search for space' exp='Contains$(.str,&quot; &quot;,0)' swap='0' >
																			<flowline >
																				<command class_type='calculation' title='Calculation' >
																					<exp exp='.Check = Contains$(.str,&quot; &quot;,0)' />
																					<exp exp='.str = Left$(.Str,.Check)' />
																				</command>
																			</flowline>
																			<flowline />
																		</command>
																		<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
																			<argument exp='this' />
																			<argument exp='&quot;MISO&quot;' />
																			<argument exp='.str' />
																		</command>
																	</flowline>
																	<flowline >
																		<command class_type='sim' title='Simulation' macro='Component.Property.SetVisible' >
																			<argument exp='this' />
																			<argument exp='&quot;MOSIPins&quot;' />
																			<argument exp='0' />
																		</command>
																		<command class_type='sim' title='Simulation' macro='Component.Property.SetVisible' >
																			<argument exp='this' />
																			<argument exp='&quot;MISOPins&quot;' />
																			<argument exp='0' />
																		</command>
																		<command class_type='sim' title='Simulation' macro='Component.Property.SetVisible' >
																			<argument exp='this' />
																			<argument exp='&quot;CLKPins&quot;' />
																			<argument exp='0' />
																		</command>
																		<command class_type='sim' title='Simulation' macro='Component.Property.SetVisible' >
																			<argument exp='this' />
																			<argument exp='&quot;SSPins&quot;' />
																			<argument exp='0' />
																		</command>
																		<command class_type='comment' title='' comment='get the port and pin for miso mosi clk' textarea='103,21,103,21' />
																		<command class_type='call' title='Call Macro' textarea='103,21,103,21' macro='Prv_LoadPortString' >
																			<argument exp='.fcd_h' />
																			<argument exp='&quot;miso&quot;' />
																		</command>
																		<command class_type='call' title='Call Macro' textarea='103,21,103,21' macro='Prv_LoadPortString' >
																			<argument exp='.fcd_h' />
																			<argument exp='&quot;mosi&quot;' />
																		</command>
																		<command class_type='call' title='Call Macro' textarea='103,21,103,21' macro='Prv_LoadPortString' >
																			<argument exp='.fcd_h' />
																			<argument exp='&quot;clk&quot;' />
																		</command>
																		<command class_type='decision' title='Slave Mode Only' exp='(Mode = 1) &amp;&amp; (UseCS)' swap='0' >
																			<flowline >
																				<command class_type='call' title='Call Macro' textarea='103,21,103,21' macro='Prv_LoadPortString' >
																					<argument exp='.fcd_h' />
																					<argument exp='&quot;ss&quot;' />
																				</command>
																			</flowline>
																			<flowline >
																				<command class_type='calculation' title='Alt SS Pin disabled' >
																					<exp exp='::Component .Property .SetVisible (this,&quot;AltSSPin&quot;,0)' />
																				</command>
																				<command class_type='calculation' title='Alt SS Pin disabled' >
																					<exp exp='::Component .Property .SetValue (this,&quot;AltSSPin&quot;,0)' />
																				</command>
																			</flowline>
																		</command>
																	</flowline>
																</command>
															</flowline>
														</command>
													</flowline>
												</command>
											</flowline>
											<flowline />
										</command>
									</flowline>
									<flowline >
										<command class_type='calculation' title='Calculation' >
											<exp exp='::Component .Property .SetWritable (this,&quot;MOSI&quot;,1)' />
											<exp exp='::Component .Property .SetWritable (this,&quot;MISO&quot;,1)' />
											<exp exp='::Component .Property .SetWritable (this,&quot;CLK&quot;,1)' />
											<exp exp='' />
										</command>
										<command class_type='sim' title='Simulation' macro='Component.Property.SetVisible' >
											<argument exp='this' />
											<argument exp='&quot;MOSIPins&quot;' />
											<argument exp='0' />
										</command>
										<command class_type='sim' title='Simulation' macro='Component.Property.SetVisible' >
											<argument exp='this' />
											<argument exp='&quot;MISOPins&quot;' />
											<argument exp='0' />
										</command>
										<command class_type='sim' title='Simulation' macro='Component.Property.SetVisible' >
											<argument exp='this' />
											<argument exp='&quot;CLKPins&quot;' />
											<argument exp='0' />
										</command>
									</flowline>
								</command>
							</flowline>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Prv_ConvertPort' description='' statediag='0' >
						<return name='Return' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;\x00&quot;' setinit='' >
							<array size='2000' />
						</return>
						<param name='port' type='T8*' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</param>
						<param name='pin' type='T8*' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</param>
						<local name='n' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='p' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<command class_type='calculation' title='Calculation' >
							<exp exp='.n = StringToInt$ (.port)' />
						</command>
						<command class_type='switch' title='Switch' textarea='36,25,36,25' exp='.n' >
							<case >
								<flowline >
									<command class_type='block' title='' hide='1' start='1' />
									<command class_type='block' title='' hide='1' start='0' />
									<command class_type='calculation' title='Calculation' >
										<exp exp='.p = &quot;A&quot;' />
									</command>
								</flowline>
							</case>
							<case exp='1' >
								<flowline >
									<command class_type='block' title='' hide='1' start='1' />
									<command class_type='block' title='' hide='1' start='0' />
									<command class_type='calculation' title='Calculation' >
										<exp exp='.p = &quot;B&quot;' />
									</command>
								</flowline>
							</case>
							<case exp='2' >
								<flowline >
									<command class_type='block' title='' hide='1' start='1' />
									<command class_type='block' title='' hide='1' start='0' />
									<command class_type='calculation' title='Calculation' >
										<exp exp='.p = &quot;C&quot;' />
									</command>
								</flowline>
							</case>
							<case exp='3' >
								<flowline >
									<command class_type='block' title='' hide='1' start='1' />
									<command class_type='block' title='' hide='1' start='0' />
									<command class_type='calculation' title='Calculation' >
										<exp exp='.p = &quot;D&quot;' />
									</command>
								</flowline>
							</case>
							<case exp='4' >
								<flowline >
									<command class_type='block' title='' hide='1' start='1' />
									<command class_type='block' title='' hide='1' start='0' />
									<command class_type='calculation' title='Calculation' >
										<exp exp='.p = &quot;E&quot;' />
									</command>
								</flowline>
							</case>
							<case exp='5' >
								<flowline >
									<command class_type='block' title='' hide='1' start='1' />
									<command class_type='block' title='' hide='1' start='0' />
									<command class_type='calculation' title='Calculation' >
										<exp exp='.p = &quot;F&quot;' />
									</command>
								</flowline>
							</case>
							<case exp='6' >
								<flowline >
									<command class_type='calculation' title='Calculation' >
										<exp exp='.p = &quot;G&quot;' />
									</command>
								</flowline>
							</case>
							<case exp='7' >
								<flowline >
									<command class_type='calculation' title='Calculation' >
										<exp exp='.p = &quot;H&quot;' />
									</command>
								</flowline>
							</case>
							<case exp='8' >
								<flowline >
									<command class_type='calculation' title='Calculation' >
										<exp exp='.p = &quot;J&quot;' />
									</command>
								</flowline>
							</case>
							<case exp='9' >
								<flowline >
									<command class_type='calculation' title='Calculation' >
										<exp exp='.p = &quot;K&quot;' />
									</command>
								</flowline>
							</case>
						</command>
						<command class_type='calculation' title='Calculation' >
							<exp exp='.Return = &quot;$PORT&quot; + .p + &quot;.&quot; + .pin' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Slave_RxByte' description='Returns the data received from the SPI Master' statediag='0' >
						<return name='Return' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='temp' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<command class_type='decision' title='Decision' exp='InjectorHandle &gt; 0' swap='0' >
							<flowline />
							<flowline />
						</command>
						<command class_type='decision' title='Console Data Enabled?' exp='ConsoleData' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' >
									<exp exp='.temp = ToString$ (.Return) + &quot; = Slave_RxByte()&quot;' />
								</command>
								<command class_type='call' title='Call Macro' macro='Prv_TextConsole' >
									<argument exp='.temp' />
									<argument exp='2' />
									<argument exp='1' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='Scope Traces Enabled?' exp='ScopeTraces' swap='0' >
							<flowline >
								<command class_type='call' title='Output Waveforms' macro='Prv_SimShowWaveform' >
									<argument exp='.Return' />
									<argument exp='0xFF' />
								</command>
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='SetValue' description='Change Named property to new Value. 
' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<param name='Name' type='T8*' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</param>
						<param name='Value' type='T8*' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</param>
						<command class_type='comment' title='' comment='This should now be largely unused as we expose properties now instead of copying values back and forth' textarea='12,0,12,0' />
						<command class_type='decision' title='Decision' exp='(Compare$ (.Name,&quot;ENABLED&quot;,1) = 0) OR (Compare$ (.Name,&quot;MOSI&quot;,1) = 0) OR (Compare$ (.Name,&quot;MISO&quot;,1) = 0) OR (Compare$ (.Name,&quot;CLK&quot;,1) = 0) OR (Compare$ (.Name,&quot;SS&quot;,1) = 0) OR (Compare$ (.Name,&quot;PR_SCALE&quot;,1) = 0) OR (Compare$ (.Name,&quot;CKP&quot;,1) = 0) OR (Compare$ (.Name,&quot;CKE&quot;,1) = 0) OR (Compare$ (.Name,&quot;SMP&quot;,1) = 0) OR (Compare$ (.Name,&quot;MOSIPins&quot;,1) = 0) OR (Compare$ (.Name,&quot;MISOPins&quot;,1) = 0) OR (Compare$ (.Name,&quot;CLKPins&quot;,1) = 0)' swap='0' >
							<flowline >
								<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
									<argument exp='this' />
									<argument exp='.Name' />
									<argument exp='.Value' />
								</command>
								<command class_type='call' title='Call Macro' disable='1' macro='Ev_Property_Change' />
							</flowline>
							<flowline >
								<command class_type='decision' title='Decision' exp='Compare$ (.Name,&quot;CHANNEL&quot;,1) = 0' swap='0' >
									<flowline >
										<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
											<argument exp='this' />
											<argument exp='.Name' />
											<argument exp='.Value' />
										</command>
										<command class_type='call' title='Call Macro' disable='1' macro='Prv_LoadChannelPorts' />
									</flowline>
									<flowline >
										<command class_type='sim' title='Call Macro' macro='Debug.PrintLn' >
											<argument exp='&quot;SetValue(&quot; + .Name + &quot;) not valid. Use CHANNEL, MOSI, MISO, CLK, SS, PR_SCALE, CKP, CKE or SMP&quot;' />
										</command>
									</flowline>
								</command>
							</flowline>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='SetPrescaler' description='Sets the prescaler value for the clock divider chain' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<param name='Prescaler' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='str' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<command class_type='decision' title='Simulation' exp='Sim' swap='0' >
							<flowline >
								<command class_type='decision' title='Console Data Enabled?' exp='ConsoleData' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' >
											<exp exp='.str = &quot;SetPrescaler(&quot; + ToString$ (.Prescaler) + &quot;)&quot;' />
										</command>
										<command class_type='call' title='Call Macro' macro='Prv_TextConsole' >
											<argument exp='.str' />
											<argument exp='0' />
											<argument exp='1' />
										</command>
									</flowline>
									<flowline />
								</command>
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Ev_Renamed' description='' statediag='0' >
						<return name='Return' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='Name' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<command class_type='sim' title='' macro='Tree.GetName' >
							<return exp='.Name' />
							<argument exp='this' />
						</command>
						<command class_type='sim' title='' macro='Component.Property.SetValue' >
							<argument exp='LibraryComponent1' />
							<argument exp='&quot;Name&quot;' />
							<argument exp='.Name' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Master_Init' description='Initialise the Master' statediag='0' >
						<return name='Return' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='str' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<command class_type='decision' title='Simulation?' exp='Sim' swap='0' >
							<flowline >
								<command class_type='decision' title='Decision' exp='InjectorHandle &gt; 0' swap='0' >
									<flowline >
										<command class_type='sim' title='CS Disabled' component='API_SPI_Dummy1' macro='SPIInitialise' >
											<argument exp='InjectorChannel' />
										</command>
									</flowline>
									<flowline />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='Console Data Enabled?' exp='ConsoleData' swap='0' >
							<flowline >
								<command class_type='calculation' title='Build Console String' >
									<exp exp='.str = &quot;Master_Init()&quot;' />
								</command>
								<command class_type='call' title='Call Macro' macro='Prv_TextConsole' >
									<argument exp='.str' />
									<argument exp='0' />
									<argument exp='1' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='Decision' exp='ScopeTraces' swap='0' >
							<flowline >
								<command class_type='decision' title='Idle Low / High' exp='CKP' swap='0' >
									<flowline >
										<command class_type='calculation' title='Clock In Idle' >
											<exp exp='CLK = 1' />
										</command>
									</flowline>
									<flowline >
										<command class_type='calculation' title='Clock In Idle' >
											<exp exp='CLK = 0' />
										</command>
									</flowline>
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='Decision' exp='UseAutoCS' swap='0' >
							<flowline >
								<command class_type='decision' title='Simulation?' exp='Sim' swap='0' >
									<flowline >
										<command class_type='decision' title='Decision' exp='InjectorHandle &gt; 0' swap='0' >
											<flowline >
												<command class_type='sim' title='CS Disabled' component='API_SPI_Dummy1' macro='IOSetOutputPin' >
													<argument exp='InjectorCS' />
													<argument exp='1' />
												</command>
											</flowline>
											<flowline />
										</command>
									</flowline>
									<flowline />
								</command>
								<command class_type='calculation' title='Disable Chip Select' >
									<exp exp='SS = 1' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='calculation' title='Calculation' >
							<exp exp='.Return = 1' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Ev_SimStart' description='Broadcast to all components that simulation is starting' statediag='0' >
						<return name='Return' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
							<argument exp='this' />
							<argument exp='&quot;Sim&quot;' />
							<argument exp='1' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Prv_LoadChannelList' description='Loads a list of the available channels into the Channel list property' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<command class_type='calculation' title='Calculation' >
							<exp exp='::Component .Property .SetFilter (this,&quot;CHANNEL&quot;,GetChannelList ())' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Prv_GetNumericPos' description='' statediag='0' >
						<return name='Return' type='s32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='s' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</param>
						<local name='done' type='b1' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
						<local name='i' type='u32' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
						<local name='NumStart' type='u32' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
						<command class_type='comment' title='' comment='Find first numeric position' textarea='12,0,487,300' />
						<command class_type='calculation' title='Calculation' textarea='36,0,511,300' >
							<exp exp='.i = 0' />
							<exp exp='.Return = 0' />
						</command>
						<command class_type='loop' title='Loop' textarea='36,0,511,300' type='0' exp='.done = 0' >
							<flowline >
								<command class_type='decision' title='Decision' textarea='36,0,511,300' exp='.i &gt;= Length$(.s)' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' textarea='36,0,511,300' >
											<exp exp='.done = 1' />
										</command>
									</flowline>
									<flowline >
										<command class_type='decision' title='Decision' textarea='36,0,511,300' exp='(.s[.i] &gt;= &apos;0&apos;) &amp;&amp; (.s[.i] &lt;= &apos;9&apos;)' swap='0' >
											<flowline >
												<command class_type='calculation' title='Calculation' textarea='36,0,511,300' >
													<exp exp='.done = 1' />
													<exp exp='.Return = .i' />
												</command>
											</flowline>
											<flowline />
										</command>
									</flowline>
								</command>
								<command class_type='calculation' title='Calculation' textarea='36,0,511,300' >
									<exp exp='.i = .i + 1' />
								</command>
							</flowline>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Prv_NumericCompare' description='' statediag='0' >
						<return name='Return' type='s16' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='s1' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</param>
						<param name='s2' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</param>
						<local name='i1' type='s32' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
						<local name='i2' type='s32' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
						<local name='s1a' type='T8' description='' isconst='0' isHidden='0' isinit='1' usrinit='&quot;&quot;' setinit='&quot;&quot;' >
							<array size='20' />
						</local>
						<local name='s2a' type='T8' description='' isconst='0' isHidden='0' isinit='1' usrinit='&quot;&quot;' setinit='&quot;&quot;' >
							<array size='20' />
						</local>
						<command class_type='call' title='User Macro' textarea='36,0,511,300' macro='Prv_GetNumericPos' >
							<return exp='.i1' />
							<argument exp='.s1' />
						</command>
						<command class_type='call' title='User Macro' textarea='36,0,511,300' macro='Prv_GetNumericPos' >
							<return exp='.i2' />
							<argument exp='.s2' />
						</command>
						<command class_type='calculation' title='Calculation' textarea='36,0,511,300' >
							<exp exp='.s1a = left$(.s1,.i1)' />
							<exp exp='.s2a = left$(.s2,.i2)' />
						</command>
						<command class_type='calculation' title='Calculation' >
							<exp exp='.Return = Compare$(.s1a,.s2a,0)' />
						</command>
						<command class_type='decision' title='Decision' textarea='36,0,511,300' exp='.Return == 0' swap='0' >
							<flowline >
								<command class_type='calculation' title='Get numberic value' textarea='36,0,511,300' >
									<exp exp='.s1 = mid$(.s1,.i1,99)' />
									<exp exp='.i1 = StringToInt$(.s1)' />
								</command>
								<command class_type='calculation' title='Get numberic value' textarea='36,0,511,300' >
									<exp exp='.s2 = mid$(.s2,.i2,99)' />
									<exp exp='.i2 = StringToInt$(.s2)' />
								</command>
								<command class_type='decision' title='Decision' textarea='36,0,511,300' exp='.i1 &gt; .i2' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' textarea='36,0,511,300' >
											<exp exp='.Return = 1' />
										</command>
									</flowline>
									<flowline >
										<command class_type='decision' title='Decision' textarea='36,0,511,300' exp='.i1 &lt; .i2' swap='0' >
											<flowline >
												<command class_type='calculation' title='Calculation' textarea='36,0,511,300' >
													<exp exp='.Return = -1' />
												</command>
											</flowline>
											<flowline />
										</command>
									</flowline>
								</command>
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='ParseRemapPins' description='' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<local name='fcd' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='temp_str' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='port' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='bit' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='MOSIcount' type='u16' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
						<local name='bank' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='CLKcount' type='u16' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
						<local name='temp_str2' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='caption' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<command class_type='sim' title='Get the SPI' macro='FCD.GetPathHandle' >
							<return exp='.fcd' />
							<argument exp='&quot;device.pins.pin&quot;' />
							<argument exp='0' />
						</command>
						<command class_type='sim' title='Simulation' macro='Component.Property.SetFilter' >
							<argument exp='this' />
							<argument exp='&quot;MOSIPins&quot;' />
							<argument exp='&quot;&quot;' />
						</command>
						<command class_type='sim' title='Simulation' macro='Component.Property.SetFilter' >
							<argument exp='this' />
							<argument exp='&quot;MISOPins&quot;' />
							<argument exp='&quot;&quot;' />
						</command>
						<command class_type='sim' title='Simulation' macro='Component.Property.SetFilter' >
							<argument exp='this' />
							<argument exp='&quot;CLKPins&quot;' />
							<argument exp='&quot;&quot;' />
						</command>
						<command class_type='sim' title='Simulation' macro='Component.Property.SetFilter' >
							<argument exp='this' />
							<argument exp='&quot;SSPins&quot;' />
							<argument exp='&quot;&quot;' />
						</command>
						<command class_type='sim' title='Simulation' macro='Component.Property.SetFilter' >
							<argument exp='this' />
							<argument exp='&quot;OutputReg&quot;' />
							<argument exp='&quot;&quot;' />
						</command>
						<command class_type='loop' title='Loop' type='0' exp='.fcd &gt; 0' >
							<flowline >
								<command class_type='sim' title='Panel' macro='Tree.GetSubValue' >
									<return exp='.temp_str' />
									<argument exp='.fcd' />
									<argument exp='&quot;rpreg&quot;' />
								</command>
								<command class_type='decision' title='Decision' exp='Length$ (.temp_str) &gt; 0' swap='0' >
									<flowline >
										<command class_type='sim' title='Panel' macro='Tree.GetSubValue' >
											<return exp='.port' />
											<argument exp='.fcd' />
											<argument exp='&quot;port&quot;' />
										</command>
										<command class_type='sim' title='Panel' macro='Tree.GetSubValue' >
											<return exp='.bit' />
											<argument exp='.fcd' />
											<argument exp='&quot;bit&quot;' />
										</command>
										<command class_type='sim' title='Panel' macro='Tree.GetSubValue' >
											<return exp='.bank' />
											<argument exp='.fcd' />
											<argument exp='&quot;rpbank&quot;' />
										</command>
										<command class_type='sim' title='Panel' macro='Tree.GetSubValue' >
											<return exp='.caption' />
											<argument exp='.fcd' />
											<argument exp='&quot;caption&quot;' />
										</command>
										<command class_type='calculation' title='Calculation' >
											<exp exp='.port[0] = .port[0] - &apos;0&apos;' />
											<exp exp='.port[0] = .port[0] + &apos;A&apos;' />
										</command>
										<command class_type='calculation' title='Calculation' >
											<exp exp='.port = .port[0] + &quot;.&quot; + .bit' />
										</command>
										<command class_type='calculation' title='Calculation' >
											<exp exp='.port = &quot;$PORT&quot; + .port' />
										</command>
										<command class_type='decision' title='Decision' exp='Length$(.caption) &gt; 0' swap='0' >
											<flowline >
												<command class_type='calculation' title='Calculation' >
													<exp exp='.port = .port + &quot; (&quot;' />
													<exp exp='.port = .port + .caption' />
													<exp exp='.port = .port + &quot;)&quot;' />
												</command>
											</flowline>
											<flowline />
										</command>
										<command class_type='decision' title='Decision' exp='(Compare$ (.bank,MOSIBank,1) == 0) || (Compare$ (.bank,MOSIBank2,1) == 0)' swap='0' >
											<flowline >
												<command class_type='sim' title='Simulation' macro='Component.Property.AddListItem' >
													<argument exp='this' />
													<argument exp='&quot;MOSIPins&quot;' />
													<argument exp='.MOSIcount' />
													<argument exp='.port' />
												</command>
												<command class_type='sim' title='Simulation' macro='Component.Property.AddListItem' >
													<argument exp='this' />
													<argument exp='&quot;MOSIReg&quot;' />
													<argument exp='.MOSIcount' />
													<argument exp='.temp_str' />
												</command>
												<command class_type='sim' title='Simulation' disable='1' macro='Debug.PrintLn' >
													<argument exp='&quot;Output - Port &quot; + .port + &quot; Reg &quot; + .temp_str' />
												</command>
												<command class_type='calculation' title='Calculation' >
													<exp exp='.MOSIcount = .MOSIcount + 1' />
												</command>
											</flowline>
											<flowline />
										</command>
										<command class_type='decision' title='Master Mode' exp='Mode = 0' swap='0' >
											<flowline >
												<command class_type='decision' title='Decision' exp='(Compare$ (.bank,CLKBank,1) == 0) || (Compare$ (.bank,CLKBank2,1) == 0)' swap='0' >
													<flowline >
														<command class_type='sim' title='Simulation' macro='Component.Property.AddListItem' >
															<argument exp='this' />
															<argument exp='&quot;CLKPins&quot;' />
															<argument exp='.CLKcount' />
															<argument exp='.port' />
														</command>
														<command class_type='sim' title='Simulation' macro='Component.Property.AddListItem' >
															<argument exp='this' />
															<argument exp='&quot;CLKReg&quot;' />
															<argument exp='.CLKcount' />
															<argument exp='.temp_str' />
														</command>
														<command class_type='sim' title='Simulation' disable='1' macro='Debug.PrintLn' >
															<argument exp='&quot;Output - Port &quot; + .port + &quot; Reg &quot; + .temp_str' />
														</command>
														<command class_type='calculation' title='Calculation' >
															<exp exp='.CLKcount = .CLKcount + 1' />
														</command>
													</flowline>
													<flowline />
												</command>
											</flowline>
											<flowline />
										</command>
									</flowline>
									<flowline />
								</command>
								<command class_type='sim' title='Panel' macro='Tree.GetSubValue' >
									<return exp='.temp_str' />
									<argument exp='.fcd' />
									<argument exp='&quot;rpnum&quot;' />
								</command>
								<command class_type='decision' title='Decision' exp='Length$ (.temp_str) &gt; 0' swap='0' >
									<flowline >
										<command class_type='sim' title='Panel' macro='Tree.GetSubValue' >
											<return exp='.port' />
											<argument exp='.fcd' />
											<argument exp='&quot;port&quot;' />
										</command>
										<command class_type='sim' title='Panel' macro='Tree.GetSubValue' >
											<return exp='.bit' />
											<argument exp='.fcd' />
											<argument exp='&quot;bit&quot;' />
										</command>
										<command class_type='sim' title='Panel' macro='Tree.GetSubValue' >
											<return exp='.bank' />
											<argument exp='.fcd' />
											<argument exp='&quot;rpbank&quot;' />
										</command>
										<command class_type='sim' title='Panel' macro='Tree.GetSubValue' >
											<return exp='.caption' />
											<argument exp='.fcd' />
											<argument exp='&quot;caption&quot;' />
										</command>
										<command class_type='calculation' title='Calculation' >
											<exp exp='.port[0] = .port[0] - &apos;0&apos;' />
											<exp exp='.port[0] = .port[0] + &apos;A&apos;' />
										</command>
										<command class_type='calculation' title='Calculation' >
											<exp exp='.port = .port[0] + &quot;.&quot; + .bit' />
										</command>
										<command class_type='calculation' title='Calculation' >
											<exp exp='.port = &quot;$PORT&quot; + .port' />
										</command>
										<command class_type='decision' title='Decision' exp='Length$(.caption) &gt; 0' swap='0' >
											<flowline >
												<command class_type='calculation' title='Calculation' >
													<exp exp='.port = .port + &quot; (&quot;' />
													<exp exp='.port = .port + .caption' />
													<exp exp='.port = .port + &quot;)&quot;' />
												</command>
											</flowline>
											<flowline />
										</command>
										<command class_type='decision' title='Decision' exp='(Compare$ (.bank,MISOBank,1) == 0) || (Compare$ (.bank,MISOBank2,1) == 0)' swap='0' >
											<flowline >
												<command class_type='sim' title='Simulation' macro='Component.Property.AddListItem' >
													<argument exp='this' />
													<argument exp='&quot;MISOPins&quot;' />
													<argument exp='.temp_str' />
													<argument exp='.port' />
												</command>
												<command class_type='sim' title='Simulation' disable='1' macro='Debug.PrintLn' >
													<argument exp='&quot;Input - Port &quot; + .port + &quot; Num &quot; + .temp_str' />
												</command>
											</flowline>
											<flowline />
										</command>
										<command class_type='decision' title='Slave Mode' exp='Mode = 1' swap='0' >
											<flowline >
												<command class_type='decision' title='Decision' exp='(Compare$ (.bank,CLKBank,1) == 0) || (Compare$ (.bank,CLKBank2,1) == 0)' swap='0' >
													<flowline >
														<command class_type='sim' title='Simulation' macro='Component.Property.AddListItem' >
															<argument exp='this' />
															<argument exp='&quot;CLKPins&quot;' />
															<argument exp='.temp_str' />
															<argument exp='.port' />
														</command>
													</flowline>
													<flowline />
												</command>
												<command class_type='decision' title='Decision' exp='(Compare$ (.bank,SSBank,1) == 0) || (Compare$ (.bank,SSBank2,1) == 0)' swap='0' >
													<flowline >
														<command class_type='sim' title='Simulation' macro='Component.Property.AddListItem' >
															<argument exp='this' />
															<argument exp='&quot;SSPins&quot;' />
															<argument exp='.temp_str' />
															<argument exp='.port' />
														</command>
													</flowline>
													<flowline />
												</command>
											</flowline>
											<flowline />
										</command>
									</flowline>
									<flowline />
								</command>
								<command class_type='sim' title='Panel' macro='Tree.StepNamedNext' >
									<argument exp='.fcd' />
									<argument exp='&quot;pin&quot;' />
								</command>
							</flowline>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Ev_DecodeSync' description='Sent when a block of the stream is to be decoded into packets' statediag='0' >
						<return name='Return' type='u32' description='Non-zero if the data could be decoded' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='StreamH' type='h32' description='The stream handle' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='TimeOffset' type='s32' description='The -ve offset from now of the earliest time to be decoded, in microseconds' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='PacketSize' type='u32' description='The number of microseconds of the decoded packet from its start' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='baud' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='step' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='SearchFlags' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='PacketFlags' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='ObjectHandle' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='str' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<command class_type='comment' title='' comment='Setup Decode Console' textarea='12,0,12,0' />
						<command class_type='calculation' title='Calculation' >
							<exp exp='.ObjectHandle = this' />
						</command>
						<command class_type='sim' title='Step away from SPI CAL' macro='Tree.StepParent' >
							<argument exp='.ObjectHandle' />
						</command>
						<command class_type='sim' title='Get Name Of Current Position' macro='Tree.GetName' >
							<return exp='.str' />
							<argument exp='.ObjectHandle' />
						</command>
						<command class_type='calculation' title='Calculation' >
							<exp exp='.str = .str + &quot; - Decode &quot; + STRING CHANNEL' />
						</command>
						<command class_type='sim' title='Simulation' macro='Console.AddText' >
							<return exp='ConsoleDecode' />
							<argument exp='.str' />
							<argument exp='0' />
						</command>
						<command class_type='comment' title='' comment='Perform Decode' textarea='12,0,12,0' />
						<command class_type='sim' title='Set Packet format' macro='DataRecorder.SetPacketFmt' >
							<argument exp='.StreamH' />
							<argument exp='&quot;%c[%.2x]%e&quot;' />
							<argument exp='0xffffff' />
							<argument exp='0xd0FFE0a0' />
						</command>
						<command class_type='sim' title='Clear Packets from the area' macro='DataRecorder.ClearPackets' >
							<argument exp='.StreamH' />
							<argument exp='.TimeOffset' />
							<argument exp='.PacketSize' />
						</command>
						<command class_type='comment' title='' comment='setup the Packet flags based on CKE and CKP' textarea='12,0,12,0' />
						<command class_type='decision' title='Clock Phase selection' exp='CKP = 0' swap='0' >
							<flowline >
								<command class_type='decision' title='' exp='CKE = 0' swap='0' >
									<flowline >
										<command class_type='comment' title='' comment='Idle low clock
CKP = 0, CKE = 0
Data changes on Leading Edge 
Read the data on High to Low transition' textarea='12,0,12,0' />
										<command class_type='calculation' title='Calculation' >
											<exp exp='.PacketFlags = 0 * ::DataRecorder .Packet_ResyncHiLo' />
											<exp exp='.SearchFlags = ::DataRecorder .Find_HighLow' />
											<exp exp='' />
										</command>
									</flowline>
									<flowline >
										<command class_type='comment' title='' comment='Idle low clock
CKP = 0, CKE = 1
Data Changes on Trailing edge
Read the data on Low to High transition
Same as CKP = 1, CKE = 0' textarea='36,12,36,12' />
										<command class_type='calculation' title='Calculation' >
											<exp exp='.PacketFlags = 0 * ::DataRecorder .Packet_ResyncLoHi' />
											<exp exp='.SearchFlags = ::DataRecorder .Find_LowHigh' />
										</command>
									</flowline>
								</command>
							</flowline>
							<flowline >
								<command class_type='decision' title='' exp='CKE = 0' swap='0' >
									<flowline >
										<command class_type='comment' title='' comment='Idle High Clock
CKP = 1, CKE = 0
Data changes on Leading Edge 
Read the data on Low to High transition' textarea='12,0,12,0' />
										<command class_type='calculation' title='Calculation' >
											<exp exp='.PacketFlags = 0 * ::DataRecorder .Packet_ResyncLoHi' />
											<exp exp='.SearchFlags = ::DataRecorder .Find_LowHigh' />
										</command>
									</flowline>
									<flowline >
										<command class_type='comment' title='' comment='Idle High Clock
CKP = 1, CKE = 1
Data Changes on Trailing edge
Read the data on High to Low transition' textarea='36,12,36,12' />
										<command class_type='calculation' title='Calculation' >
											<exp exp='.PacketFlags = 0 * ::DataRecorder .Packet_ResyncHiLo' />
											<exp exp='.SearchFlags = ::DataRecorder .Find_HighLow' />
											<exp exp='' />
										</command>
									</flowline>
								</command>
							</flowline>
						</command>
						<command class_type='comment' title='' comment='Find initial pulse value between .TimeUS and the .PacketSize max
' textarea='273,-14,273,-14' />
						<command class_type='sim' title='Find the next transition' macro='DataRecorder.FindOutput' >
							<return exp='.step' />
							<argument exp='ScopeStream[StrmId_Clk]' />
							<argument exp='.TimeOffset' />
							<argument exp='.PacketSize' />
							<argument exp='0.5' />
							<argument exp='.SearchFlags' />
						</command>
						<command class_type='comment' title='' comment='Decode the data starting at the first clock pulse
' textarea='273,-14,273,-14' />
						<command class_type='decision' title='If found a valid clock pulse' exp='.step != 0' swap='0' >
							<flowline >
								<command class_type='calculation' title='Move to start of clock pulse' >
									<exp exp='.TimeOffset = .TimeOffset + .step' />
									<exp exp='.PacketSize = .PacketSize - .step' />
								</command>
								<command class_type='sim' title='Simulation' macro='DataRecorder.AddSyncPackets' >
									<argument exp='.StreamH' />
									<argument exp='.TimeOffset' />
									<argument exp='.PacketSize' />
									<argument exp='ScopeStream[StrmId_Clk]' />
									<argument exp='.SearchFlags' />
									<argument exp='0xff' />
									<argument exp='8' />
									<argument exp='.PacketFlags' />
									<argument exp='-1' />
								</command>
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Ev_AddHeader' description='Sent to a component to allow dynamic amendment of header code' statediag='0' >
						<return name='Return' type='u32' description='Non-zero to block header code insertion' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='HeadCode' type='T8*' description='Text to amend for header' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</param>
						<local name='temp_str' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='temp_ul' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='Instance' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='sim' title='Simulation' macro='Component.GetInstance' >
							<return exp='.temp_ul' />
							<argument exp='this' />
						</command>
						<command class_type='decision' title='Decision' exp='ENABLED' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' >
									<exp exp='.HeadCode = .HeadCode + &quot;#define MX_SPI_REF&quot; + STRING .temp_ul + &quot;\n&quot;' />
								</command>
								<command class_type='decision' title='Slave Mode?' exp='Mode = 1' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' >
											<exp exp='.HeadCode = .HeadCode + &quot;#define MX_SPI_SLAVE_&quot; + STRING .temp_ul + &quot; 1\n&quot;' />
										</command>
									</flowline>
									<flowline />
								</command>
								<command class_type='decision' title='Decision' exp='(Remappable &gt; 0) &amp;&amp; (CHANNEL &gt; 0)' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' >
											<exp exp='.HeadCode = .HeadCode + &quot;#define MX_SPI_REMAPPABLE_&quot; + ToString$ (.temp_ul) + &quot; 1\n&quot;' />
										</command>
										<command class_type='decision' title='Decision' exp='Remappable = 3' swap='0' >
											<flowline >
												<command class_type='comment' title='' comment='STARM Remap Specific' textarea='53,17,53,17' />
												<command class_type='sim' title='Simulation' macro='Component.GetInstance' >
													<return exp='.Instance' />
													<argument exp='this' />
												</command>
												<command class_type='sim' title='Simulation' macro='Component.Property.GetListItem' >
													<return exp='.temp_str' />
													<argument exp='this' />
													<argument exp='&quot;MOSIReg&quot;' />
													<argument exp='MOSIPins' />
												</command>
												<command class_type='calculation' title='Calculation' >
													<exp exp='.HeadCode = .HeadCode + &quot;#define MX_SPI_MOSI_AF_&quot; + STRING .Instance + &quot; &quot; + .temp_str + &quot;\n&quot;' />
												</command>
												<command class_type='sim' title='Simulation' macro='Component.Property.GetListItem' >
													<return exp='.temp_str' />
													<argument exp='this' />
													<argument exp='&quot;CLKReg&quot;' />
													<argument exp='CLKPins' />
												</command>
												<command class_type='calculation' title='Calculation' >
													<exp exp='.HeadCode = .HeadCode + &quot;#define MX_SPI_CLK_AF_&quot; + STRING .Instance + &quot; &quot; + .temp_str + &quot;\n&quot;' />
												</command>
												<command class_type='sim' title='Simulation' macro='Component.Property.GetListItem' >
													<return exp='.temp_str' />
													<argument exp='this' />
													<argument exp='&quot;MISOReg&quot;' />
													<argument exp='MISOPins' />
												</command>
												<command class_type='calculation' title='Calculation' >
													<exp exp='.HeadCode = .HeadCode + &quot;#define MX_SPI_MISO_AF_&quot; + STRING .Instance + &quot; &quot; + .temp_str + &quot;\n&quot;' />
												</command>
												<command class_type='calculation' title='Calculation' >
													<exp exp='.HeadCode = .HeadCode + &quot;#define MX_SPI_NAME_&quot; + STRING .Instance + &quot; &quot; + SPIName + &quot;\n&quot;' />
												</command>
												<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
													<argument exp='this' />
													<argument exp='&quot;SPIClock&quot;' />
													<argument exp='&quot;__HAL_RCC_&quot; + SPIName + &quot;_CLK_ENABLE&quot;' />
												</command>
												<command class_type='calculation' title='Calculation' >
													<exp exp='.HeadCode = .HeadCode + &quot;#define MX_SPI_CLOCK_&quot; + STRING .Instance + &quot; &quot; + SPIClock + &quot;\n&quot;' />
												</command>
											</flowline>
											<flowline >
												<command class_type='decision' title='Decision' exp='Remappable = 2' swap='0' >
													<flowline >
														<command class_type='comment' title='' comment='Mode 2 has no control over clock pin SCK' textarea='12,0,12,0' />
														<command class_type='calculation' title='Calculation' >
															<exp exp='.HeadCode = .HeadCode + &quot;#define MX_SPI_REMAPPABLE_SCK_&quot; + ToString$ (.temp_ul) + &quot; 1\n&quot;' />
														</command>
													</flowline>
													<flowline />
												</command>
												<command class_type='sim' title='Simulation' macro='Component.Property.GetListItem' >
													<return exp='.temp_str' />
													<argument exp='this' />
													<argument exp='&quot;MOSIReg&quot;' />
													<argument exp='MOSIPins' />
												</command>
												<command class_type='calculation' title='Calculation' >
													<exp exp='.HeadCode = .HeadCode + &quot;#define MX_SPI_MOSI_RPOR_&quot; + STRING (.temp_ul) + &quot; &quot; + .temp_str + &quot;\n&quot;' />
												</command>
												<command class_type='calculation' title='Calculation' >
													<exp exp='.HeadCode = .HeadCode + &quot;#define MX_SPI_MOSI_SDO_&quot; + STRING (.temp_ul) + &quot; &quot; + STRING MOSIRPNUM + &quot;\n&quot;' />
												</command>
												<command class_type='calculation' title='Calculation' >
													<exp exp='.HeadCode = .HeadCode + &quot;#define MX_SPI_MISO_RPINR_&quot; + STRING (.temp_ul) + &quot; &quot; + MISORPREG + &quot;\n&quot;' />
												</command>
												<command class_type='calculation' title='Calculation' >
													<exp exp='.HeadCode = .HeadCode + &quot;#define MX_SPI_MISO_RP_&quot; + STRING (.temp_ul) + &quot; &quot; + STRING MISOPins + &quot;\n&quot;' />
												</command>
												<command class_type='decision' title='Master Mode?' exp='Mode = 0' swap='0' >
													<flowline >
														<command class_type='sim' title='Simulation' macro='Component.Property.GetListItem' >
															<return exp='.temp_str' />
															<argument exp='this' />
															<argument exp='&quot;CLKReg&quot;' />
															<argument exp='CLKPins' />
														</command>
														<command class_type='calculation' title='Calculation' >
															<exp exp='.HeadCode = .HeadCode + &quot;#define MX_SPI_CLK_RPOR_&quot; + STRING (.temp_ul) + &quot; &quot; + .temp_str + &quot;\n&quot;' />
														</command>
														<command class_type='calculation' title='Calculation' >
															<exp exp='.HeadCode = .HeadCode + &quot;#define MX_SPI_CLK_SCK_&quot; + STRING (.temp_ul) + &quot; &quot; + STRING CLKRPNUM + &quot;\n&quot;' />
														</command>
													</flowline>
													<flowline >
														<command class_type='calculation' title='Calculation' >
															<exp exp='.HeadCode = .HeadCode + &quot;#define MX_SPI_CLK_RPINR_&quot; + STRING (.temp_ul) + &quot; &quot; + CLKRPREG + &quot;\n&quot;' />
														</command>
														<command class_type='calculation' title='Calculation' >
															<exp exp='.HeadCode = .HeadCode + &quot;#define MX_SPI_CLK_RP_&quot; + STRING (.temp_ul) + &quot; &quot; + STRING CLKPins + &quot;\n&quot;' />
														</command>
														<command class_type='decision' title='Decision' exp='UseCS' swap='0' >
															<flowline >
																<command class_type='calculation' title='Calculation' >
																	<exp exp='.HeadCode = .HeadCode + &quot;#define MX_SPI_USESS_&quot; + STRING (.temp_ul) + &quot; 1\n&quot;' />
																</command>
																<command class_type='calculation' title='Calculation' >
																	<exp exp='.HeadCode = .HeadCode + &quot;#define MX_SPI_SS_RPINR_&quot; + STRING (.temp_ul) + &quot; &quot; + SSRPREG + &quot;\n&quot;' />
																</command>
																<command class_type='calculation' title='Calculation' >
																	<exp exp='.HeadCode = .HeadCode + &quot;#define MX_SPI_SS_RP_&quot; + STRING (.temp_ul) + &quot; &quot; + STRING SSPins + &quot;\n&quot;' />
																</command>
															</flowline>
															<flowline />
														</command>
														<command class_type='calculation' title='Calculation' >
															<exp exp='.HeadCode = .HeadCode + &quot;#define MX_SPI_SLAVE_&quot; + STRING (.temp_ul) + &quot; 1\n&quot;' />
														</command>
													</flowline>
												</command>
											</flowline>
										</command>
									</flowline>
									<flowline >
										<command class_type='decision' title='Slave Mode?' exp='Mode = 1' swap='0' >
											<flowline >
												<command class_type='decision' title='Decision' exp='AltSSPin' swap='0' >
													<flowline >
														<command class_type='calculation' title='Calculation' >
															<exp exp='.HeadCode = .HeadCode + &quot;#define MX_SPI_SS_ALT_&quot; + STRING .temp_ul + &quot; 1\n&quot;' />
															<exp exp='' />
															<exp exp='.HeadCode = .HeadCode + &quot;#define MX_SPI_SS_REG_&quot; + STRING .temp_ul + &quot; &quot; + AltSSReg + &quot;\n&quot;' />
															<exp exp='.HeadCode = .HeadCode + &quot;#define MX_SPI_SS_MSK_&quot; + STRING .temp_ul + &quot; &quot; + STRING AltSSMask + &quot;\n&quot;' />
														</command>
													</flowline>
													<flowline />
												</command>
											</flowline>
											<flowline >
												<command class_type='sim' title='Simulation' macro='Component.Property.SetVisible' >
													<argument exp='this' />
													<argument exp='&quot;AltSSPin&quot;' />
													<argument exp='0' />
												</command>
												<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
													<argument exp='this' />
													<argument exp='&quot;AltSSPin&quot;' />
													<argument exp='0' />
												</command>
											</flowline>
										</command>
									</flowline>
								</command>
							</flowline>
							<flowline >
								<command class_type='calculation' title='Calculation' >
									<exp exp='.HeadCode = &quot;\n// CAL SPI &quot; + STRING .temp_ul + &quot; disabled\n&quot;' />
								</command>
							</flowline>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='ParseSTRemapPins' description='' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<param name='FCDHandle' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='TX' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='AFStr' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='PinStr' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='PortStr' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='XMLStr' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='StrLen' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='count' type='u16' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='fcd' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='calculation' title='Calculation' >
							<exp exp='.count = 0' />
						</command>
						<command class_type='loop' title='Loop' type='0' exp='1' >
							<flowline >
								<command class_type='calculation' title='Calculation' >
									<exp exp='.XMLStr = &quot;af&quot; + STRING .count' />
								</command>
								<command class_type='sim' title='Simulation' macro='Tree.GetSubValue' >
									<return exp='.AFStr' />
									<argument exp='.FCDHandle' />
									<argument exp='.XMLStr' />
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='.XMLStr = &quot;port&quot; + STRING .count' />
								</command>
								<command class_type='sim' title='Simulation' macro='Tree.GetSubValue' >
									<return exp='.PortStr' />
									<argument exp='.FCDHandle' />
									<argument exp='.XMLStr' />
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='.XMLStr = &quot;pin&quot; + STRING .count' />
								</command>
								<command class_type='sim' title='Simulation' macro='Tree.GetSubValue' >
									<return exp='.PinStr' />
									<argument exp='.FCDHandle' />
									<argument exp='.XMLStr' />
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='.StrLen = Length$ (.AFStr)' />
								</command>
								<command class_type='decision' title='Decision' exp='.StrLen = 0' swap='0' >
									<flowline >
										<command class_type='goto' title='Goto Connection Point' labelid='0' labelname='' />
									</flowline>
									<flowline />
								</command>
								<command class_type='calculation' title='Calculation' disable='1' >
									<exp exp='.AFStr[0] = .AFStr[0] - &apos;0&apos;' />
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='.PortStr[0] = .PortStr[0] - &apos;0&apos;' />
									<exp exp='.PortStr[0] = .PortStr[0] + &apos;A&apos;' />
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='.PortStr = .PortStr[0] + &quot;.&quot; + .PinStr' />
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='.PortStr = &quot;$PORT&quot; + .PortStr' />
								</command>
								<command class_type='switch' title='Switch' textarea='36,25,36,25' exp='.TX' >
									<case >
										<flowline >
											<command class_type='sim' title='Simulation' macro='Component.Property.AddListItem' >
												<argument exp='this' />
												<argument exp='&quot;MOSIPins&quot;' />
												<argument exp='.count' />
												<argument exp='.PortStr' />
											</command>
											<command class_type='sim' title='Simulation' macro='Component.Property.AddListItem' >
												<argument exp='this' />
												<argument exp='&quot;MOSIReg&quot;' />
												<argument exp='.count' />
												<argument exp='.AFStr' />
											</command>
										</flowline>
									</case>
									<case exp='1' >
										<flowline >
											<command class_type='sim' title='Simulation' macro='Component.Property.AddListItem' >
												<argument exp='this' />
												<argument exp='&quot;MISOPins&quot;' />
												<argument exp='.count' />
												<argument exp='.PortStr' />
											</command>
											<command class_type='sim' title='Simulation' macro='Component.Property.AddListItem' >
												<argument exp='this' />
												<argument exp='&quot;MISOReg&quot;' />
												<argument exp='.count' />
												<argument exp='.AFStr' />
											</command>
										</flowline>
									</case>
									<case exp='2' >
										<flowline >
											<command class_type='sim' title='Simulation' macro='Component.Property.AddListItem' >
												<argument exp='this' />
												<argument exp='&quot;CLKPins&quot;' />
												<argument exp='.count' />
												<argument exp='.PortStr' />
											</command>
											<command class_type='sim' title='Simulation' macro='Component.Property.AddListItem' >
												<argument exp='this' />
												<argument exp='&quot;CLKReg&quot;' />
												<argument exp='.count' />
												<argument exp='.AFStr' />
											</command>
										</flowline>
									</case>
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='.count = .count + 1' />
								</command>
							</flowline>
						</command>
						<command class_type='label' title='Connection Point' labelid='0' labelname='A' />
					</flowline>
				</macro>
				<macro >
					<flowline name='Prv_GetInjectorHandle' description='' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<param name='Index' type='u16' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='ObjHandle' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='RootHandle' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='OldHandle' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='Count' type='u8' description='' isconst='0' isHidden='0' isinit='1' usrinit='1' setinit='1' />
						<local name='ObjName' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='CmpName' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='OldName' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='idx' type='u8' description='' isconst='0' isHidden='0' isinit='1' usrinit='1' setinit='1' />
						<local name='X' type='u8' description='' isconst='0' isHidden='0' isinit='1' usrinit='1' setinit='1' />
						<command class_type='sim' title='Jump to Parent of Component' macro='Component.GetParent' >
							<return exp='.ObjHandle' />
							<argument exp='this' />
						</command>
						<command class_type='loop' title='Keep jumping to parent until we hit the root' type='0' exp='::Tree .CheckParent (.ObjHandle)' >
							<flowline >
								<command class_type='sim' title='Jump to Parent of Component' macro='Tree.StepParent' >
									<argument exp='.ObjHandle' />
								</command>
							</flowline>
						</command>
						<command class_type='sim' title='Make copy of root object' macro='Tree.GetCopy' >
							<return exp='.RootHandle' />
							<argument exp='.ObjHandle' />
						</command>
						<command class_type='loop' title='Loop' type='0' exp='.OldHandle != .ObjHandle' >
							<flowline >
								<command class_type='sim' title='Take a copy of the current panel item' macro='Tree.GetCopy' >
									<return exp='.OldHandle' />
									<argument exp='.ObjHandle' />
								</command>
								<command class_type='sim' title='Built-in Function' macro='Component.Property.GetValue' >
									<return exp='.ObjName' />
									<argument exp='.ObjHandle' />
									<argument exp='&quot;APISPI&quot;' />
								</command>
								<command class_type='decision' title='Decision' exp='Length$ (.ObjName)' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' >
											<exp exp='.X = StringToInt$ (.ObjName)' />
											<exp exp='.Index = 0' />
										</command>
										<command class_type='loop' title='Loop' type='0' exp='.Index &lt; .X' >
											<flowline >
												<command class_type='decision' title='Decision' exp='.Idx = Injector' swap='0' >
													<flowline >
														<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
															<argument exp='this' />
															<argument exp='&quot;InjectorHandle&quot;' />
															<argument exp='.ObjHandle' />
														</command>
														<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
															<argument exp='this' />
															<argument exp='&quot;InjectorChannel&quot;' />
															<argument exp='.Index' />
														</command>
														<command class_type='goto' title='Goto Connection Point' labelid='0' labelname='' />
													</flowline>
													<flowline />
												</command>
												<command class_type='calculation' title='Calculation' >
													<exp exp='.Index = .Index + 1' />
													<exp exp='.idx = .idx + 1' />
												</command>
											</flowline>
										</command>
									</flowline>
									<flowline />
								</command>
								<command class_type='sim' title='Move through component tree' macro='Tree.Traverse' >
									<argument exp='.ObjHandle' />
									<argument exp='.RootHandle' />
								</command>
							</flowline>
						</command>
						<command class_type='label' title='Connection Point' labelid='0' labelname='A' />
					</flowline>
				</macro>
				<macro >
					<flowline name='Ev_CompStop' description='Broadcast to all components that compilation has stopped' statediag='0' >
						<return name='Return' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
							<argument exp='this' />
							<argument exp='&quot;Sim&quot;' />
							<argument exp='1' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Prv_LoadPrescalers' description='Match SPI Prescaler options to CAL settings' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<local name='DeviceFamily' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='PrescaleStr' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<command class_type='sim' title='Simulation' macro='FCD.GetItemValue' >
							<return exp='.DeviceFamily' />
							<argument exp='&quot;device&quot;' />
							<argument exp='&quot;product&quot;' />
							<argument exp='&quot;&quot;' />
						</command>
						<command class_type='sim' title='Simulation' disable='1' macro='Debug.PrintLn' >
							<argument exp='&quot;LoadPrescalers - &quot; + .DeviceFamily' />
						</command>
						<command class_type='decision' title='Decision' exp='(Compare$ (&quot;PIC&quot;, .DeviceFamily,1) == 0)' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' >
									<exp exp='.PrescaleStr = &quot;004Fosc/4\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;016Fosc/16\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;064Fosc/64&quot;' />
								</command>
								<command class_type='sim' title='Simulation' macro='Component.Property.SetFilter' >
									<argument exp='this' />
									<argument exp='&quot;PR_SCALE&quot;' />
									<argument exp='.PrescaleStr' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='Decision' exp='(Compare$ (&quot;PIC16&quot;, .DeviceFamily,1) == 0)' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' >
									<exp exp='.PrescaleStr = &quot;002Fosc/2\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;004Fosc/4\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;006Fosc/6\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;008Fosc/8\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;012Fosc/12\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;016Fosc/16\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;020Fosc/20\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;024Fosc/24\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;028Fosc/28\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;032Fosc/32\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;048Fosc/48\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;064Fosc/64\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;128Fosc/128\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;192Fosc/192\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;256Fosc/256\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;512Fosc/512&quot;' />
								</command>
								<command class_type='sim' title='Simulation' macro='Component.Property.SetFilter' >
									<argument exp='this' />
									<argument exp='&quot;PR_SCALE&quot;' />
									<argument exp='.PrescaleStr' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='Decision' exp='(Compare$ (&quot;PIC32&quot;, .DeviceFamily,1) == 0)' swap='0' >
							<flowline >
								<command class_type='sim' title='Simulation' macro='FCD.GetItemValue' >
									<return exp='.DeviceFamily' />
									<argument exp='&quot;device&quot;' />
									<argument exp='&quot;family&quot;' />
									<argument exp='&quot;&quot;' />
								</command>
								<command class_type='decision' title='Decision' exp='(Compare$ (&quot;MX&quot;, .DeviceFamily,1) == 0)' swap='0' >
									<flowline />
									<flowline />
								</command>
								<command class_type='decision' title='Decision' exp='(Compare$ (&quot;MZ&quot;, .DeviceFamily,1) == 0)' swap='0' >
									<flowline />
									<flowline />
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='.PrescaleStr = &quot;000Fosc/2\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;001Fosc/4\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;002Fosc/6\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;003Fosc/8\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;004Fosc/10\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;005Fosc/12\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;006Fosc/14\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;007Fosc/16\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;008Fosc/18\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;009Fosc/20\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;010Fosc/22\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;011Fosc/24\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;012Fosc/26\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;013Fosc/28\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;014Fosc/30\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;015Fosc/32\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;016Fosc/34\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;023Fosc/48\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;031Fosc/64\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;047Fosc/96\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;062Fosc/128\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;096Fosc/192\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;127Fosc/256\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;159Fosc/320\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;255Fosc/512\n&quot;' />
									<exp exp='' />
								</command>
								<command class_type='sim' title='Simulation' macro='Component.Property.SetFilter' >
									<argument exp='this' />
									<argument exp='&quot;PR_SCALE&quot;' />
									<argument exp='.PrescaleStr' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='Decision' exp='Compare$ (&quot;AVR&quot;, .DeviceFamily,1) == 0' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' >
									<exp exp='.PrescaleStr = &quot;002Fosc/2\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;004Fosc/4\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;008Fosc/8\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;016Fosc/16\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;032Fosc/32\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;064Fosc/64\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;128Fosc/128&quot;' />
								</command>
								<command class_type='sim' title='Simulation' macro='Component.Property.SetFilter' >
									<argument exp='this' />
									<argument exp='&quot;PR_SCALE&quot;' />
									<argument exp='.PrescaleStr' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='Decision' exp='Compare$(&quot;ARD&quot;,.DeviceFamily,1) == 0' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' >
									<exp exp='.PrescaleStr = &quot;002Fosc/2\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;004Fosc/4\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;008Fosc/8\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;016Fosc/16\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;032Fosc/32\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;064Fosc/64\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;128Fosc/128&quot;' />
								</command>
								<command class_type='sim' title='Simulation' macro='Component.Property.SetFilter' >
									<argument exp='this' />
									<argument exp='&quot;PR_SCALE&quot;' />
									<argument exp='.PrescaleStr' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='Decision' exp='Compare$ (&quot;ARM&quot;, .DeviceFamily,1) == 0' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' >
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;002Fosc/2\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;004Fosc/4\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;008Fosc/8\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;016Fosc/16\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;032Fosc/32\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;064Fosc/64\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;128Fosc/128\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;256Fosc/256&quot;' />
								</command>
								<command class_type='sim' title='Simulation' macro='Component.Property.SetFilter' >
									<argument exp='this' />
									<argument exp='&quot;PR_SCALE&quot;' />
									<argument exp='.PrescaleStr' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='Decision' exp='(Compare$ (&quot;ESP&quot;, .DeviceFamily,1) == 0)' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' >
									<exp exp='.PrescaleStr = &quot;80080 MHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;75075 MHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;70070 MHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;65065 MHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;60060 MHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;55055 MHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;50050 MHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;45045 MHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;42042 MHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;40040 MHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;38038 MHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;35035 MHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;32032 MHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;30030 MHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;28028 MHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;25025 MHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;22022 MHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;20020 MHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;15015 MHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;10010 MHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;0808 MHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;0606 MHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;0505 MHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;0404 MHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;0303 MHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;0252.5 MHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;0202 MHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;0161.6 MHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;0151.5 MHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;0101 MHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;008800 KHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;007700 KHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;006600 KHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;005500 KHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;004400 KHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;003300 KHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;002200 KHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;001100 KHz\n&quot;' />
									<exp exp='' />
									<exp exp='' />
									<exp exp='' />
									<exp exp='' />
									<exp exp='' />
								</command>
								<command class_type='sim' title='Simulation' macro='Component.Property.SetFilter' >
									<argument exp='this' />
									<argument exp='&quot;PR_SCALE&quot;' />
									<argument exp='.PrescaleStr' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='Decision' exp='(Compare$ (&quot;PICO&quot;, .DeviceFamily,1) == 0)' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' >
									<exp exp='.PrescaleStr = &quot;80080 MHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;70070 MHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;60060 MHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;50050 MHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;40040 MHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;30030 MHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;25025 MHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;20020 MHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;15015 MHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;10010 MHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;0808 MHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;0606 MHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;0505 MHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;0404 MHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;0303 MHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;0252.5 MHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;0202 MHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;0161.6 MHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;0151.5 MHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;0101 MHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;008800 KHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;007700 KHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;006600 KHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;005500 KHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;004400 KHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;003300 KHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;002200 KHz\n&quot;' />
									<exp exp='.PrescaleStr = .PrescaleStr + &quot;001100 KHz\n&quot;' />
									<exp exp='' />
									<exp exp='' />
									<exp exp='' />
									<exp exp='' />
									<exp exp='' />
								</command>
								<command class_type='sim' title='Simulation' macro='Component.Property.SetFilter' >
									<argument exp='this' />
									<argument exp='&quot;PR_SCALE&quot;' />
									<argument exp='.PrescaleStr' />
								</command>
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Prv_SimSetupScope' description='' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<local name='ObjectHandle' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='ParentName' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='Port' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='Bit' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='calculation' title='Initialise values' >
							<exp exp='.ObjectHandle = this' />
							<exp exp='ScopeGroup = 0' />
							<exp exp='ScopeStream[0] = 0' />
							<exp exp='ScopeStream[1] = 0' />
							<exp exp='ScopeStream[2] = 0' />
							<exp exp='ScopeStream[3] = 0' />
						</command>
						<command class_type='sim' title='Step away from UART CAL' macro='Tree.StepParent' >
							<argument exp='.ObjectHandle' />
						</command>
						<command class_type='sim' title='Get Name Of Current Position' macro='Tree.GetName' >
							<return exp='.ParentName' />
							<argument exp='.ObjectHandle' />
						</command>
						<command class_type='calculation' title='Calculation' >
							<exp exp='.ParentName = .ParentName + &quot; - SPI &quot; + STRING CHANNEL' />
						</command>
						<command class_type='sim' title='Simulation' macro='DataRecorder.AddGroup' >
							<return exp='ScopeGroup' />
							<argument exp='.ParentName' />
						</command>
						<command class_type='comment' title='' comment='MOSI Stream' textarea='12,0,12,0' />
						<command class_type='sim' title='Simulation' macro='DataRecorder.AddStream' >
							<return exp='ScopeStream[StrmId_MOSI]' />
							<argument exp='ScopeGroup' />
							<argument exp='&quot;MOSI &quot; + MOSI_PORT' />
						</command>
						<command class_type='calculation' title='Calculation' >
							<exp exp='.Port = Char$ (MOSI_PORT,5) - &apos;A&apos;' />
						</command>
						<command class_type='calculation' title='Calculation' >
							<exp exp='.Bit = Char$ (MOSI_PORT,7) - &apos;0&apos;' />
						</command>
						<command class_type='decision' title='Decision' exp='Char$ (MOSI_PORT,8) &gt; 0' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' >
									<exp exp='.Bit = (.Bit * 10) + (Char$ (MOSI_PORT,8) - &apos;0&apos;)' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='sim' title='Simulation' macro='DataRecorder.AddPort' >
							<argument exp='ScopeStream[StrmId_MOSI]' />
							<argument exp='.Port' />
							<argument exp='(1 &lt;&lt; .Bit)' />
							<argument exp='1' />
							<argument exp='0' />
						</command>
						<command class_type='comment' title='' comment='MISO Stream' textarea='12,0,12,0' />
						<command class_type='sim' title='Simulation' macro='DataRecorder.AddStream' >
							<return exp='ScopeStream[StrmId_MISO]' />
							<argument exp='ScopeGroup' />
							<argument exp='&quot;MISO &quot; + MISO_PORT' />
						</command>
						<command class_type='calculation' title='Calculation' >
							<exp exp='.Port = Char$ (MISO_PORT,5) - &apos;A&apos;' />
						</command>
						<command class_type='calculation' title='Calculation' >
							<exp exp='.Bit = Char$ (MISO_PORT,7) - &apos;0&apos;' />
						</command>
						<command class_type='decision' title='Decision' exp='Char$ (MISO_PORT,8) &gt; 0' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' >
									<exp exp='.Bit = (.Bit * 10) + (Char$ (MISO_PORT,8) - &apos;0&apos;)' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='sim' title='Simulation' macro='DataRecorder.AddPort' >
							<argument exp='ScopeStream[StrmId_MISO]' />
							<argument exp='.Port' />
							<argument exp='(1 &lt;&lt; .Bit)' />
							<argument exp='1' />
							<argument exp='0' />
						</command>
						<command class_type='comment' title='' comment='SCK Stream' textarea='12,0,12,0' />
						<command class_type='sim' title='Simulation' macro='DataRecorder.AddStream' >
							<return exp='ScopeStream[StrmId_Clk]' />
							<argument exp='ScopeGroup' />
							<argument exp='&quot;SCK &quot; + SCK_PORT' />
						</command>
						<command class_type='sim' title='Simulation' macro='DataRecorder.SetDecodable' >
							<argument exp='ScopeStream[StrmId_Clk]' />
							<argument exp='0' />
						</command>
						<command class_type='calculation' title='Calculation' >
							<exp exp='.Port = Char$ (SCK_PORT,5) - &apos;A&apos;' />
						</command>
						<command class_type='calculation' title='Calculation' >
							<exp exp='.Bit = Char$ (SCK_PORT,7) - &apos;0&apos;' />
						</command>
						<command class_type='decision' title='Decision' exp='Char$ (SCK_PORT,8) &gt; 0' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' >
									<exp exp='.Bit = (.Bit * 10) + (Char$ (SCK_PORT,8) - &apos;0&apos;)' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='sim' title='Simulation' macro='DataRecorder.AddPort' >
							<argument exp='ScopeStream[StrmId_Clk]' />
							<argument exp='.Port' />
							<argument exp='(1 &lt;&lt; .Bit)' />
							<argument exp='1' />
							<argument exp='0' />
						</command>
						<command class_type='comment' title='' comment='CS Stream' textarea='12,0,12,0' />
						<command class_type='decision' title='Decision' exp='UseAutoCS' swap='0' >
							<flowline >
								<command class_type='decision' title='Decision' exp='Length$ (SS_PORT) &gt; 0' swap='0' >
									<flowline >
										<command class_type='sim' title='Simulation' macro='DataRecorder.AddStream' >
											<return exp='ScopeStream[StrmId_SS]' />
											<argument exp='ScopeGroup' />
											<argument exp='&quot;CS / SS &quot; + SS_PORT' />
										</command>
										<command class_type='calculation' title='Calculation' >
											<exp exp='.Port = Char$ (SS_PORT,5) - &apos;A&apos;' />
										</command>
										<command class_type='calculation' title='Calculation' >
											<exp exp='.Bit = Char$ (SS_PORT,7) - &apos;0&apos;' />
										</command>
										<command class_type='decision' title='Decision' exp='Char$ (SS_PORT,8) &gt; 0' swap='0' >
											<flowline >
												<command class_type='calculation' title='Calculation' >
													<exp exp='.Bit = (.Bit * 10) + (Char$ (SS_PORT,8) - &apos;0&apos;)' />
												</command>
											</flowline>
											<flowline />
										</command>
										<command class_type='sim' title='Simulation' macro='DataRecorder.AddPort' >
											<argument exp='ScopeStream[StrmId_SS]' />
											<argument exp='.Port' />
											<argument exp='(1 &lt;&lt; .Bit)' />
											<argument exp='1' />
											<argument exp='0' />
										</command>
									</flowline>
									<flowline />
								</command>
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='GetList' description='returns Named property list' statediag='0' >
						<return name='Return' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;\x00&quot;' setinit='' >
							<array size='2000' />
						</return>
						<param name='Name' type='T8*' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</param>
						<command class_type='comment' title='' comment='This should now be largely unused as we expose properties now instead of copying values back and forth' textarea='12,0,12,0' />
						<command class_type='decision' title='Decision' exp='(Compare$ (.Name,&quot;PR_SCALE&quot;,1) = 0) OR (Compare$ (.Name,&quot;CKP&quot;,1) = 0) OR (Compare$ (.Name,&quot;CKE&quot;,1) = 0) OR (Compare$ (.Name,&quot;SMP&quot;,1) = 0)' swap='0' >
							<flowline >
								<command class_type='sim' title='Simulation' macro='Component.Property.GetFilter' >
									<return exp='.Return' />
									<argument exp='this' />
									<argument exp='.Name' />
								</command>
							</flowline>
							<flowline >
								<command class_type='decision' title='Decision' exp='Compare$ (.Name,&quot;CHANNEL&quot;,1) = 0' swap='0' >
									<flowline >
										<command class_type='call' title='Call Macro' macro='GetChannelList' >
											<return exp='.Return' />
										</command>
										<command class_type='calculation' title='Update the internal property too' >
											<exp exp='::Component .Property .SetFilter (this,&quot;CHANNEL&quot;, .Return)' />
										</command>
									</flowline>
									<flowline >
										<command class_type='sim' title='Call Macro' macro='Debug.PrintLn' >
											<argument exp='&quot;GetList(&quot; + .Name + &quot;) not valid. Use CHANNEL, PR_SCALE, CKP, CKE or SMP&quot;' />
										</command>
									</flowline>
								</command>
							</flowline>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Main' description='' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<local name='in' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='comment' title='' comment='Component Version Information;
15, 2.1, 04-11-24, BR, Added pin caption to the remap port pin selection property;
16, 2.2, 04-11-24, BR, Cleaned up pin caption from none remap port pin property;
17, 2.2, 04-11-24, BR, Minor change to source to reflect change to I2C;
21, 21.0, 28-04-25, MW, Minor change sim only to prevent chars FCD Helper from appearing on the display;
22, 21.0, 15-07-25, BR, Sorted the remap pin properties by port pin;' textarea='12,0,12,0' />
						<command class_type='sim' title='Component needs to be exported with this property set to Yes' macro='Component.Property.SetValue' >
							<argument exp='this' />
							<argument exp='&quot;Loading&quot;' />
							<argument exp='1' />
						</command>
						<command class_type='loop' title='Loop' type='0' exp='1' >
							<flowline >
								<command class_type='delay' title='Delay' exp='10' type='1' />
								<command class_type='call' title='Call Macro' macro='Master_Init' />
								<command class_type='call' title='Call Macro' macro='Master_Byte' >
									<return exp='.in' />
									<argument exp='&apos;\n&apos;' />
								</command>
								<command class_type='call' title='Call Macro' macro='Master_Byte' >
									<return exp='.in' />
									<argument exp='&apos;\r&apos;' />
								</command>
								<command class_type='call' title='Call Macro' macro='Master_Byte' >
									<return exp='.in' />
									<argument exp='0xA0' />
								</command>
								<command class_type='call' title='Call Macro' macro='Master_Uninit' />
							</flowline>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='ParsePin' description='Get the Port PIN number from the Port String' statediag='0' >
						<return name='Return' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Port' type='T8*' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</param>
						<local name='n' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='calculation' title='Calculation' >
							<exp exp='.n = 0' />
							<exp exp='.Return = 0' />
						</command>
						<command class_type='loop' title='Find the dot' type='0' exp='(.Port[.n] != &apos;.&apos;) AND (.Port[.n] != 0)' >
							<flowline >
								<command class_type='calculation' title='Calculation' >
									<exp exp='.n = .n + 1' />
								</command>
							</flowline>
						</command>
						<command class_type='decision' title='have we found the dot?' exp='.Port[.n] = 0' swap='1' >
							<flowline >
								<command class_type='decision' title='check for high byte' exp='.Port[.n - 1] = &apos;1&apos;' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' >
											<exp exp='.Return = 8' />
											<exp exp='.n = .n + 1' />
										</command>
										<command class_type='decision' title='Decision' exp='(.Port[.n] &gt; &apos;0&apos;) AND (.Port[.n] &lt; &apos;8&apos;)' swap='0' >
											<flowline >
												<command class_type='calculation' title='Calculation' >
													<exp exp='.Return = .Return + .Port[.n] - &apos;0&apos;' />
												</command>
											</flowline>
											<flowline />
										</command>
									</flowline>
									<flowline >
										<command class_type='calculation' title='Calculation' >
											<exp exp='.n = .n + 1' />
										</command>
										<command class_type='loop' title='Loop' type='0' exp='(.Port[.n] &gt;= &apos;0&apos;) AND (.Port[.n] &lt;= &apos;9&apos;)' >
											<flowline >
												<command class_type='calculation' title='Calculation' >
													<exp exp='.Return = (.Return * 10) + .Port[.n] - &apos;0&apos;' />
													<exp exp='.n = .n + 1' />
												</command>
											</flowline>
										</command>
									</flowline>
								</command>
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
			</macros>
			<component class_type='ref' guid='fc3c670c-502a-418f-a123-649179752383' vmin='0' vmaj='1' codename='fcdhelper' panelId='-1' x='-1.19043' y='-0.557223' z='209.258' xsz='0.0625' ysz='0.0625' zsz='0.0625' xang='0' yang='0' zang='0' xquat='0' yquat='0' zquat='0' wquat='1' visible='0' scadavisible='1' interactive='0' solid='0' layer='1' poslock='0' ancTop='0' ancBottom='0' ancLeft='0' ancRight='0' ancMinX='0' ancMinY='0' comp2dType='0' >
				<resources />
				<properties />
				<values />
				<events />
				<apis />
				<variables />
				<macros />
			</component>
			<component class_type='ref' guid='a96ddf9d-631d-4db7-a66e-c709e2de7164' vmin='2' vmaj='1' codename='TimeStamp1' panelId='-1' x='-0.0625' y='0' z='0' xsz='0.0625' ysz='0.0625' zsz='0.0625' xang='0' yang='0' zang='0' xquat='0' yquat='0' zquat='0' wquat='1' visible='0' scadavisible='1' interactive='0' solid='0' layer='1' poslock='0' ancTop='0' ancBottom='0' ancLeft='0' ancRight='0' ancMinX='0' ancMinY='0' comp2dType='0' >
				<resources />
				<properties />
				<values >
					<value target='DateFormat' data='000' />
					<value target='TimeSeperator' data=':' />
					<value target='DateSeparator' data='/' />
					<value target='TimeStampSeparator' data=' - ' />
					<value target='IncludeMillis' data='1' />
				</values>
				<events />
				<apis />
				<variables />
				<macros />
			</component>
			<component class_type='ref' guid='12f9a9ab-1447-48e0-a86c-19bb987b1882' vmin='0' vmaj='2' codename='API_SPI_Dummy1' panelId='-1' x='0' y='0' z='0' xsz='0.01' ysz='0.01' zsz='0' xang='0' yang='0' zang='0' xquat='0' yquat='0' zquat='0' wquat='1' visible='0' scadavisible='1' interactive='0' solid='0' layer='1' poslock='0' ancTop='0' ancBottom='0' ancLeft='0' ancRight='0' ancMinX='0' ancMinY='0' comp2dType='0' >
				<resources />
				<properties />
				<values />
				<events />
				<apis />
				<variables />
				<macros />
			</component>
			<component class_type='ref' guid='58be670e-18fb-477e-ab09-61fde14b23ec' vmin='0' vmaj='1' codename='LibraryComponent1' panelId='-1' x='0' y='0' z='0.7545' xsz='100' ysz='100' zsz='100' xang='0' yang='0' zang='0' xquat='0' yquat='0' zquat='0' wquat='1' visible='1' scadavisible='1' interactive='1' solid='1' layer='1' poslock='1' ancTop='0' ancBottom='0' ancLeft='0' ancRight='0' ancMinX='0' ancMinY='0' comp2dType='0' >
				<resources />
				<properties />
				<values >
					<value target='Text::sText' data='Code
Abstraction
Layer
SPI' />
					<value target='Name' data='' />
					<value target='Peripheral::sText' data='' />
					<value target='Text::nVerticalAlignment' data='002' />
					<value target='ShowComms' data='0' />
					<value target='InputIcon::CommsType' data='255' />
					<value target='InputIcon::LinkTo' data='0' />
					<value target='IconsOnRight' data='0' />
					<value target='OutputIcon::CommsType' data='255' />
					<value target='OutputIcon::LinkTo' data='0' />
					<value target='InputIcon1::CommsType' data='255' />
					<value target='ConsoleHandle' data='0' />
					<value target='Upgraded' data='0' />
				</values>
				<events />
				<apis />
				<variables />
				<macros />
			</component>
		</component>
	</components>
	<scadaresourcelookup />
	<keymap />
	<panel2d shadows='2' lighting='0' brightness='0' >
		<background rgb='9737364' img='' style='0' />
		<camera xe='0.201202' ye='8.09672' ze='208.99' xt='0.201202' yt='8.09672' zt='0' xquat='0' yquat='0' zquat='0' wquat='1' />
		<viewport dx='236' dy='782' zoom='136.638' fix_topleft='0' />
		<page x='1000' y='1000' show='0' rgb='0' />
		<winpos ID='7005' RectRecentFloat='925,0,1562,882' RectRecentDocked='1229,141,1485,1013' RecentFrameAlignment='16384' RecentRowIndex='0' IsFloating='0' MRUWidth='32767' PinState='0' IsMaximized='0' IsVisible='0' />
	</panel2d>
	<panel3d shadows='0' lighting='2' brightness='0' perspective='1' >
		<background rgb='32768' img='' style='0' />
		<table rgb='8404224' img='' style='0' size='0' />
		<camera xe='0.970205' ye='0.616425' ze='10.3988' xt='0.970205' yt='0.616425' zt='0' xquat='0' yquat='0' zquat='0' wquat='1' />
		<camerakey0 xe='0' ye='0' ze='300' xt='0' yt='0' zt='0' xquat='0' yquat='0' zquat='0' wquat='1' />
		<camerakey1 xe='-3.67394e-14' ye='0' ze='-300' xt='0' yt='0' zt='0' xquat='0' yquat='1' zquat='0' wquat='6.12323e-17' />
		<camerakey2 xe='0' ye='-300' ze='6.66134e-14' xt='0' yt='0' zt='0' xquat='-0.707107' yquat='0' zquat='0' wquat='0.707107' />
		<camerakey3 xe='-3.67394e-14' ye='300' ze='6.66134e-14' xt='0' yt='0' zt='0' xquat='-4.32978e-17' yquat='0.707107' zquat='0.707107' wquat='4.32978e-17' />
		<camerakey4 xe='-300' ye='-6.66134e-14' ze='6.66134e-14' xt='0' yt='0' zt='0' xquat='-0.5' yquat='0.5' zquat='0.5' wquat='0.5' />
		<camerakey5 xe='300' ye='-6.66134e-14' ze='6.66134e-14' xt='0' yt='0' zt='0' xquat='-0.5' yquat='-0.5' zquat='-0.5' wquat='0.5' />
		<camerakey6 xe='-173.205' ye='-173.205' ze='173.205' xt='0' yt='0' zt='0' xquat='-0.424708' yquat='0.17592' zquat='0.339851' wquat='0.820473' />
		<winpos ID='7004' RectRecentFloat='0,425,654,1002' RectRecentDocked='0,0,240,667' RecentFrameAlignment='16384' RecentRowIndex='0' IsFloating='0' MRUWidth='32767' PinState='0' IsMaximized='0' IsVisible='0' />
	</panel3d>
	<panels2d count='0' />
	<layout >
		<view type='0' name='Main' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Prv_LoadPrescalers' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='GetConsoleHandle' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Prv_SimSetupScope' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Slave_Uninit' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Slave_Init' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Master_Uninit' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Master_Transaction' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Ev_CompStop' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Ev_SimStart' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Prv_PopulateInjectorFilter' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Slave_TxByte' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Slave_RxByte' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Prv_GetInjectorHandle' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Prv_SetupConsole' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Prv_TextConsole' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Ev_FmtPacket' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Ev_DecodeSync' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Prv_SimShowWaveform' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='65' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Ev_CompStart' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='SetValue' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='GetValue' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='GetList' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='SetPrescaler' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Ev_Initialise' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Ev_ChipChange' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='ParsePin' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='ParseSTRemapPins' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Prv_ConvertPort' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='GetChannelList' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Prv_LoadPortString' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='ParseRemapPins' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Prv_LoadChannelList' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Ev_Property_Change' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Prv_LoadChannelPorts' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Master_Disable_CS' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Master_Enable_CS' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Master_Byte' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Ev_AddHeader' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Master_Init' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Ev_AddProperty' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Ev_Timer' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Ev_Renamed' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='100' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Ev_LoadComplete' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='100' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Ev_PostInitialise' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='100' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Prv_BubbleSort' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='100' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Prv_GetNumericPos' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='100' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Prv_NumericCompare' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='100' scrollx='0' scrolly='0' flags='0' />
	</layout>
</document>
</root>
