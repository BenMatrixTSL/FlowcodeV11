<root>
<document scada='0' projtype='1' schema='103' license='1,82702381,95CJQR' title='' description='' fcversion='720896' target='PIC.16F.16F1937' >
	<config data='!0,fe2!10,1eff%0,2%3,0%5,1%6,1%7,1%8,1%9,3%b,1%c,0%d,0%10,3%14,3%18,0%19,1%1a,1%1c,1%1d,0' clkspd='19660800' simspd='1' usewdt='0' constif='0' Use3V3='0' />
	<plugins >
		<dll_models enabled='1' />
	</plugins>
	<supplement use='0' head='' body='' />
	<debug />
	<traces />
	<ghost >
		<FK2 >
			<data name='FK2D0' port='4294967295' pin='4294967295' />
			<data name='FK2D1' port='4294967295' pin='4294967295' />
			<data name='FK2D2' port='4294967295' pin='4294967295' />
			<data name='FK2D3' port='4294967295' pin='4294967295' />
			<data name='FK2D4' port='4294967295' pin='4294967295' />
			<data name='FK2D5' port='4294967295' pin='4294967295' />
			<data name='FK2D6' port='4294967295' pin='4294967295' />
			<data name='FK2D7' port='4294967295' pin='4294967295' />
			<data name='FK2D8' port='4294967295' pin='4294967295' />
			<data name='FK2D9' port='4294967295' pin='4294967295' />
			<data name='FK2D10' port='4294967295' pin='4294967295' />
			<data name='FK2D11' port='4294967295' pin='4294967295' />
			<data name='FK2D12' port='4294967295' pin='4294967295' />
			<data name='FK2D13' port='4294967295' pin='4294967295' />
			<data name='FK2D14' port='4294967295' pin='4294967295' />
			<data name='FK2D15' port='4294967295' pin='4294967295' />
			<data name='FK2A0' port='4294967295' pin='4294967295' />
			<data name='FK2A1' port='4294967295' pin='4294967295' />
			<data name='FK2A2' port='4294967295' pin='4294967295' />
			<data name='FK2A3' port='4294967295' pin='4294967295' />
			<data name='FK2A4' port='4294967295' pin='4294967295' />
			<data name='FK2A5' port='4294967295' pin='4294967295' />
		</FK2>
		<ICD >
			<data name='AnalogPrescaleValue' value='19' />
			<data name='DigitalSampleRate' value='100000' />
			<data name='BreakpointCount' value='8' />
			<data name='CallStackDepthCount' value='8' />
			<data name='ClockPort' value='1' />
			<data name='ClockPin' value='6' />
			<data name='DataPort' value='1' />
			<data name='DataPin' value='7' />
			<data name='UseDefaultPins' value='1' />
			<data name='WrapEnabled' value='1' />
			<data name='CommsDelayOverridden' value='0' />
			<data name='CommsDelay' value='9' />
			<data name='CalculatedCommsDelay' value='9' />
			<data name='AnalogEB2PrescaleValue' value='2' />
			<data name='DigitalEB2SampleRate' value='100000' />
		</ICD>
		<pins >
			<digital A='0' B='0' C='0' D='0' E='0' F='0' G='0' H='0' I='0' J='0' K='0' L='0' M='0' N='0' O='0' P='0' Q='0' R='0' S='0' T='0' U='0' V='0' W='0' X='0' Y='0' Z='0' />
			<analog A='0' B='0' C='0' D='0' E='0' F='0' G='0' H='0' I='0' J='0' K='0' L='0' M='0' N='0' O='0' P='0' Q='0' R='0' S='0' T='0' U='0' V='0' W='0' X='0' Y='0' Z='0' />
		</pins>
	</ghost>
	<components >
		<settings autoimg='0' center='1' unitscale='1' fixedscale='0' fixedx='0' fixedy='0' fixedz='0' headcode='0' />
		<definition guid='ed3a5141-43bb-43e0-86b0-2243fd1147ca' vstate='40' vmin='0' vmaj='2' srcleaf='I2C.fcfx' visiblename='I2C' description='CAL = Code Abstraction Layer - Allows one code base to run on a wide range of chips.
A low level implementation giving direct access to the Two Wire IÂ²C peripheral.' category='Misc' category2='' category3='' bIs2dOnly='1' bIs3dOnly='0' bIsWysiwyg='0' catenable='1' author='Matrix TSL' manuname='Matrix TSL' manucode='CAL' sysinfo='15741719' keywords='' dynamic='1' scadaCompatible='1' embeddedCompatible='1' showmacros='1' iconpath='..\icons\components\Chip.png' />
		<component class_type='root' codename='cal_i2c' panelId='-1' x='0' y='0' z='0' xsz='1' ysz='1' zsz='1' xang='0' yang='0' zang='0' xquat='0' yquat='0' zquat='0' wquat='1' visible='1' scadavisible='1' interactive='1' solid='1' layer='0' poslock='0' ancTop='0' ancBottom='0' ancLeft='0' ancRight='0' ancMinX='0' ancMinY='0' comp2dType='0' >
			<resources />
			<properties >
				<property name='Component Enable' target='ENABLED' typeid='7' hidden='0' locked='0' info='Allows the component to be easily disabled from generating code, allowing for multiple CAL components
to be easily created. For example a sensor IC with both I2C and SPI communications interfaces.' />
				<property name='REF' target='REF' typeid='14' hidden='1' locked='0' info='' expansion='MX_I2C_$(variable:u)$(instance)' initialiser='' />
				<property name='Connections' folder='property_2' hidden='0' >
					<property name='Channel' target='CHANNEL' typeid='16' hidden='0' locked='0' info='Channel selection' filter='000Software
001Channel 1
' expansion='MX_I2C_$(variable:u)_$(instance)' initialiser='($(value))' />
					<property name='Mode' target='Mode' typeid='16' hidden='0' locked='0' info='Defines if the component will be used for Master or Slave communications.

Master mode supports a software bitbanged I2C channel.
Slave mode requires a hardware I2C peripheral to catch the communications from the Master.' filter='000Master
001Slave' />
					<property name='SDA' target='SDA' typeid='5' hidden='0' locked='1' info='Pin used for SDA (data signal)' />
					<property name='SDA Remap Pin' target='SDAPins' typeid='16' hidden='1' locked='0' sorted='1' info='' filter='008$PORTB.0
009$PORTB.1
010$PORTB.2
011$PORTB.3
012$PORTB.4
013$PORTB.5
014$PORTB.6
015$PORTB.7
000$PORTC.0
001$PORTC.1
002$PORTC.2
003$PORTC.3
004$PORTC.4
005$PORTC.5
006$PORTC.6
007$PORTC.7' />
					<property name='SCL' target='SCL' typeid='5' hidden='0' locked='1' info='Pin used for SCL (clock signal)' />
					<property name='SCL Remap Pin' target='SCLPins' typeid='16' hidden='1' locked='0' sorted='1' info='' filter='008$PORTB.0
009$PORTB.1
010$PORTB.2
011$PORTB.3
012$PORTB.4
013$PORTB.5
014$PORTB.6
015$PORTB.7
000$PORTC.0
001$PORTC.1
002$PORTC.2
003$PORTC.3
004$PORTC.4
005$PORTC.5
006$PORTC.6
007$PORTC.7' />
				</property>
				<property name='Options' folder='property_3' hidden='0' >
					<property name='Stop Delay' target='StopDel' typeid='7' hidden='0' locked='0' info='On older microcontroller devices there is a potential for the I2C hardware channel to lock up if there is not 
a 10ms delay between an I2C stop event and the next I2C start event.

Most modern microcontrollers will not have a problem so this property can be disabled to speed up the 
I2C communications. ' expansion='MX_I2C_$(variable:u)_$(instance)' initialiser='($(value))' />
					<property name='Baud Select' target='BAUD_LIST' typeid='16' hidden='0' locked='0' info='Baud rate option selector' filter='000Custom
001100KHz
002400KHz
0031MHz' />
					<property name='Baud Rate' target='BAUD' typeid='14' hidden='0' locked='1' info='Baud rate to be used' expansion='MX_I2C_$(variable:u)_$(instance)' initialiser='($(value))' />
					<property name='Slew Rate Control' target='SRC' typeid='16' hidden='0' locked='0' info='Slew Rate Control Enabled or Disabled' filter='000Disabled
001Enabled' />
					<property name='SMBus Inputs' target='SMB' typeid='16' hidden='0' locked='0' info=' When Enabled input logic thresholds are compliant with SMBus specification' filter='000Disabled
001Enabled' />
					<property name='Clock Stretching' target='ClockStretching' typeid='7' hidden='1' locked='0' info='Allows the clock signal to be stretched to help combat high capacitance on the SCL/SDA bus signals.
When setting the clock high the CAL code will wait for the clock to read as a high before continuing.
Can potentially cause lockups if pull up resistors are missing from the SDA / SCL signals.
Only compatible with Software I2C channels. ' expansion='MX_I2C_$(variable:u)_$(instance)' initialiser='($(value))' />
				</property>
				<property name='BMode' target='BMODE' typeid='14' hidden='1' locked='0' info='' expansion='MX_I2C_$(variable:u)_$(instance)' initialiser='($(value))' />
				<property name='SDA_PORT' target='SDA_PORT' typeid='10' hidden='1' locked='0' info='' expansion='MX_I2C_$(variable:u)_$(instance)' initialiser='port$(value:6-,1,l)' />
				<property name='SDA_TRIS' target='SDA_TRIS' typeid='10' hidden='1' locked='0' info='' expansion='MX_I2C_$(variable:u)_$(instance)' initialiser='tris$(value:6-,1,l)' />
				<property name='SDA_ODC' target='SDA_ODC' typeid='10' hidden='1' locked='0' info='' expansion='MX_I2C_$(variable:u)_$(instance)' initialiser='$(value:1-,6,6)' />
				<property name='SDA_PIN' target='SDA_PIN' typeid='14' hidden='1' locked='0' info='' expansion='MX_I2C_$(variable:u)_$(instance)' initialiser='($(value))' />
				<property name='SCL_PORT' target='SCL_PORT' typeid='10' hidden='1' locked='0' info='' expansion='MX_I2C_$(variable:u)_$(instance)' initialiser='port$(value:6-,1,l)' />
				<property name='SCL_TRIS' target='SCL_TRIS' typeid='10' hidden='1' locked='0' info='' expansion='MX_I2C_$(variable:u)_$(instance)' initialiser='tris$(value:6-,1,l)' />
				<property name='SCL_ODC' target='SCL_ODC' typeid='10' hidden='1' locked='0' info='' expansion='MX_I2C_$(variable:u)_$(instance)' initialiser='$(value:1-,6,6)' />
				<property name='SCL_PIN' target='SCL_PIN' typeid='14' hidden='1' locked='0' info='' expansion='MX_I2C_$(variable:u)_$(instance)' initialiser='($(value))' />
				<property name='MASTER' target='MASTER' typeid='14' hidden='1' locked='1' info='' expansion='MX_I2C_$(value)' initialiser='' />
				<property name='Simulation' folder='property_1' hidden='0' >
					<property name='Scope Traces' target='ScopeTraces' typeid='7' hidden='0' locked='0' info='Selects if the component pin connections are automatically generated on the data recorder window or not.
Yes: Automatically add the component pins to a group on the data recorder which will reflect the sim data during simultion.
No: Do not show the pin signals on the data recorder window.' />
					<property name='Console Data' target='ConsoleData' typeid='7' hidden='0' locked='0' info='Selects if the console data is automatically generated or not' />
					<property name='API' target='Injector' typeid='16' hidden='0' locked='0' info='Specifies the API component on the panel to interact with to provide comms simulation.' filter='000 
' />
					<property name='Injector Handle' target='InjectorHandle' typeid='21' hidden='1' locked='0' info='' />
					<property name='Injector Channel' target='InjectorChannel' typeid='21' hidden='1' locked='0' info='' />
					<property name='Loading' target='Loading' typeid='7' hidden='1' locked='0' info='' />
				</property>
				<property name='REMAPPABLE' target='REMAPPABLE' typeid='14' hidden='1' locked='1' info='' />
				<property name='SDA Bank' target='SDABank' typeid='10' hidden='1' locked='1' info='' />
				<property name='SDA Bank 2' target='SDABank2' typeid='10' hidden='1' locked='1' info='' />
				<property name='SCL Bank' target='SCLBank' typeid='10' hidden='1' locked='1' info='' />
				<property name='SCL Bank 2' target='SCLBank2' typeid='10' hidden='1' locked='1' info='' />
				<property name='SDA RP Num' target='SDARPNUM' typeid='21' hidden='1' locked='1' info='' />
				<property name='SCL RP Num' target='SCLRPNUM' typeid='21' hidden='1' locked='1' info='' />
				<property name='SDA RP REG' target='SDARPREG' typeid='10' hidden='1' locked='1' info='' />
				<property name='SCL RP REG' target='SCLRPREG' typeid='10' hidden='1' locked='1' info='' />
				<property name='SDA Reg' target='SDAREG' typeid='16' hidden='1' locked='1' info='' filter='000RC0PPS
001RC1PPS
002RC2PPS
003RC3PPS
004RC4PPS
005RC5PPS
006RC6PPS
007RC7PPS
008RB0PPS
009RB1PPS
010RB2PPS
011RB3PPS
012RB4PPS
013RB5PPS
014RB6PPS
015RB7PPS' />
				<property name='SCL Reg' target='SCLREG' typeid='16' hidden='1' locked='1' info='' filter='000RC0PPS
001RC1PPS
002RC2PPS
003RC3PPS
004RC4PPS
005RC5PPS
006RC6PPS
007RC7PPS
008RB0PPS
009RB1PPS
010RB2PPS
011RB3PPS
012RB4PPS
013RB5PPS
014RB6PPS
015RB7PPS' />
				<property name='Sim' target='Sim' typeid='7' hidden='1' locked='0' info='' />
				<property name='Parent Name' target='ParentName' typeid='10' hidden='1' locked='0' info='' />
				<property name='BitDelay' target='BitDelay' typeid='21' hidden='1' locked='0' info='' />
				<property name='SDA Alts' target='SDAAlts' typeid='16' hidden='1' locked='1' info='' />
				<property name='SCL Alts' target='SCLAlts' typeid='16' hidden='1' locked='1' info='' />
				<property name='SDAAlt' target='SDAAlt' typeid='21' hidden='1' locked='1' info='' expansion='MX_I2C_SDA_AF_$(instance)' initialiser='($(value))' />
				<property name='SCLAlt' target='SCLAlt' typeid='21' hidden='1' locked='1' info='' expansion='MX_I2C_SCL_AF_$(instance)' initialiser='($(value))' />
				<property name='Sorted' target='Sorted' typeid='7' hidden='1' locked='0' info='' />
			</properties>
			<values >
				<value target='ENABLED' data='1' />
				<value target='REF' data='1' />
				<value target='CHANNEL' data='001' />
				<value target='Mode' data='000' />
				<value target='SDA' data='$PORTC.4' />
				<value target='SDAPins' data='000' />
				<value target='SCL' data='$PORTC.3' />
				<value target='SCLPins' data='001' />
				<value target='StopDel' data='0' />
				<value target='BAUD_LIST' data='001' />
				<value target='BAUD' data='100000' />
				<value target='SRC' data='000' />
				<value target='SMB' data='000' />
				<value target='ClockStretching' data='1' />
				<value target='BMODE' data='0' />
				<value target='SDA_PORT' data='$PORTC.4' />
				<value target='SDA_TRIS' data='$PORTC.4' />
				<value target='SDA_ODC' data='' />
				<value target='SDA_PIN' data='4' />
				<value target='SCL_PORT' data='$PORTC.3' />
				<value target='SCL_TRIS' data='$PORTC.3' />
				<value target='SCL_ODC' data='' />
				<value target='SCL_PIN' data='3' />
				<value target='MASTER' data='1' />
				<value target='ScopeTraces' data='0' />
				<value target='ConsoleData' data='1' />
				<value target='Injector' data='000' />
				<value target='InjectorHandle' data='0' />
				<value target='InjectorChannel' data='0' />
				<value target='Loading' data='1' />
				<value target='REMAPPABLE' data='' />
				<value target='SDABank' data='b' />
				<value target='SDABank2' data='c' />
				<value target='SCLBank' data='b' />
				<value target='SCLBank2' data='c' />
				<value target='SDARPNUM' data='21' />
				<value target='SCLRPNUM' data='20' />
				<value target='SDARPREG' data='SSP1DATPPS' />
				<value target='SCLRPREG' data='SSP1CLKPPS' />
				<value target='SDAREG' data='000' />
				<value target='SCLREG' data='001' />
				<value target='Sim' data='1' />
				<value target='ParentName' data='' />
				<value target='BitDelay' data='10' />
				<value target='SDAAlts' data='000' />
				<value target='SCLAlts' data='000' />
				<value target='SDAAlt' data='0' />
				<value target='SCLAlt' data='0' />
				<value target='Sorted' data='0' />
			</values>
			<events >
				<event class='Components' event='Property' target='Ev_Property_Changed' />
				<event class='Connection' event='FCDChange' target='Ev_ChipChange' />
				<event class='System' event='Timer' target='Ev_Timer' />
				<event class='DataRecorder' event='FmtPacket' target='Ev_FmtPacket' />
				<event class='Compile' event='AddHeader' target='Ev_AddHeader' />
				<event class='Components' event='PostInitialise' target='Ev_PostInitialise' />
				<event class='DataRecorder' event='ResyncPacket' target='Ev_ResyncPacket' />
				<event class='Components' event='Initialise' target='Ev_Initialise' />
				<event class='Compile' event='Start' target='Ev_CompStart' />
				<event class='DataRecorder' event='Decode' target='Ev_DecodeSync' />
				<event class='Connection' event='ChipChange' target='Ev_ChipChange' />
				<event class='Components' event='Renamed' target='Ev_Renamed' />
				<event class='Simulation' event='Start' target='Ev_SimStart' />
				<event class='Components' event='Removing' target='Ev_Adding' />
				<event class='System' event='LoadComplete' target='Ev_LoadComplete' />
				<event class='Compile' event='Stop' target='Ev_CompStop' />
			</events>
			<apis >
				<api name='Slave_Uninit' alt='FC_CAL_I2C_$(macro)_$(instance)' type='5' proto='1' />
				<api name='GetValue' alt='' type='2' proto='1' />
				<api name='Transaction_Write' alt='FC_CAL_I2C_Transaction_Write_$(instance)' type='5' proto='1' />
				<api name='Master_Stop' alt='FC_CAL_I2C_$(macro)_$(instance)' type='5' proto='1' />
				<api name='Slave_Init' alt='FC_CAL_I2C_$(macro)_$(instance)' type='5' proto='1' />
				<api name='Master_Uninit' alt='FC_CAL_I2C_$(macro)_$(instance)' type='5' proto='1' />
				<api name='Slave_Status' alt='FC_CAL_I2C_$(macro)_$(instance)' type='5' proto='1' />
				<api name='GetConsoleHandle' alt='' type='2' proto='1' />
				<api name='Slave_TxByte' alt='FC_CAL_I2C_$(macro)_$(instance)' type='5' proto='1' />
				<api name='Transaction_Uninit' alt='FC_CAL_I2C_Transaction_Uninit_$(instance)' type='5' proto='1' />
				<api name='Slave_RxByte' alt='FC_CAL_I2C_$(macro)_$(instance)' type='5' proto='1' />
				<api name='SetValue' alt='' type='2' proto='1' />
				<api name='Master_Init' alt='FC_CAL_I2C_$(macro)_$(instance)' type='5' proto='1' />
				<api name='Master_Start' alt='FC_CAL_I2C_$(macro)_$(instance)' type='5' proto='1' />
				<api name='Transaction_Read' alt='FC_CAL_I2C_Transaction_Read_$(instance)' type='5' proto='1' />
				<api name='Master_TxByte' alt='FC_CAL_I2C_$(macro)_$(instance)' type='5' proto='1' />
				<api name='Master_Restart' alt='FC_CAL_I2C_$(macro)_$(instance)' type='5' proto='1' />
				<api name='Master_RxByte' alt='FC_CAL_I2C_$(macro)_$(instance)' type='5' proto='1' />
				<api name='Transaction_Initialise' alt='FC_CAL_I2C_Transaction_Init_$(instance)' type='5' proto='1' />
				<api name='GetList' alt='' type='2' proto='1' />
			</apis>
			<variables >
				<variable public='0' >
					<def class_type='variable' name='ConsoleDecode' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
				</variable>
				<variable public='0' >
					<def class_type='variable' name='TransAddr' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
				</variable>
				<variable public='0' >
					<def class_type='variable' name='ScopeSCL' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
				</variable>
				<variable public='0' >
					<def class_type='variable' name='ConsoleLog' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
				</variable>
				<variable public='0' >
					<def class_type='variable' name='LinkBar' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
				</variable>
				<variable public='0' >
					<def class_type='variable' name='ScopeSDA' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
				</variable>
				<variable public='0' >
					<def class_type='variable' name='ScopeGroup' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
				</variable>
			</variables>
			<macros >
				<macro >
					<flowline name='Ev_CompStart' description='Broadcast to all components that compilation is starting' statediag='0' >
						<return name='Return' type='u32' description='Non-zero to prevent compilation' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
							<argument exp='this' />
							<argument exp='&quot;Sim&quot;' />
							<argument exp='0' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Prv_ParseSTRemapPins' description='' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<param name='FCDHandle' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='SCL' type='u8' description='0=SDA, 1=SCL' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='fcd' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='AFStr' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='PortStr' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='PinStr' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='count' type='u16' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
						<local name='XMLStr' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='StrLen' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='calculation' title='Calculation' >
							<exp exp='.count = 0' />
						</command>
						<command class_type='loop' title='Loop' type='0' exp='1' >
							<flowline >
								<command class_type='calculation' title='Calculation' >
									<exp exp='.XMLStr = &quot;af&quot; + STRING .count' />
								</command>
								<command class_type='sim' title='Simulation' macro='Tree.GetSubValue' >
									<return exp='.AFStr' />
									<argument exp='.FCDHandle' />
									<argument exp='.XMLStr' />
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='.XMLStr = &quot;port&quot; + STRING .count' />
								</command>
								<command class_type='sim' title='Simulation' macro='Tree.GetSubValue' >
									<return exp='.PortStr' />
									<argument exp='.FCDHandle' />
									<argument exp='.XMLStr' />
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='.XMLStr = &quot;pin&quot; + STRING .count' />
								</command>
								<command class_type='sim' title='Simulation' macro='Tree.GetSubValue' >
									<return exp='.PinStr' />
									<argument exp='.FCDHandle' />
									<argument exp='.XMLStr' />
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='.StrLen = Length$ (.AFStr)' />
								</command>
								<command class_type='decision' title='Decision' exp='.StrLen = 0' swap='0' >
									<flowline >
										<command class_type='goto' title='Goto Connection Point' labelid='0' labelname='' />
									</flowline>
									<flowline />
								</command>
								<command class_type='calculation' title='Calculation' disable='1' >
									<exp exp='.AFStr[0] = .AFStr[0] - &apos;0&apos;' />
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='.PortStr[0] = .PortStr[0] - &apos;0&apos;' />
									<exp exp='.PortStr[0] = .PortStr[0] + &apos;A&apos;' />
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='.PortStr = .PortStr[0] + &quot;.&quot; + .PinStr' />
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='.PortStr = &quot;$PORT&quot; + .PortStr' />
								</command>
								<command class_type='decision' title='Decision' exp='.SCL = 1' swap='0' >
									<flowline >
										<command class_type='sim' title='Simulation' macro='Component.Property.AddListItem' >
											<argument exp='this' />
											<argument exp='&quot;SCLPins&quot;' />
											<argument exp='.count' />
											<argument exp='.PortStr' />
										</command>
										<command class_type='sim' title='Simulation' macro='Component.Property.AddListItem' >
											<argument exp='this' />
											<argument exp='&quot;SCLAlts&quot;' />
											<argument exp='.count' />
											<argument exp='.AFStr' />
										</command>
									</flowline>
									<flowline >
										<command class_type='sim' title='Simulation' macro='Component.Property.AddListItem' >
											<argument exp='this' />
											<argument exp='&quot;SDAPins&quot;' />
											<argument exp='.count' />
											<argument exp='.PortStr' />
										</command>
										<command class_type='sim' title='Simulation' macro='Component.Property.AddListItem' >
											<argument exp='this' />
											<argument exp='&quot;SDAAlts&quot;' />
											<argument exp='.count' />
											<argument exp='.AFStr' />
										</command>
									</flowline>
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='.count = .count + 1' />
								</command>
							</flowline>
						</command>
						<command class_type='label' title='Connection Point' labelid='0' labelname='A' />
					</flowline>
				</macro>
				<macro >
					<flowline name='Ev_Timer' description='Called back on the panel command System.TimerStart' statediag='0' >
						<return name='Return' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='TimerID' type='u32' description='The identifier passed to the System.TimerStart panel command' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='f1' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='f2' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<command class_type='decision' title='Decision' exp='.TimerID = 0' swap='0' >
							<flowline >
								<command class_type='sim' title='Built-in Function' macro='Component.Property.SetValue' >
									<argument exp='this' />
									<argument exp='&quot;Loading&quot;' />
									<argument exp='0' />
								</command>
								<command class_type='call' title='' macro='Prv_PopulateInjectorFilter' />
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Slave_Uninit' description='Uninitialise the Slave' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<command class_type='call' title='Call Macro' macro='Prv_TextConsole' >
							<argument exp='&quot;Slave_Uninit()&quot;' />
							<argument exp='0' />
							<argument exp='1' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Prv_TextConsole' description='Send text to the console' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<param name='str' type='T8*' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</param>
						<param name='Colour' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='AppendTimestamp' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='tstr' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<command class_type='decision' title='Decision' exp='Sim' swap='0' >
							<flowline >
								<command class_type='decision' title='Decision' exp='.AppendTimestamp' swap='0' >
									<flowline >
										<command class_type='sim' title='Default - White' macro='Console.SetOutputRGB' >
											<argument exp='ConsoleLog' />
											<argument exp='0x000000' />
										</command>
										<command class_type='calculation' title='Build Console String' >
											<exp exp='.tstr = &quot;\n&quot; + TimeStamp1 :: GetTimeStamp () + &quot; - &quot;' />
										</command>
										<command class_type='sim' title='Append Timestamp to String' macro='Console.WriteText' >
											<argument exp='ConsoleLog' />
											<argument exp='.tstr' />
										</command>
									</flowline>
									<flowline />
								</command>
								<command class_type='switch' title='Switch' textarea='36,25,36,25' exp='.colour' >
									<case >
										<flowline >
											<command class_type='sim' title='Default - White' macro='Console.SetOutputRGB' >
												<argument exp='ConsoleLog' />
												<argument exp='0x000000' />
											</command>
										</flowline>
									</case>
									<case exp='1' >
										<flowline >
											<command class_type='sim' title='Outgoing - Green' macro='Console.SetOutputRGB' >
												<argument exp='ConsoleLog' />
												<argument exp='0x007F00' />
											</command>
										</flowline>
									</case>
									<case exp='2' >
										<flowline >
											<command class_type='sim' title='Incoming - Red' macro='Console.SetOutputRGB' >
												<argument exp='ConsoleLog' />
												<argument exp='0x00007F' />
											</command>
										</flowline>
									</case>
								</command>
								<command class_type='sim' title='Add text to console' macro='Console.WriteText' >
									<argument exp='ConsoleLog' />
									<argument exp='.Str' />
								</command>
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Ev_Initialise' description='Initialisation routine for the component once the component is linked to its parent' statediag='0' >
						<return name='Return' type='u32' description='Non-zero to prevent initialisation' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='str' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='x' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='Handle' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='RootHandle' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='sim' title='Built-in Function' macro='Component.Property.SetValue' >
							<argument exp='this' />
							<argument exp='&quot;Sorted&quot;' />
							<argument exp='0' />
						</command>
						<command class_type='sim' title='Built-in Function' macro='Component.Property.SetValue' >
							<argument exp='this' />
							<argument exp='&quot;Loading&quot;' />
							<argument exp='1' />
						</command>
						<command class_type='call' title='Call Macro' macro='LoadChannelList' />
						<command class_type='call' title='Call Macro' disable='1' macro='LoadChannelPorts' />
						<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
							<argument exp='this' />
							<argument exp='&quot;Sim&quot;' />
							<argument exp='1' />
						</command>
						<command class_type='sim' title='Built-in Function' macro='Component.GetRoot' >
							<return exp='.RootHandle' />
						</command>
						<command class_type='sim' title='Built-in Function' macro='Component.GetParent' >
							<return exp='.Handle' />
							<argument exp='this' />
						</command>
						<command class_type='decision' title='Decision' exp='(.Handle != .RootHandle) &amp;&amp; (this != .RootHandle)' swap='0' >
							<flowline >
								<command class_type='comment' title='' comment='Only fire this when we are in a user project, not a component source.' textarea='12,0,12,0' />
								<command class_type='sim' title='Built-in Function' macro='System.TimerStart' >
									<argument exp='0' />
									<argument exp='15000' />
								</command>
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='GetValue' description='Get the Named property value. 
' statediag='0' >
						<return name='Return' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;\x00&quot;' setinit='' >
							<array size='2000' />
						</return>
						<param name='Name' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</param>
						<command class_type='decision' title='Decision' exp='(Compare$ (.Name,&quot;ENABLED&quot;,1) = 0) OR (Compare$ (.Name,&quot;CHANNEL&quot;,1) = 0) OR (Compare$ (.Name,&quot;SDA&quot;,1) = 0) OR (Compare$ (.Name,&quot;SCL&quot;,1) = 0) OR (Compare$ (.Name,&quot;BAUD&quot;,1) = 0) OR (Compare$ (.Name,&quot;BAUD_LIST&quot;,1) = 0) OR (Compare$ (.Name,&quot;SRC&quot;,1) = 0) OR (Compare$ (.Name,&quot;SMB&quot;,1) = 0)' swap='0' >
							<flowline >
								<command class_type='sim' title='Simulation' macro='Component.Property.GetValue' >
									<return exp='.Return' />
									<argument exp='this' />
									<argument exp='.Name' />
								</command>
							</flowline>
							<flowline >
								<command class_type='sim' title='Call Macro' macro='Debug.PrintLn' >
									<argument exp='&quot;GetValue(&quot; + .Name + &quot;) not valid. Use CHANNEL, SDA, SCL, BAUD_LIST, BAUD, SMB or SRC&quot;' />
								</command>
							</flowline>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Ev_PostInitialise' description='Post-initialisation routine for the component once all components have been initialised' statediag='0' >
						<return name='Return' type='u32' description='Non-zero to prevent initialisation' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='RootHandle' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='Handle' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='sim' title='Built-in Function' macro='Component.GetRoot' >
							<return exp='.RootHandle' />
						</command>
						<command class_type='sim' title='Built-in Function' macro='Component.GetParent' >
							<return exp='.Handle' />
							<argument exp='this' />
						</command>
						<command class_type='decision' title='Decision' exp='.Handle != .RootHandle' swap='0' >
							<flowline >
								<command class_type='comment' title='' comment='Only fire this when we are in a user project, not a component source.' textarea='12,0,12,0' />
								<command class_type='sim' title='Built-in Function' macro='Component.Property.SetValue' >
									<argument exp='this' />
									<argument exp='&quot;Loading&quot;' />
									<argument exp='0' />
								</command>
								<command class_type='comment' title='' comment='This is a test - to see if we can overcome the initial delay
when dragging on a component.

Test and make sure this doesn&apos;t cause pin corruption for software channels.' textarea='12,0,12,0' />
								<command class_type='call' title='Test' macro='Prv_PopulateInjectorFilter' />
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Prv_BubbleSort' description='' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<param name='Handle' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Property' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</param>
						<local name='sTemp' type='T8' description='' isconst='0' isHidden='0' isinit='1' usrinit='&quot;&quot;' setinit='&quot;&quot;' >
							<array size='30' />
						</local>
						<local name='i' type='s16' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
						<local name='bDone' type='b1' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
						<local name='sa' type='T8*' description='' isconst='0' isHidden='0' isinit='1' usrinit='&quot; \&quot;\&quot; &quot;' setinit='{&quot;&quot;}' >
							<array size='200' />
							<array size='30' />
						</local>
						<local name='iFilteredItems' type='s16' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
						<local name='s1' type='T8' description='' isconst='0' isHidden='0' isinit='1' usrinit='&quot;&quot;' setinit='&quot;&quot;' >
							<array size='30' />
						</local>
						<local name='s2' type='T8' description='' isconst='0' isHidden='0' isinit='1' usrinit='&quot;&quot;' setinit='&quot;&quot;' >
							<array size='30' />
						</local>
						<local name='sUnsorted' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='2000' />
						</local>
						<local name='Sorted' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='2000' />
						</local>
						<local name='len1' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='len2' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='val' type='s32' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
						<command class_type='sim' title='Built-in Function' macro='Component.Property.GetFilter' >
							<return exp='.sUnsorted' />
							<argument exp='.Handle' />
							<argument exp='.Property' />
						</command>
						<command class_type='calculation' title='Calculation' textarea='36,0,511,300' >
							<exp exp='.i = 0' />
							<exp exp='.Sorted = &quot;&quot;' />
							<exp exp='.bDone = 0' />
						</command>
						<command class_type='loop' title='Loop' textarea='36,0,511,300' type='0' exp='.bDone == 0' >
							<flowline >
								<command class_type='calculation' title='Calculation' textarea='82,3,82,3' >
									<exp exp='.sa[.i] = SplitString$(.sUnsorted,&quot;\n&quot;,.i)' />
								</command>
								<command class_type='decision' title='Decision' textarea='36,0,511,300' exp='Length$(.sa[.i]) = 0' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' textarea='36,0,511,300' >
											<exp exp='.bDone = 1' />
										</command>
									</flowline>
									<flowline >
										<command class_type='calculation' title='Calculation' textarea='36,0,511,300' >
											<exp exp='.i = .i + 1' />
										</command>
									</flowline>
								</command>
							</flowline>
						</command>
						<command class_type='calculation' title='Calculation' textarea='36,0,511,300' >
							<exp exp='.iFilteredItems = .i' />
							<exp exp='.bDone = 0' />
							<exp exp='.i = 0' />
						</command>
						<command class_type='loop' title='Loop' textarea='36,0,511,300' type='0' exp='.bDone == 0' >
							<flowline >
								<command class_type='label' title='Restart' textarea='36,0,511,300' labelid='0' labelname='A' />
								<command class_type='calculation' title='Calculation' textarea='36,0,511,300' >
									<exp exp='.bDone = 1' />
								</command>
								<command class_type='loop' title='Loop' type='2' forvar='.i' exp='.iFilteredItems - 1' >
									<flowline >
										<command class_type='calculation' title='Calculation' >
											<exp exp='.len1 = Length$(.sa[.i])' />
											<exp exp='.len2 = Length$(.sa[.i + 1])' />
											<exp exp='.s1 = Right$(.sa[.i],.len1 - 3)' />
											<exp exp='.s2 = Right$(.sa[.i + 1],.len2 - 3)' />
										</command>
										<command class_type='decision' title='Decision' exp='Prv_NumericCompare(.s1,.s2) &gt; 0' swap='0' >
											<flowline >
												<command class_type='calculation' title='Calculation' textarea='36,0,511,300' >
													<exp exp='.sTemp = .sa[.i]' />
													<exp exp='.sa[.i] = .sa[.i + 1]' />
													<exp exp='.sa[.i + 1] = .sTemp' />
													<exp exp='.bDone = 0' />
												</command>
												<command class_type='goto' title='Goto Connection Point' textarea='36,0,511,300' labelid='0' labelname='' />
											</flowline>
											<flowline />
										</command>
									</flowline>
								</command>
							</flowline>
						</command>
						<command class_type='loop' title='Loop' textarea='36,0,511,300' type='2' forvar='.i' exp='.iFilteredItems' >
							<flowline >
								<command class_type='calculation' title='Calculation' textarea='36,0,511,300' >
									<exp exp='.Sorted = .Sorted + .sa[.i]' />
									<exp exp='.Sorted = .Sorted + &quot;\n&quot;' />
								</command>
							</flowline>
						</command>
						<command class_type='sim' title='Built-in Function' macro='Component.Property.SetFilter' >
							<argument exp='.Handle' />
							<argument exp='.Property' />
							<argument exp='.Sorted' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='LoadPortString' description='load port string into property from the given name and fcd handle' statediag='0' >
						<return name='Return' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;\x00&quot;' setinit='' >
							<array size='2000' />
						</return>
						<param name='fcd_h' type='h32' description='FCD Handle' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Name' type='T8' description='Port Name' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</param>
						<local name='port_h' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='port' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='pin' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<command class_type='sim' title='Get the child' macro='FCD.GetPathHandle' >
							<return exp='.port_h' />
							<argument exp='.Name' />
							<argument exp='.fcd_h' />
						</command>
						<command class_type='decision' title='If valid' exp='.port_h != 0' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' >
									<exp exp='.port = ::Tree .GetSubValue (.port_h,&quot;port&quot;)' />
									<exp exp='.pin = ::Tree .GetSubValue (.port_h,&quot;pin&quot;)' />
									<exp exp='::Component .Property .SetValue (this, .Name,ConvertPort (.port, .pin))' />
								</command>
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Transaction_Write' description='Attempt to write Length number of bytes to the I2C slave from the given Buffer.
Ensure that the Buffer is large enough. 
Returns the number of bytes written, the caller should check that this matches requested Length' statediag='0' >
						<return name='Return' type='u16' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Buffer' type='u8' description='Buffer of bytes to write to the I2C' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='32768' />
						</param>
						<param name='Length' type='u16' description='Number of bytes to send out, MS bit 0x8000 signifies no Stop if set' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='str' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='n' type='u16' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
						<local name='SendStop' type='b1' description='' isconst='0' isHidden='0' isinit='1' usrinit='1' setinit='1' />
						<command class_type='decision' title='Decision' exp='.Length &amp; 0x8000' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' >
									<exp exp='.Length = .Length &amp; 0x7FFF' />
									<exp exp='.SendStop = 0' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='Console Data Enabled?' exp='ConsoleData' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' >
									<exp exp='.str = &quot;\nTransaction_Write(&quot; + ToString$(.Length) + &quot;) {&quot;' />
								</command>
								<command class_type='loop' title='Loop' type='2' forvar='.n' exp='.Length' >
									<flowline >
										<command class_type='calculation' title='Calculation' >
											<exp exp='.str = .str + ToString$(.Buffer[.n])' />
										</command>
										<command class_type='decision' title='Decision' exp='(.n + 1) &lt; .Length' swap='0' >
											<flowline >
												<command class_type='calculation' title='Calculation' >
													<exp exp='.str = .str + &quot;, &quot;' />
												</command>
											</flowline>
											<flowline >
												<command class_type='calculation' title='Calculation' >
													<exp exp='.str = .str + &quot;}&quot;' />
												</command>
											</flowline>
										</command>
									</flowline>
								</command>
								<command class_type='call' title='Call Macro' macro='Prv_TextConsole' >
									<argument exp='.str' />
									<argument exp='0' />
									<argument exp='1' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='Decision' exp='ScopeTraces' swap='0' >
							<flowline >
								<command class_type='call' title='Call Macro' macro='Master_Start' />
								<command class_type='call' title='Call Macro' macro='Master_TxByte' >
									<argument exp='TransAddr &lt;&lt; 1' />
								</command>
								<command class_type='loop' title='Loop' type='2' forvar='.n' exp='.Length' >
									<flowline >
										<command class_type='call' title='Send Byte' macro='Master_TxByte' >
											<argument exp='.Buffer[.n]' />
										</command>
									</flowline>
								</command>
								<command class_type='decision' title='Decision' exp='.SendStop' swap='0' >
									<flowline >
										<command class_type='call' title='Call Macro' macro='Master_Stop' />
									</flowline>
									<flowline />
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='.Return = .n' />
								</command>
							</flowline>
							<flowline >
								<command class_type='decision' title='Decision' exp='InjectorHandle &gt; 0' swap='0' >
									<flowline >
										<command class_type='sim' title='Component Macro' component='API_I2C_Dummy1' macro='I2CTransSend' >
											<return exp='.Return' />
											<argument exp='InjectorChannel' />
											<argument exp='.Buffer' />
											<argument exp='.Length' />
										</command>
									</flowline>
									<flowline >
										<command class_type='calculation' title='Calculation' >
											<exp exp='.Return = .Length' />
										</command>
									</flowline>
								</command>
							</flowline>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Master_Stop' description='Output a Master Stop' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<local name='str' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<command class_type='decision' title='Console Data Enabled?' exp='ConsoleData' swap='0' >
							<flowline >
								<command class_type='calculation' title='Build Console String' >
									<exp exp='.str = &quot;Master_Stop()&quot;' />
								</command>
								<command class_type='call' title='Call Macro' macro='Prv_TextConsole' >
									<argument exp='.str' />
									<argument exp='0' />
									<argument exp='1' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='Decision' exp='ScopeTraces' swap='0' >
							<flowline >
								<command class_type='calculation' title='Clock &amp; Data Low' >
									<exp exp='SCL = 0' />
									<exp exp='SDA = 0' />
								</command>
								<command class_type='delay' title='Delay' exp='BitDelay' type='0' />
								<command class_type='calculation' title='Set SCL' >
									<exp exp='SCL = 1' />
								</command>
								<command class_type='delay' title='Delay' exp='BitDelay' type='0' />
								<command class_type='calculation' title='Set SDA' >
									<exp exp='SDA = 0' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='Decision' exp='InjectorHandle &gt; 0' swap='0' >
							<flowline >
								<command class_type='sim' title='Component Macro' component='API_I2C_Dummy1' macro='I2CStop' >
									<argument exp='InjectorChannel' />
								</command>
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Prv_SetupConsole' description='Setup a console for the component' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<local name='str' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='inst' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='ObjectHandle' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='calculation' title='Calculation' >
							<exp exp='.ObjectHandle = this' />
						</command>
						<command class_type='sim' title='Step away from UART CAL' macro='Tree.StepParent' >
							<argument exp='.ObjectHandle' />
						</command>
						<command class_type='sim' title='Get Name Of Current Position' macro='Tree.GetName' >
							<return exp='.str' />
							<argument exp='.ObjectHandle' />
						</command>
						<command class_type='calculation' title='Calculation' >
							<exp exp='.str = .str + &quot; - I2C &quot; + STRING CHANNEL' />
						</command>
						<command class_type='sim' title='Simulation' macro='Console.AddText' >
							<return exp='ConsoleLog' />
							<argument exp='.str' />
							<argument exp='0' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Slave_Init' description='Initialise the Slave with the given Address, or range of Addresses.
Only address bits that have a corresponding bit set in the Mask will be compared with the incoming bus address.' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<param name='Address' type='u8' description='7 Bit Address of this device (Bit 0 is ignored)' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Mask' type='u8' description='Bit mask used to compare addresses' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='call' title='Call Macro' macro='Prv_TextConsole' >
							<argument exp='&quot;\nSlave_Init()&quot;' />
							<argument exp='0' />
							<argument exp='1' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Ev_ChipChange' description='Sent when the target device has changed' statediag='0' >
						<return name='Return' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Target' type='T8' description='The name of the new target device' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</param>
						<command class_type='call' title='Call Macro' macro='LoadChannelList' />
						<command class_type='call' title='Call Macro' macro='LoadChannelPorts' />
					</flowline>
				</macro>
				<macro >
					<flowline name='LoadChannelList' description='load the fcd Channel list into the property' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<local name='str' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='x' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='n' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='calculation' title='Calculation' >
							<exp exp='::Component .Property .SetFilter (this,&quot;CHANNEL&quot;,GetChannelList ())' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Prv_PopulateInjectorFilter' description='' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<local name='ObjHandle' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='RootHandle' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='OldHandle' type='h32' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
						<local name='ObjName' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='Index' type='u8' description='' isconst='0' isHidden='0' isinit='1' usrinit='1' setinit='1' />
						<local name='X' type='u8' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
						<local name='OldName' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='Idx' type='u8' description='' isconst='0' isHidden='0' isinit='1' usrinit='1' setinit='1' />
						<local name='Filter' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='100' />
						</local>
						<command class_type='calculation' title='Calculation' >
							<exp exp='.Filter = &quot;000 \r\n&quot;' />
						</command>
						<command class_type='sim' title='Clear Filter' disable='1' macro='Component.Property.SetFilter' >
							<argument exp='this' />
							<argument exp='&quot;Injector&quot;' />
							<argument exp='&quot;&quot;' />
						</command>
						<command class_type='sim' title='Add to Blank property' disable='1' macro='Component.Property.AddListItem' >
							<argument exp='this' />
							<argument exp='&quot;Injector&quot;' />
							<argument exp='0' />
							<argument exp='&quot;&quot;' />
						</command>
						<command class_type='sim' title='Jump to Parent of Component' macro='Component.GetParent' >
							<return exp='.ObjHandle' />
							<argument exp='this' />
						</command>
						<command class_type='loop' title='Keep jumping to parent until we hit the root' type='0' exp='::Tree .CheckParent (.ObjHandle)' >
							<flowline >
								<command class_type='sim' title='Jump to Parent of Component' macro='Tree.StepParent' >
									<argument exp='.ObjHandle' />
								</command>
							</flowline>
						</command>
						<command class_type='sim' title='Make copy of root object' macro='Tree.GetCopy' >
							<return exp='.RootHandle' />
							<argument exp='.ObjHandle' />
						</command>
						<command class_type='loop' title='Loop through panel items' type='0' exp='.OldHandle != .ObjHandle' >
							<flowline >
								<command class_type='sim' title='Take a copy of the current panel item' macro='Tree.GetCopy' >
									<return exp='.OldHandle' />
									<argument exp='.ObjHandle' />
								</command>
								<command class_type='sim' title='Built-in Function' macro='Component.Property.GetValue' >
									<return exp='.ObjName' />
									<argument exp='.ObjHandle' />
									<argument exp='&quot;APII2C&quot;' />
								</command>
								<command class_type='decision' title='Decision' exp='Length$ (.ObjName)' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' >
											<exp exp='.X = StringToInt$ (.ObjName)' />
											<exp exp='.Index = 0' />
										</command>
										<command class_type='sim' title='Get name of panel item' macro='Tree.GetName' >
											<return exp='.ObjName' />
											<argument exp='.ObjHandle' />
										</command>
										<command class_type='loop' title='Loop' type='0' exp='.Index &lt; .X' >
											<flowline >
												<command class_type='calculation' title='Calculation' >
													<exp exp='.OldName = .ObjName + &quot; I2C CH&quot; + ToString$ (.Index)' />
												</command>
												<command class_type='sim' title='Add to Injector filter property' disable='1' macro='Component.Property.AddListItem' >
													<argument exp='this' />
													<argument exp='&quot;Injector&quot;' />
													<argument exp='.idx' />
													<argument exp='.OldName' />
												</command>
												<command class_type='decision' title='Decision' exp='.idx &lt; 100' swap='0' >
													<flowline >
														<command class_type='calculation' title='Calculation' >
															<exp exp='.Filter = .Filter + &quot;0&quot;' />
														</command>
														<command class_type='decision' title='Decision' exp='.idx &lt; 10' swap='0' >
															<flowline >
																<command class_type='calculation' title='Calculation' >
																	<exp exp='.Filter = .Filter + &quot;0&quot;' />
																</command>
															</flowline>
															<flowline />
														</command>
													</flowline>
													<flowline />
												</command>
												<command class_type='calculation' title='Calculation' >
													<exp exp='.Filter = .Filter + ToString$ (.idx) + .OldName + &quot;\r\n&quot;' />
												</command>
												<command class_type='calculation' title='Calculation' >
													<exp exp='.Index = .Index + 1' />
													<exp exp='.idx = .idx + 1' />
												</command>
											</flowline>
										</command>
									</flowline>
									<flowline />
								</command>
								<command class_type='sim' title='Move through component tree' macro='Tree.Traverse' >
									<argument exp='.ObjHandle' />
									<argument exp='.RootHandle' />
								</command>
							</flowline>
						</command>
						<command class_type='sim' title='Set Filter' macro='Component.Property.SetFilter' >
							<argument exp='this' />
							<argument exp='&quot;Injector&quot;' />
							<argument exp='.Filter' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Master_Uninit' description='Uninitialise the Master' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<local name='str' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<command class_type='decision' title='Console Data Enabled?' exp='ConsoleData' swap='0' >
							<flowline >
								<command class_type='calculation' title='Build Console String' >
									<exp exp='.str = &quot;Master_Uninit()&quot;' />
								</command>
								<command class_type='call' title='Call Macro' macro='Prv_TextConsole' >
									<argument exp='.str' />
									<argument exp='0' />
									<argument exp='1' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='Decision' exp='ScopeTraces' swap='0' >
							<flowline >
								<command class_type='calculation' title='Clock &amp; Data In Idle' >
									<exp exp='SCL = 1' />
									<exp exp='SDA = 1' />
								</command>
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Slave_Status' description='Returns the Slave Status.
Bit 0 = 1 Indicates address/data byte available in the buffer to read
Bit 5 = 1 Indicates that the last byte received or transmitted was data (else address)
' statediag='0' >
						<return name='Return' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='str' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<command class_type='calculation' title='Calculation' >
							<exp exp='.str = &quot;\nSlave_Status()&quot;' />
						</command>
						<command class_type='call' title='Call Macro' macro='Prv_TextConsole' >
							<argument exp='.str' />
							<argument exp='0' />
							<argument exp='1' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='GetChannelList' description='Retrieves the channel list from the FCD for this device' statediag='0' >
						<return name='Return' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;\x00&quot;' setinit='' >
							<array size='2000' />
						</return>
						<local name='x' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='s' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='fcd_h' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='decision' title='Decision' exp='Compare$ (&quot;SCADA&quot;, ::FCD .GetItemValue (&quot;device&quot;,&quot;product&quot;,&quot;&quot;),0) == 0' swap='0' >
							<flowline >
								<command class_type='sim' title='Set the first item as &quot;Software&quot; channel' component='fcdhelper' macro='GetIntListItem' >
									<return exp='.Return' />
									<argument exp='0' />
									<argument exp='&quot;I2C API Slave&quot;' />
								</command>
								<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
									<argument exp='this' />
									<argument exp='&quot;CHANNEL&quot;' />
									<argument exp='0' />
								</command>
								<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
									<argument exp='this' />
									<argument exp='&quot;ScopeTraces&quot;' />
									<argument exp='0' />
								</command>
							</flowline>
							<flowline >
								<command class_type='decision' title='Slave Mode?' exp='Mode = 1' swap='0' >
									<flowline />
									<flowline >
										<command class_type='sim' title='Set the first item as &quot;Software&quot; channel' component='fcdhelper' macro='GetIntListItem' >
											<return exp='.Return' />
											<argument exp='0' />
											<argument exp='&quot;Software&quot;' />
										</command>
									</flowline>
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='.x = 0' />
								</command>
								<command class_type='comment' title='' comment='Get the hardware channel list, if any' textarea='245,10,245,10' />
								<command class_type='sim' title='Panel' macro='FCD.GetPathHandle' >
									<return exp='.fcd_h' />
									<argument exp='&quot;device.i2c&quot;' />
									<argument exp='0' />
								</command>
								<command class_type='loop' title='Loop' type='0' exp='.fcd_h' >
									<flowline >
										<command class_type='calculation' title='Create the displayed channel string' >
											<exp exp='.x = .x + 1' />
											<exp exp='.s = &quot;Channel &quot; + ToString$ (.x)' />
											<exp exp='' />
										</command>
										<command class_type='sim' title='Construct the list item' component='fcdhelper' macro='GetIntListItem' >
											<return exp='.s' />
											<argument exp='.x' />
											<argument exp='.s' />
										</command>
										<command class_type='calculation' title='Add to result' >
											<exp exp='.Return = .Return + .s' />
										</command>
										<command class_type='sim' title='Simulation' macro='Tree.StepNamedNext' >
											<argument exp='.fcd_h' />
											<argument exp='&quot;i2c&quot;' />
										</command>
									</flowline>
								</command>
							</flowline>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='GetConsoleHandle' description='Obtains the CAL console handle' statediag='0' >
						<return name='Return' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='calculation' title='Calculation' >
							<exp exp='.Return = ConsoleLog' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Ev_LoadComplete' description='Broadcast after a project has finished loading' statediag='0' >
						<return name='Return' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='Handle' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='RootHandle' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='sim' title='Built-in Function' macro='Component.GetRoot' >
							<return exp='.RootHandle' />
						</command>
						<command class_type='sim' title='Built-in Function' macro='Component.GetParent' >
							<return exp='.Handle' />
							<argument exp='this' />
						</command>
						<command class_type='decision' title='Decision' exp='(.Handle != .RootHandle) &amp;&amp; (this != .RootHandle)' swap='0' >
							<flowline >
								<command class_type='comment' title='' comment='Only fire this when we are in a user project, not a component source.' textarea='12,0,12,0' />
								<command class_type='sim' title='Built-in Function' macro='Component.Property.SetValue' >
									<argument exp='this' />
									<argument exp='&quot;Loading&quot;' />
									<argument exp='0' />
								</command>
								<command class_type='comment' title='' comment='This is a test - to see if we can overcome the initial delay
when dragging on a component.

Test and make sure this doesn&apos;t cause pin corruption for software channels.' textarea='12,0,12,0' />
								<command class_type='call' title='Test' macro='Prv_PopulateInjectorFilter' />
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Slave_TxByte' description='Send a data byte, returns Ack/Nak from Master
0=Ack=More, 1=Nak=Last' statediag='0' >
						<return name='Return' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Data' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='str' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<command class_type='decision' title='Decision' exp='InjectorHandle &gt; 0' swap='0' >
							<flowline />
							<flowline />
						</command>
						<command class_type='decision' title='Console Data Enabled?' exp='ConsoleData' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' >
									<exp exp='.str = &quot;\nSlave_TxByte(&quot; + NumberToHex$ (.Data) + &quot;)&quot;' />
								</command>
								<command class_type='call' title='Call Macro' macro='Prv_TextConsole' >
									<argument exp='.str' />
									<argument exp='0' />
									<argument exp='1' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='Scope Traces Enabled?' exp='ScopeTraces' swap='0' >
							<flowline >
								<command class_type='loop' title='Loop' type='2' exp='8' >
									<flowline >
										<command class_type='decision' title='Test MSB' exp='.Data &amp; 0x80' swap='0' >
											<flowline >
												<command class_type='calculation' title='Data High' >
													<exp exp='SDA = 1' />
												</command>
											</flowline>
											<flowline >
												<command class_type='calculation' title='Data Low' >
													<exp exp='SDA = 0' />
												</command>
											</flowline>
										</command>
										<command class_type='delay' title='Delay' exp='BitDelay' type='0' />
										<command class_type='calculation' title='Set SCL' >
											<exp exp='SCL = 1' />
										</command>
										<command class_type='delay' title='Delay' exp='BitDelay' type='0' />
										<command class_type='calculation' title='Clear SCL' >
											<exp exp='SCL = 0' />
										</command>
										<command class_type='calculation' title='Shift Data to next bit' >
											<exp exp='.Data = .Data &lt;&lt; 1' />
										</command>
									</flowline>
								</command>
								<command class_type='calculation' title='Data High' >
									<exp exp='SDA = 1' />
								</command>
								<command class_type='delay' title='Delay' exp='BitDelay' type='0' />
								<command class_type='calculation' title='Set SCL' >
									<exp exp='SCL = 1' />
								</command>
								<command class_type='calculation' title='Ack Bit' >
									<exp exp='SDA = 0' />
								</command>
								<command class_type='delay' title='Delay' exp='BitDelay' type='0' />
								<command class_type='calculation' title='Set SCL' >
									<exp exp='SCL = 0' />
								</command>
								<command class_type='calculation' title='Ack Bit Ended' >
									<exp exp='SDA = 1' />
								</command>
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Ev_FmtPacket' description='Sent when a %e is read in a format string when decoding a packet' statediag='0' >
						<return name='Return' type='u32' description='Non-zero to claim the packet, zero for Flowcode to add a packet automatically' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='StreamH' type='h32' description='The scope being decoded' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='TimeOffset' type='s32' description='The time-reference of the start of the overlay packet' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Duration' type='u32' description='The time duration the packet of the overlay packet' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Data' type='u8' description='The data packet to be decoded' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</param>
						<param name='Bits' type='u32' description='The number of bits (not bytes) in Data[]' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='EventId' type='u32' description='A event identifier to help distinguish decodes' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Result' type='T8*' description='The format string to return' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</param>
						<command class_type='calculation' title='Calculation' >
							<exp exp='//.Result = NumberToHex$ (.Data[0]) + &quot; &quot; + NumberToHex$ (.Data[1])' />
							<exp exp='.Result[0] = (.Data[0] &gt;= 0x20 &amp;&amp; .Data[0] &lt; 0x7F) * .Data[0] + ! (.Data[0] &gt;= 0x20 &amp;&amp; .Data[0] &lt; 0x7F) * &apos;.&apos;' />
							<exp exp='.Result[1] = &apos;\0&apos;' />
							<exp exp='.Result = .Result + &quot;[&quot; + numberToHex$ (.Data[0]) + &quot;]&quot;' />
						</command>
						<command class_type='decision' title='Decision' exp='.Data[1]' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' >
									<exp exp='.Result = .Result + &quot;Nak\n&quot;' />
								</command>
							</flowline>
							<flowline >
								<command class_type='calculation' title='Calculation' >
									<exp exp='.Result = .Result + &quot;Ack\n&quot;' />
								</command>
							</flowline>
						</command>
						<command class_type='sim' title='Simulation' macro='Console.WriteText' >
							<argument exp='ConsoleDecode' />
							<argument exp='.Result' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Transaction_Uninit' description='Uninitialise the I2C interface' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<command class_type='decision' title='Console Data Enabled?' exp='ConsoleData' swap='0' >
							<flowline >
								<command class_type='call' title='Call Macro' macro='Prv_TextConsole' >
									<argument exp='&quot;\nTransaction_Uninit()&quot;' />
									<argument exp='0' />
									<argument exp='1' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='Decision' exp='ScopeTraces' swap='0' >
							<flowline >
								<command class_type='calculation' title='Clock &amp; Data In Idle' >
									<exp exp='SCL = 1' />
									<exp exp='SDA = 1' />
								</command>
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Slave_RxByte' description='Returns the data received, and sends either Ack or Nak
Set parameter Last as: 1=Last=Nak, 0=Ack=More' statediag='0' >
						<return name='Return' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Last' type='u8' description='Sends Ack if 0, else Nak' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='str' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='Data' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='decision' title='Decision' exp='InjectorHandle &gt; 0' swap='0' >
							<flowline />
							<flowline >
								<command class_type='calculation' title='Calculation' >
									<exp exp='.Return = 255' />
								</command>
							</flowline>
						</command>
						<command class_type='calculation' title='Calculation' >
							<exp exp='.Data = .Return' />
						</command>
						<command class_type='decision' title='Console Data Enabled?' exp='ConsoleData' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' >
									<exp exp='.str = NumberToHex$ (.Return) + &quot; = Slave_RxByte( &quot; + ToString$ (.Last) + &quot; )&quot;' />
								</command>
								<command class_type='call' title='Call Macro' macro='Prv_TextConsole' >
									<argument exp='.str' />
									<argument exp='0' />
									<argument exp='1' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='Decision' exp='ScopeTraces' swap='0' >
							<flowline >
								<command class_type='loop' title='Loop' type='2' exp='8' >
									<flowline >
										<command class_type='calculation' title='Set SCL' >
											<exp exp='SCL = 1' />
										</command>
										<command class_type='delay' title='Delay' exp='BitDelay' type='0' />
										<command class_type='decision' title='Test MSB' exp='.Data &amp; 0x80' swap='0' >
											<flowline >
												<command class_type='calculation' title='Data High' >
													<exp exp='SDA = 1' />
												</command>
											</flowline>
											<flowline >
												<command class_type='calculation' title='Data Low' >
													<exp exp='SDA = 0' />
												</command>
											</flowline>
										</command>
										<command class_type='calculation' title='Clear SCL' >
											<exp exp='SCL = 0' />
										</command>
										<command class_type='delay' title='Delay' exp='BitDelay' type='0' />
										<command class_type='calculation' title='Shift Data to next bit' >
											<exp exp='.Data = .Data &lt;&lt; 1' />
										</command>
									</flowline>
								</command>
								<command class_type='decision' title='Decision' exp='.Last' swap='0' >
									<flowline >
										<command class_type='calculation' title='Send Nack' >
											<exp exp='SDA = 1' />
										</command>
									</flowline>
									<flowline >
										<command class_type='calculation' title='Send Ack' >
											<exp exp='SDA = 0' />
										</command>
									</flowline>
								</command>
								<command class_type='delay' title='Delay' exp='BitDelay' type='0' />
								<command class_type='calculation' title='Set SCL' >
									<exp exp='SCL = 1' />
								</command>
								<command class_type='delay' title='Delay' exp='BitDelay' type='0' />
								<command class_type='calculation' title='Set SCL' >
									<exp exp='SCL = 0' />
								</command>
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='SetValue' description='Change Named property to new Value. 
If &quot;CHANNEL&quot; the ports will be also updated from the fcd
' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<param name='Name' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</param>
						<param name='Value' type='T8' description='port value as string' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</param>
						<command class_type='decision' title='Decision' exp='(Compare$ (.Name,&quot;ENABLED&quot;,1) = 0) OR (Compare$ (.Name,&quot;SDA&quot;,1) = 0) OR (Compare$ (.Name,&quot;SCL&quot;,1) = 0) OR (Compare$ (.Name,&quot;BAUD_LIST&quot;,1) = 0) OR (Compare$ (.Name,&quot;SRC&quot;,1) = 0) OR (Compare$ (.Name,&quot;SMB&quot;,1) = 0)' swap='0' >
							<flowline >
								<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
									<argument exp='this' />
									<argument exp='.Name' />
									<argument exp='.Value' />
								</command>
							</flowline>
							<flowline >
								<command class_type='decision' title='Decision' exp='Compare$ (.Name,&quot;BAUD&quot;,1) = 0' swap='0' >
									<flowline >
										<command class_type='sim' title='Set the Baud List to Custom' disable='1' macro='Component.Property.SetValue' >
											<argument exp='this' />
											<argument exp='&quot;BAUD_LIST&quot;' />
											<argument exp='&quot;0&quot;' />
										</command>
										<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
											<argument exp='this' />
											<argument exp='.Name' />
											<argument exp='.Value' />
										</command>
									</flowline>
									<flowline >
										<command class_type='decision' title='Decision' exp='Compare$ (.Name,&quot;CHANNEL&quot;,1) = 0' swap='0' >
											<flowline >
												<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
													<argument exp='this' />
													<argument exp='.Name' />
													<argument exp='.Value' />
												</command>
												<command class_type='call' title='Call Macro' macro='LoadChannelPorts' />
											</flowline>
											<flowline >
												<command class_type='decision' title='Decision' exp='Compare$ (.Name,&quot;Mode&quot;,1) = 0' swap='0' >
													<flowline >
														<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
															<argument exp='this' />
															<argument exp='.Name' />
															<argument exp='.Value' />
														</command>
														<command class_type='call' title='Call Macro' macro='LoadChannelList' />
													</flowline>
													<flowline />
												</command>
												<command class_type='sim' title='Call Macro' macro='Debug.PrintLn' >
													<argument exp='&quot;SetValue(&quot; + .Name + &quot;) not valid. Use CHANNEL, SDA, SCL, BAUD_LIST, BAUD, SMB or SRC&quot;' />
												</command>
											</flowline>
										</command>
									</flowline>
								</command>
							</flowline>
						</command>
						<command class_type='call' title='Call Macro' macro='Ev_Property_Changed' />
					</flowline>
				</macro>
				<macro >
					<flowline name='Ev_Renamed' description='' statediag='0' >
						<return name='Return' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='Name' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<command class_type='sim' title='' macro='Tree.GetName' >
							<return exp='.Name' />
							<argument exp='this' />
						</command>
						<command class_type='sim' title='' macro='Component.Property.SetValue' >
							<argument exp='LibraryComponent1' />
							<argument exp='&quot;Name&quot;' />
							<argument exp='.Name' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Ev_Property_Changed' description='Sent when a property has been changed by the User' statediag='0' >
						<return name='Return' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='CompName' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='Calc' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='fCalc' type='f32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0.0' setinit='' />
						<local name='temp_str' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='100' />
						</local>
						<local name='ObjHandle' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='PropStr' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<command class_type='decision' title='Decision' exp='ENABLED' swap='0' >
							<flowline >
								<command class_type='sim' title='Panel' macro='Component.Property.SetVisible' >
									<argument exp='this' />
									<argument exp='&quot;property_1&quot;' />
									<argument exp='1' />
								</command>
								<command class_type='sim' title='Panel' macro='Component.Property.SetVisible' >
									<argument exp='this' />
									<argument exp='&quot;property_2&quot;' />
									<argument exp='1' />
								</command>
								<command class_type='sim' title='Panel' macro='Component.Property.SetVisible' >
									<argument exp='this' />
									<argument exp='&quot;property_3&quot;' />
									<argument exp='1' />
								</command>
								<command class_type='call' title='Call Macro' macro='LoadChannelList' />
								<command class_type='decision' title='Decision' exp='Loading' swap='0' >
									<flowline />
									<flowline >
										<command class_type='call' title='Call Macro' macro='LoadChannelPorts' />
										<command class_type='calculation' title='Setup the PORT and PIN info' >
											<exp exp='::Component.Property.SetValue(this,&quot;SDA_PORT&quot;,::Component.Property.GetValue(this,&quot;SDA&quot;))' />
											<exp exp='::Component.Property.SetValue(this,&quot;SDA_TRIS&quot;,::Component.Property.GetValue(this,&quot;SDA&quot;))' />
											<exp exp='::Component.Property.SetValue(this,&quot;SDA_PIN&quot;,ParsePin(::Component.Property.GetValue(this,&quot;SDA&quot;)))' />
											<exp exp='' />
											<exp exp='::Component.Property.SetValue(this,&quot;SCL_PORT&quot;,::Component.Property.GetValue(this,&quot;SCL&quot;))' />
											<exp exp='::Component.Property.SetValue(this,&quot;SCL_TRIS&quot;,::Component.Property.GetValue(this,&quot;SCL&quot;))' />
											<exp exp='::Component.Property.SetValue(this,&quot;SCL_PIN&quot;,ParsePin(::Component.Property.GetValue(this,&quot;SCL&quot;)))' />
											<exp exp='' />
										</command>
										<command class_type='sim' title='Built-in Function' macro='Component.Property.GetValue' >
											<return exp='.temp_str' />
											<argument exp='this' />
											<argument exp='&quot;SDA&quot;' />
										</command>
										<command class_type='calculation' title='Calculation' >
											<exp exp='.Calc = Contains$(.temp_str,&quot;.&quot;,0)' />
										</command>
										<command class_type='calculation' title='Calculation' >
											<exp exp='.PropStr = &quot;ODCON&quot;' />
											<exp exp='.PropStr[5] = .temp_str[.Calc - 1]' />
											<exp exp='.PropStr[6] = 0' />
										</command>
										<command class_type='calculation' title='Setup the PORT and PIN info' >
											<exp exp='::Component.Property.SetValue(this,&quot;SDA_ODC&quot;,.PropStr)' />
											<exp exp='' />
										</command>
										<command class_type='sim' title='Built-in Function' macro='Component.Property.GetValue' >
											<return exp='.temp_str' />
											<argument exp='this' />
											<argument exp='&quot;SCL&quot;' />
										</command>
										<command class_type='calculation' title='Calculation' >
											<exp exp='.Calc = Contains$(.temp_str,&quot;.&quot;,0)' />
										</command>
										<command class_type='calculation' title='Calculation' >
											<exp exp='.PropStr = &quot;ODCON&quot;' />
											<exp exp='.PropStr[5] = .temp_str[.Calc - 1]' />
											<exp exp='.PropStr[6] = 0' />
										</command>
										<command class_type='calculation' title='Setup the PORT and PIN info' >
											<exp exp='::Component.Property.SetValue(this,&quot;SCL_ODC&quot;,.PropStr)' />
											<exp exp='' />
										</command>
									</flowline>
								</command>
								<command class_type='decision' title='Decision' exp='ScopeTraces' swap='0' >
									<flowline >
										<command class_type='decision' title='Decision' exp='ScopeGroup = 0' swap='0' >
											<flowline >
												<command class_type='call' title='Call Macro' macro='SimSetupScope' />
											</flowline>
											<flowline />
										</command>
									</flowline>
									<flowline >
										<command class_type='calculation' title='Calculation' >
											<exp exp='ScopeGroup = 0' />
											<exp exp='ScopeSCL = 0' />
											<exp exp='ScopeSDA = 0' />
										</command>
									</flowline>
								</command>
								<command class_type='decision' title='Decision' exp='ConsoleData' swap='0' >
									<flowline >
										<command class_type='decision' title='Decision' exp='ConsoleLog = 0' swap='0' >
											<flowline >
												<command class_type='call' title='Call Macro' macro='Prv_SetupConsole' />
											</flowline>
											<flowline />
										</command>
									</flowline>
									<flowline >
										<command class_type='calculation' title='Calculation' >
											<exp exp='ConsoleLog = 0' />
										</command>
									</flowline>
								</command>
								<command class_type='call' title='' macro='Prv_PopulateInjectorFilter' />
								<command class_type='decision' title='Pointing to valid injector?' exp='Injector &gt; 0' swap='0' >
									<flowline >
										<command class_type='call' title='' macro='Prv_GetInjectorHandle' >
											<argument exp='Injector' />
										</command>
										<command class_type='decision' title='Decision' exp='InjectorHandle &gt; 0' swap='0' >
											<flowline >
												<command class_type='sim' title='Built-in Function' macro='Panel.LinkBar.Create' >
													<return exp='LinkBar' />
													<argument exp='this' />
													<argument exp='InjectorHandle' />
												</command>
												<command class_type='sim' title='Built-in Function' macro='Panel.LinkBar.SetBarGfx' >
													<argument exp='LinkBar' />
													<argument exp='::Panel.LinkBar.Bar_Curve' />
													<argument exp='0x000000' />
													<argument exp='5.0' />
												</command>
												<command class_type='sim' title='Enable Selected Injector Component' macro='System.RedirectMacros' >
													<argument exp='API_I2C_Dummy1' />
													<argument exp='InjectorHandle' />
												</command>
											</flowline>
											<flowline >
												<command class_type='calculation' title='Calculation' >
													<exp exp='LinkBar = 0' />
												</command>
												<command class_type='sim' title='Enable Selected Injector Component' macro='System.RedirectMacros' >
													<argument exp='API_I2C_Dummy1' />
													<argument exp='API_I2C_Dummy1' />
												</command>
											</flowline>
										</command>
									</flowline>
									<flowline >
										<command class_type='calculation' title='Calculation' >
											<exp exp='LinkBar = 0' />
										</command>
										<command class_type='sim' title='Enable Selected Injector Component' macro='System.RedirectMacros' >
											<argument exp='API_I2C_Dummy1' />
											<argument exp='API_I2C_Dummy1' />
										</command>
										<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
											<argument exp='this' />
											<argument exp='&quot;InjectorHandle&quot;' />
											<argument exp='0' />
										</command>
									</flowline>
								</command>
								<command class_type='calculation' title='Set the BMODE Flags' >
									<exp exp='::Component .Property .SetValue (this,&quot;BMODE&quot;, ((SMB &lt;&lt; 1) + SRC))' />
									<exp exp='' />
								</command>
								<command class_type='switch' title='Switch' textarea='36,25,511,325' exp='BAUD_LIST' >
									<case >
										<flowline >
											<command class_type='sim' title='Simulation' macro='Component.Property.SetWritable' >
												<argument exp='this' />
												<argument exp='&quot;BAUD&quot;' />
												<argument exp='1' />
											</command>
										</flowline>
									</case>
									<case exp='1' >
										<flowline >
											<command class_type='comment' title='' comment='100KHz' textarea='12,0,487,300' />
											<command class_type='sim' title='Panel' textarea='36,0,511,300' macro='Component.Property.SetValue' >
												<argument exp='this' />
												<argument exp='&quot;BAUD&quot;' />
												<argument exp='100000' />
											</command>
											<command class_type='sim' title='Simulation' macro='Component.Property.SetWritable' >
												<argument exp='this' />
												<argument exp='&quot;BAUD&quot;' />
												<argument exp='0' />
											</command>
										</flowline>
									</case>
									<case exp='2' >
										<flowline >
											<command class_type='comment' title='' comment='400KHz' textarea='12,0,487,300' />
											<command class_type='sim' title='Panel' textarea='36,0,511,300' macro='Component.Property.SetValue' >
												<argument exp='this' />
												<argument exp='&quot;BAUD&quot;' />
												<argument exp='400000' />
											</command>
											<command class_type='sim' title='Simulation' macro='Component.Property.SetWritable' >
												<argument exp='this' />
												<argument exp='&quot;BAUD&quot;' />
												<argument exp='0' />
											</command>
										</flowline>
									</case>
									<case exp='3' >
										<flowline >
											<command class_type='comment' title='' comment='1MHz' textarea='12,0,487,300' />
											<command class_type='sim' title='Panel' textarea='36,0,511,300' macro='Component.Property.SetValue' >
												<argument exp='this' />
												<argument exp='&quot;BAUD&quot;' />
												<argument exp='1000000' />
											</command>
											<command class_type='sim' title='Simulation' macro='Component.Property.SetWritable' >
												<argument exp='this' />
												<argument exp='&quot;BAUD&quot;' />
												<argument exp='0' />
											</command>
										</flowline>
									</case>
								</command>
								<command class_type='calculation' title='Work Out Bit Delay in Microseconds' >
									<exp exp='.fCalc = 1.0 / FLOAT BAUD' />
									<exp exp='.fCalc = .fCalc * 1000.0 //Convert to ms' />
									<exp exp='.fCalc = .fCalc * 1000.0 //Convert to us' />
									<exp exp='.calc = float2int (.fCalc)' />
								</command>
								<command class_type='sim' title='Assign to BitDelay property' macro='Component.Property.SetValue' >
									<argument exp='this' />
									<argument exp='&quot;BitDelay&quot;' />
									<argument exp='.calc' />
								</command>
							</flowline>
							<flowline >
								<command class_type='sim' title='Panel' macro='Component.Property.SetVisible' >
									<argument exp='this' />
									<argument exp='&quot;property_1&quot;' />
									<argument exp='0' />
								</command>
								<command class_type='sim' title='Panel' macro='Component.Property.SetVisible' >
									<argument exp='this' />
									<argument exp='&quot;property_2&quot;' />
									<argument exp='0' />
								</command>
								<command class_type='sim' title='Panel' macro='Component.Property.SetVisible' >
									<argument exp='this' />
									<argument exp='&quot;property_3&quot;' />
									<argument exp='0' />
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='ScopeGroup = 0' />
									<exp exp='ScopeSCL = 0' />
									<exp exp='ScopeSDA = 0' />
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='ConsoleLog = 0' />
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='LinkBar = 0' />
								</command>
							</flowline>
						</command>
						<command class_type='sim' title='Built-in Function' macro='Component.GetParent' >
							<return exp='.ObjHandle' />
							<argument exp='this' />
						</command>
						<command class_type='sim' title='Built-in Function' macro='Component.GetChildHead' >
							<return exp='.ObjHandle' />
							<argument exp='.ObjHandle' />
						</command>
						<command class_type='loop' title='Loop' type='0' exp='.ObjHandle' >
							<flowline >
								<command class_type='sim' title='Built-in Function' macro='Tree.GetValue' >
									<return exp='.temp_str' />
									<argument exp='.ObjHandle' />
								</command>
								<command class_type='decision' title='Check for library or sensor theme components' exp='(Compare$ (.temp_str,&quot;58be670e-18fb-477e-ab09-61fde14b23ec&quot;,0) == 0) || (Compare$ (.temp_str,&quot;960e433c-1295-4aeb-ac84-04d75422119e&quot;,0) == 0)' swap='0' >
									<flowline >
										<command class_type='decision' title='Only add if already enabled' exp='ENABLED' swap='0' >
											<flowline >
												<command class_type='sim' title='Built-in Function' macro='Component.Property.SetValue' >
													<argument exp='.ObjHandle' />
													<argument exp='&quot;Peripheral::sText&quot;' />
													<argument exp='&quot;(I2C CH&quot; + STRING CHANNEL + &quot;)&quot;' />
												</command>
												<command class_type='decision' title='Decision' exp='Injector' swap='0' >
													<flowline >
														<command class_type='sim' title='Component Macro' macro='System.RedirectMacros' >
															<argument exp='LibraryComponent1' />
															<argument exp='.ObjHandle' />
														</command>
														<command class_type='sim' title='Component Macro' component='LibraryComponent1' macro='SetLinkHandle' >
															<argument exp='1' />
															<argument exp='InjectorHandle' />
														</command>
													</flowline>
													<flowline >
														<command class_type='sim' title='Built-in Function' macro='Component.Property.SetValue' >
															<argument exp='.ObjHandle' />
															<argument exp='&quot;OutputIcon::LinkTo&quot;' />
															<argument exp='0' />
														</command>
													</flowline>
												</command>
											</flowline>
											<flowline />
										</command>
										<command class_type='calculation' title='Done' >
											<exp exp='.ObjHandle = 0' />
										</command>
									</flowline>
									<flowline >
										<command class_type='sim' title='Built-in Function' macro='Component.GetNext' >
											<return exp='.ObjHandle' />
											<argument exp='.ObjHandle' />
										</command>
									</flowline>
								</command>
							</flowline>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Master_Init' description='Initialise the Master' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<local name='str' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<command class_type='decision' title='Console Data Enabled?' exp='ConsoleData' swap='0' >
							<flowline >
								<command class_type='calculation' title='Build Console String' >
									<exp exp='.str = &quot;Master_Init()&quot;' />
								</command>
								<command class_type='call' title='Call Macro' macro='Prv_TextConsole' >
									<argument exp='.str' />
									<argument exp='0' />
									<argument exp='1' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='Decision' exp='ScopeTraces' swap='0' >
							<flowline >
								<command class_type='calculation' title='Clock &amp; Data In Idle' >
									<exp exp='SCL = 1' />
									<exp exp='SDA = 1' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='Decision' exp='InjectorHandle &gt; 0' swap='0' >
							<flowline >
								<command class_type='sim' title='Component Macro' component='API_I2C_Dummy1' macro='I2CInitialise' >
									<argument exp='InjectorChannel' />
									<argument exp='BAUD_LIST' />
								</command>
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Ev_SimStart' description='Broadcast to all components that simulation is starting' statediag='0' >
						<return name='Return' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
							<argument exp='this' />
							<argument exp='&quot;Sim&quot;' />
							<argument exp='1' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Prv_GetNumericPos' description='' statediag='0' >
						<return name='Return' type='s32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='s' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</param>
						<local name='done' type='b1' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
						<local name='i' type='u32' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
						<local name='NumStart' type='u32' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
						<command class_type='comment' title='' comment='Find first numeric position' textarea='12,0,487,300' />
						<command class_type='calculation' title='Calculation' textarea='36,0,511,300' >
							<exp exp='.i = 0' />
							<exp exp='.Return = 0' />
						</command>
						<command class_type='loop' title='Loop' textarea='36,0,511,300' type='0' exp='.done = 0' >
							<flowline >
								<command class_type='decision' title='Decision' textarea='36,0,511,300' exp='.i &gt;= Length$(.s)' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' textarea='36,0,511,300' >
											<exp exp='.done = 1' />
										</command>
									</flowline>
									<flowline >
										<command class_type='decision' title='Decision' textarea='36,0,511,300' exp='(.s[.i] &gt;= &apos;0&apos;) &amp;&amp; (.s[.i] &lt;= &apos;9&apos;)' swap='0' >
											<flowline >
												<command class_type='calculation' title='Calculation' textarea='36,0,511,300' >
													<exp exp='.done = 1' />
													<exp exp='.Return = .i' />
												</command>
											</flowline>
											<flowline />
										</command>
									</flowline>
								</command>
								<command class_type='calculation' title='Calculation' textarea='36,0,511,300' >
									<exp exp='.i = .i + 1' />
								</command>
							</flowline>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Master_Start' description='Output a Master Start sequence' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<local name='str' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<command class_type='decision' title='Console Data Enabled?' exp='ConsoleData' swap='0' >
							<flowline >
								<command class_type='calculation' title='Build Console String' >
									<exp exp='.str = &quot;Master_Start()&quot;' />
								</command>
								<command class_type='call' title='Call Macro' macro='Prv_TextConsole' >
									<argument exp='.str' />
									<argument exp='0' />
									<argument exp='1' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='Decision' exp='ScopeTraces' swap='0' >
							<flowline >
								<command class_type='calculation' title='Clock &amp; Data In Idle' >
									<exp exp='SCL = 1' />
									<exp exp='SDA = 1' />
								</command>
								<command class_type='delay' title='Delay' exp='BitDelay' type='0' />
								<command class_type='calculation' title='Clear SDA' >
									<exp exp='SDA = 0' />
								</command>
								<command class_type='delay' title='Delay' exp='BitDelay' type='0' />
								<command class_type='calculation' title='Clear SCL' >
									<exp exp='SCL = 0' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='Decision' exp='InjectorHandle &gt; 0' swap='0' >
							<flowline >
								<command class_type='sim' title='Component Macro' component='API_I2C_Dummy1' macro='I2CStart' >
									<argument exp='InjectorChannel' />
								</command>
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Prv_NumericCompare' description='' statediag='0' >
						<return name='Return' type='s16' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='s1' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</param>
						<param name='s2' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</param>
						<local name='i1' type='s32' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
						<local name='i2' type='s32' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
						<local name='s1a' type='T8' description='' isconst='0' isHidden='0' isinit='1' usrinit='&quot;&quot;' setinit='&quot;&quot;' >
							<array size='20' />
						</local>
						<local name='s2a' type='T8' description='' isconst='0' isHidden='0' isinit='1' usrinit='&quot;&quot;' setinit='&quot;&quot;' >
							<array size='20' />
						</local>
						<command class_type='call' title='User Macro' textarea='36,0,511,300' macro='Prv_GetNumericPos' >
							<return exp='.i1' />
							<argument exp='.s1' />
						</command>
						<command class_type='call' title='User Macro' textarea='36,0,511,300' macro='Prv_GetNumericPos' >
							<return exp='.i2' />
							<argument exp='.s2' />
						</command>
						<command class_type='calculation' title='Calculation' textarea='36,0,511,300' >
							<exp exp='.s1a = left$(.s1,.i1)' />
							<exp exp='.s2a = left$(.s2,.i2)' />
						</command>
						<command class_type='calculation' title='Calculation' >
							<exp exp='.Return = Compare$(.s1a,.s2a,0)' />
						</command>
						<command class_type='decision' title='Decision' textarea='36,0,511,300' exp='.Return == 0' swap='0' >
							<flowline >
								<command class_type='calculation' title='Get numberic value' textarea='36,0,511,300' >
									<exp exp='.s1 = mid$(.s1,.i1,99)' />
									<exp exp='.i1 = StringToInt$(.s1)' />
								</command>
								<command class_type='calculation' title='Get numberic value' textarea='36,0,511,300' >
									<exp exp='.s2 = mid$(.s2,.i2,99)' />
									<exp exp='.i2 = StringToInt$(.s2)' />
								</command>
								<command class_type='decision' title='Decision' textarea='36,0,511,300' exp='.i1 &gt; .i2' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' textarea='36,0,511,300' >
											<exp exp='.Return = 1' />
										</command>
									</flowline>
									<flowline >
										<command class_type='decision' title='Decision' textarea='36,0,511,300' exp='.i1 &lt; .i2' swap='0' >
											<flowline >
												<command class_type='calculation' title='Calculation' textarea='36,0,511,300' >
													<exp exp='.Return = -1' />
												</command>
											</flowline>
											<flowline />
										</command>
									</flowline>
								</command>
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Transaction_Read' description='Attempt to read Length number of bytes from the I2C slave to the given Buffer.
Ensure that the Buffer is large enough. 
Returns number of bytes read, caller should check that this matches requested Length' statediag='0' >
						<return name='Return' type='u16' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Buffer' type='u8' description='Buffer to store the incoming byte data' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='32768' />
						</param>
						<param name='Length' type='u16' description='Number of bytes to read' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='str' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='n' type='u16' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
						<command class_type='decision' title='Console Data Enabled?' exp='ConsoleData' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' >
									<exp exp='.str = &quot;\nTransaction_Read(&quot; + ToString$ (.Length) + &quot;)&quot;' />
								</command>
								<command class_type='call' title='Call Macro' macro='Prv_TextConsole' >
									<argument exp='.str' />
									<argument exp='0' />
									<argument exp='1' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='Decision' exp='ScopeTraces' swap='0' >
							<flowline >
								<command class_type='call' title='Call Macro' macro='Master_Start' />
								<command class_type='call' title='Call Macro' macro='Master_TxByte' >
									<argument exp='(TransAddr &lt;&lt; 1) | 1' />
								</command>
								<command class_type='loop' title='Loop' type='0' exp='.n &lt; .Length' >
									<flowline >
										<command class_type='decision' title='Decision' exp='.n = (.Length - 1)' swap='0' >
											<flowline >
												<command class_type='call' title='Last' macro='Master_RxByte' >
													<return exp='.Buffer[.n]' />
													<argument exp='1' />
												</command>
											</flowline>
											<flowline >
												<command class_type='call' title='Not the Last' macro='Master_RxByte' >
													<return exp='.Buffer[.n]' />
													<argument exp='0' />
												</command>
											</flowline>
										</command>
										<command class_type='calculation' title='Calculation' >
											<exp exp='.n = .n + 1' />
										</command>
									</flowline>
								</command>
								<command class_type='call' title='Call Macro' macro='Master_Stop' />
								<command class_type='calculation' title='Calculation' >
									<exp exp='.Return = .n' />
								</command>
							</flowline>
							<flowline >
								<command class_type='decision' title='Decision' exp='InjectorHandle &gt; 0' swap='0' >
									<flowline >
										<command class_type='sim' title='Component Macro' component='API_I2C_Dummy1' macro='I2CTransReceive' >
											<return exp='.Return' />
											<argument exp='InjectorChannel' />
											<argument exp='.Buffer' />
											<argument exp='.Length' />
										</command>
										<command class_type='decision' title='Console Data Enabled?' exp='ConsoleData' swap='0' >
											<flowline >
												<command class_type='calculation' title='Calculation' >
													<exp exp='.str = &quot; {&quot;' />
												</command>
												<command class_type='loop' title='Loop' type='2' forvar='.n' exp='.Length' >
													<flowline >
														<command class_type='calculation' title='Calculation' >
															<exp exp='.str = .str + ToString$(.Buffer[.n])' />
														</command>
														<command class_type='decision' title='Decision' exp='(.n + 1) &lt; .Length' swap='0' >
															<flowline >
																<command class_type='calculation' title='Calculation' >
																	<exp exp='.str = .str + &quot;, &quot;' />
																</command>
															</flowline>
															<flowline >
																<command class_type='calculation' title='Calculation' >
																	<exp exp='.str = .str + &quot;}&quot;' />
																</command>
															</flowline>
														</command>
													</flowline>
												</command>
												<command class_type='call' title='Call Macro' macro='Prv_TextConsole' >
													<argument exp='.str' />
													<argument exp='0' />
													<argument exp='1' />
												</command>
											</flowline>
											<flowline />
										</command>
									</flowline>
									<flowline >
										<command class_type='calculation' title='Calculation' >
											<exp exp='.Return = .Length' />
										</command>
									</flowline>
								</command>
							</flowline>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='LoadChannelPorts' description='Set the SDA and SCL port values from the FCD  based on CHANNEL number' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<local name='master' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='fcd_h' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='I2C_Channel' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='txrx_h' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='str' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='item' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='check' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='decision' title='Decision' exp='Compare$ (&quot;SCADA&quot;, ::FCD .GetItemValue (&quot;device&quot;,&quot;product&quot;,&quot;&quot;),0) == 0' swap='0' >
							<flowline >
								<command class_type='sim' title='Simulation' macro='Component.Property.SetVisible' >
									<argument exp='this' />
									<argument exp='&quot;SDA&quot;' />
									<argument exp='0' />
								</command>
								<command class_type='sim' title='Simulation' macro='Component.Property.SetVisible' >
									<argument exp='this' />
									<argument exp='&quot;SCL&quot;' />
									<argument exp='0' />
								</command>
								<command class_type='sim' title='Simulation' macro='Component.Property.SetVisible' >
									<argument exp='this' />
									<argument exp='&quot;SDAPins&quot;' />
									<argument exp='0' />
								</command>
								<command class_type='sim' title='Simulation' textarea='85,-17,85,-17' macro='Component.Property.SetVisible' >
									<argument exp='this' />
									<argument exp='&quot;SCLPins&quot;' />
									<argument exp='0' />
								</command>
								<command class_type='sim' title='Simulation' textarea='85,-17,85,-17' macro='Component.Property.SetVisible' >
									<argument exp='this' />
									<argument exp='&quot;StopDel&quot;' />
									<argument exp='0' />
								</command>
								<command class_type='sim' title='Simulation' textarea='85,-17,85,-17' macro='Component.Property.SetVisible' >
									<argument exp='this' />
									<argument exp='&quot;BAUD&quot;' />
									<argument exp='0' />
								</command>
								<command class_type='sim' title='Simulation' textarea='85,-17,85,-17' macro='Component.Property.SetVisible' >
									<argument exp='this' />
									<argument exp='&quot;BAUD_LIST&quot;' />
									<argument exp='0' />
								</command>
								<command class_type='sim' title='Simulation' textarea='85,-17,85,-17' macro='Component.Property.SetVisible' >
									<argument exp='this' />
									<argument exp='&quot;SRC&quot;' />
									<argument exp='0' />
								</command>
								<command class_type='sim' title='Simulation' textarea='85,-17,85,-17' macro='Component.Property.SetVisible' >
									<argument exp='this' />
									<argument exp='&quot;SMB&quot;' />
									<argument exp='0' />
								</command>
								<command class_type='sim' title='Simulation' textarea='85,-17,85,-17' macro='Component.Property.SetVisible' >
									<argument exp='this' />
									<argument exp='&quot;ClockStretching&quot;' />
									<argument exp='0' />
								</command>
							</flowline>
							<flowline >
								<command class_type='comment' title='' comment='Load the PORTS from the FCD
based on Channel number ' textarea='12,0,487,300' />
								<command class_type='sim' title='Simulation' macro='Component.Property.SetVisible' >
									<argument exp='this' />
									<argument exp='&quot;SDA&quot;' />
									<argument exp='1' />
								</command>
								<command class_type='sim' title='Simulation' macro='Component.Property.SetVisible' >
									<argument exp='this' />
									<argument exp='&quot;SCL&quot;' />
									<argument exp='1' />
								</command>
								<command class_type='sim' title='Simulation' textarea='85,-17,85,-17' macro='Component.Property.SetVisible' >
									<argument exp='this' />
									<argument exp='&quot;StopDel&quot;' />
									<argument exp='1' />
								</command>
								<command class_type='sim' title='Simulation' textarea='85,-17,85,-17' macro='Component.Property.SetVisible' >
									<argument exp='this' />
									<argument exp='&quot;BAUD&quot;' />
									<argument exp='1' />
								</command>
								<command class_type='sim' title='Simulation' textarea='85,-17,85,-17' macro='Component.Property.SetVisible' >
									<argument exp='this' />
									<argument exp='&quot;BAUD_LIST&quot;' />
									<argument exp='1' />
								</command>
								<command class_type='sim' title='Simulation' textarea='85,-17,85,-17' macro='Component.Property.SetVisible' >
									<argument exp='this' />
									<argument exp='&quot;SRC&quot;' />
									<argument exp='1' />
								</command>
								<command class_type='sim' title='Simulation' textarea='85,-17,85,-17' macro='Component.Property.SetVisible' >
									<argument exp='this' />
									<argument exp='&quot;SMB&quot;' />
									<argument exp='1' />
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='.I2C_Channel = 1' />
								</command>
								<command class_type='decision' title='Decision' exp='CHANNEL &gt; 0' swap='0' >
									<flowline >
										<command class_type='sim' title='Simulation' textarea='85,-17,85,-17' macro='Component.Property.SetVisible' >
											<argument exp='this' />
											<argument exp='&quot;ClockStretching&quot;' />
											<argument exp='0' />
										</command>
										<command class_type='sim' title='Simulation' macro='Component.Property.SetWritable' >
											<argument exp='this' />
											<argument exp='&quot;SDA&quot;' />
											<argument exp='0' />
										</command>
										<command class_type='sim' title='Simulation' macro='Component.Property.SetWritable' >
											<argument exp='this' />
											<argument exp='&quot;SCL&quot;' />
											<argument exp='0' />
										</command>
										<command class_type='sim' title='Panel' macro='FCD.GetPathHandle' >
											<return exp='.fcd_h' />
											<argument exp='&quot;device.i2c&quot;' />
											<argument exp='0' />
										</command>
										<command class_type='decision' title='Decision' exp='.fcd_h' swap='0' >
											<flowline >
												<command class_type='comment' title='' comment='::Tree.StepNamedIndex()
ain&apos;t got one!!!
' textarea='12,0,12,0' />
												<command class_type='loop' title='Loop' type='0' exp='.I2C_Channel &lt; CHANNEL' >
													<flowline >
														<command class_type='calculation' title='Calculation' >
															<exp exp='.I2C_Channel = .I2C_Channel + 1' />
														</command>
														<command class_type='sim' title='Panel' macro='Tree.StepNamedNext' >
															<argument exp='.fcd_h' />
															<argument exp='&quot;i2c&quot;' />
														</command>
													</flowline>
												</command>
												<command class_type='decision' title='Decision' exp='.fcd_h' swap='0' >
													<flowline >
														<command class_type='calculation' title='Calculation' >
															<exp exp='::Component .Property .SetValue (this,&quot;REMAPPABLE&quot;, ::Tree .GetSubValue (.fcd_h,&quot;remappable&quot;))' />
															<exp exp='' />
														</command>
														<command class_type='decision' title='Decision' exp='REMAPPABLE = 2' swap='0' >
															<flowline >
																<command class_type='comment' title='' comment='ST ARM' textarea='12,0,12,0' />
																<command class_type='sim' title='Simulation' macro='Component.Property.SetVisible' >
																	<argument exp='this' />
																	<argument exp='&quot;SDAPins&quot;' />
																	<argument exp='1' />
																</command>
																<command class_type='sim' title='Simulation' macro='Component.Property.SetVisible' >
																	<argument exp='this' />
																	<argument exp='&quot;SCLPins&quot;' />
																	<argument exp='1' />
																</command>
																<command class_type='sim' title='Clear the list' macro='Component.Property.SetFilter' >
																	<argument exp='this' />
																	<argument exp='&quot;SCLPins&quot;' />
																	<argument exp='&quot;&quot;' />
																</command>
																<command class_type='sim' title='Clear the list' macro='Component.Property.SetFilter' >
																	<argument exp='this' />
																	<argument exp='&quot;SCLAlts&quot;' />
																	<argument exp='&quot;&quot;' />
																</command>
																<command class_type='sim' title='Clear the list' macro='Component.Property.SetFilter' >
																	<argument exp='this' />
																	<argument exp='&quot;SDAPins&quot;' />
																	<argument exp='&quot;&quot;' />
																</command>
																<command class_type='sim' title='Clear the list' macro='Component.Property.SetFilter' >
																	<argument exp='this' />
																	<argument exp='&quot;SDAAlts&quot;' />
																	<argument exp='&quot;&quot;' />
																</command>
																<command class_type='comment' title='' comment='get the remap pins for SCL' textarea='74,6,74,6' />
																<command class_type='sim' title='Get the child' textarea='53,-7,53,-7' macro='FCD.GetPathHandle' >
																	<return exp='.txrx_h' />
																	<argument exp='&quot;scl&quot;' />
																	<argument exp='.fcd_h' />
																</command>
																<command class_type='decision' title='If valid' textarea='53,-7,53,-7' exp='.txrx_h != 0' swap='0' >
																	<flowline >
																		<command class_type='call' title='Call Macro' textarea='53,-7,53,-7' macro='Prv_ParseSTRemapPins' >
																			<argument exp='.txrx_h' />
																			<argument exp='1' />
																		</command>
																		<command class_type='sim' title='Simulation' macro='Component.Property.GetValue' >
																			<return exp='.item' />
																			<argument exp='this' />
																			<argument exp='&quot;SCLPins&quot;' />
																		</command>
																		<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
																			<argument exp='this' />
																			<argument exp='&quot;SCLAlts&quot;' />
																			<argument exp='.item' />
																		</command>
																		<command class_type='sim' title='Simulation' macro='Component.Property.GetListItem' >
																			<return exp='.str' />
																			<argument exp='this' />
																			<argument exp='&quot;SCLPins&quot;' />
																			<argument exp='.item' />
																		</command>
																		<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
																			<argument exp='this' />
																			<argument exp='&quot;SCL&quot;' />
																			<argument exp='.str' />
																		</command>
																		<command class_type='sim' title='Simulation' macro='Component.Property.GetListItem' >
																			<return exp='.str' />
																			<argument exp='this' />
																			<argument exp='&quot;SCLAlts&quot;' />
																			<argument exp='.item' />
																		</command>
																		<command class_type='decision' title='Search for space' exp='Contains$(.str,&quot; &quot;,0)' swap='0' >
																			<flowline >
																				<command class_type='calculation' title='Calculation' >
																					<exp exp='.check = Contains$(.str,&quot; &quot;,0)' />
																					<exp exp='.str = Left$(.Str,.check)' />
																				</command>
																			</flowline>
																			<flowline />
																		</command>
																		<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
																			<argument exp='this' />
																			<argument exp='&quot;SCLAlt&quot;' />
																			<argument exp='.str' />
																		</command>
																	</flowline>
																	<flowline />
																</command>
																<command class_type='comment' title='' comment='get the remap pins for SDA' textarea='74,6,74,6' />
																<command class_type='sim' title='Get the child' textarea='53,-7,53,-7' macro='FCD.GetPathHandle' >
																	<return exp='.txrx_h' />
																	<argument exp='&quot;sda&quot;' />
																	<argument exp='.fcd_h' />
																</command>
																<command class_type='decision' title='If valid' textarea='53,-7,53,-7' exp='.txrx_h != 0' swap='0' >
																	<flowline >
																		<command class_type='call' title='Call Macro' textarea='53,-7,53,-7' macro='Prv_ParseSTRemapPins' >
																			<argument exp='.txrx_h' />
																			<argument exp='0' />
																		</command>
																		<command class_type='sim' title='Simulation' macro='Component.Property.GetValue' >
																			<return exp='.item' />
																			<argument exp='this' />
																			<argument exp='&quot;SDAPins&quot;' />
																		</command>
																		<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
																			<argument exp='this' />
																			<argument exp='&quot;SDAAlts&quot;' />
																			<argument exp='.item' />
																		</command>
																		<command class_type='sim' title='Simulation' macro='Component.Property.GetListItem' >
																			<return exp='.str' />
																			<argument exp='this' />
																			<argument exp='&quot;SDAPins&quot;' />
																			<argument exp='.item' />
																		</command>
																		<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
																			<argument exp='this' />
																			<argument exp='&quot;SDA&quot;' />
																			<argument exp='.str' />
																		</command>
																		<command class_type='sim' title='Simulation' macro='Component.Property.GetListItem' >
																			<return exp='.str' />
																			<argument exp='this' />
																			<argument exp='&quot;SDAAlts&quot;' />
																			<argument exp='.item' />
																		</command>
																		<command class_type='decision' title='Search for space' exp='Contains$(.str,&quot; &quot;,0)' swap='0' >
																			<flowline >
																				<command class_type='calculation' title='Calculation' >
																					<exp exp='.check = Contains$(.str,&quot; &quot;,0)' />
																					<exp exp='.str = Left$(.Str,.check)' />
																				</command>
																			</flowline>
																			<flowline />
																		</command>
																		<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
																			<argument exp='this' />
																			<argument exp='&quot;SDAAlt&quot;' />
																			<argument exp='.str' />
																		</command>
																	</flowline>
																	<flowline />
																</command>
															</flowline>
															<flowline >
																<command class_type='decision' title='Decision' exp='REMAPPABLE = 1' swap='0' >
																	<flowline >
																		<command class_type='sim' title='Simulation' macro='Component.Property.SetVisible' >
																			<argument exp='this' />
																			<argument exp='&quot;SDAPins&quot;' />
																			<argument exp='1' />
																		</command>
																		<command class_type='sim' title='Simulation' macro='Component.Property.SetVisible' >
																			<argument exp='this' />
																			<argument exp='&quot;SCLPins&quot;' />
																			<argument exp='1' />
																		</command>
																		<command class_type='comment' title='' comment='SDA' textarea='113,4,113,4' />
																		<command class_type='sim' title='Get the child' macro='FCD.GetPathHandle' >
																			<return exp='.txrx_h' />
																			<argument exp='&quot;sda&quot;' />
																			<argument exp='.fcd_h' />
																		</command>
																		<command class_type='decision' title='If valid' exp='.txrx_h != 0' swap='0' >
																			<flowline >
																				<command class_type='calculation' title='Calculation' >
																					<exp exp='.str = ::Tree .GetSubValue (.txrx_h,&quot;rpnum&quot;)' />
																				</command>
																				<command class_type='sim' title='ConvertPort(.port, .pin)' macro='Component.Property.SetValue' >
																					<argument exp='this' />
																					<argument exp='&quot;SDARPNUM&quot;' />
																					<argument exp='.str' />
																				</command>
																				<command class_type='calculation' title='Calculation' >
																					<exp exp='.str = ::Tree .GetSubValue (.txrx_h,&quot;rpbank&quot;)' />
																				</command>
																				<command class_type='sim' title='ConvertPort(.port, .pin)' macro='Component.Property.SetValue' >
																					<argument exp='this' />
																					<argument exp='&quot;SDABank&quot;' />
																					<argument exp='.str' />
																				</command>
																				<command class_type='calculation' title='Calculation' >
																					<exp exp='.str = ::Tree .GetSubValue (.txrx_h,&quot;arpbank&quot;)' />
																				</command>
																				<command class_type='sim' title='ConvertPort(.port, .pin)' macro='Component.Property.SetValue' >
																					<argument exp='this' />
																					<argument exp='&quot;SDABank2&quot;' />
																					<argument exp='.str' />
																				</command>
																				<command class_type='calculation' title='Calculation' >
																					<exp exp='.str = ::Tree .GetSubValue (.txrx_h,&quot;rpreg&quot;)' />
																				</command>
																				<command class_type='sim' title='ConvertPort(.port, .pin)' macro='Component.Property.SetValue' >
																					<argument exp='this' />
																					<argument exp='&quot;SDARPREG&quot;' />
																					<argument exp='.str' />
																				</command>
																			</flowline>
																			<flowline />
																		</command>
																		<command class_type='comment' title='' comment='SCL' textarea='113,4,113,4' />
																		<command class_type='sim' title='Get the child' macro='FCD.GetPathHandle' >
																			<return exp='.txrx_h' />
																			<argument exp='&quot;scl&quot;' />
																			<argument exp='.fcd_h' />
																		</command>
																		<command class_type='decision' title='If valid' exp='.txrx_h != 0' swap='0' >
																			<flowline >
																				<command class_type='calculation' title='Calculation' >
																					<exp exp='.str = ::Tree .GetSubValue (.txrx_h,&quot;rpnum&quot;)' />
																				</command>
																				<command class_type='sim' title='ConvertPort(.port, .pin)' macro='Component.Property.SetValue' >
																					<argument exp='this' />
																					<argument exp='&quot;SCLRPNUM&quot;' />
																					<argument exp='.str' />
																				</command>
																				<command class_type='calculation' title='Calculation' >
																					<exp exp='.str = ::Tree .GetSubValue (.txrx_h,&quot;rpbank&quot;)' />
																				</command>
																				<command class_type='sim' title='ConvertPort(.port, .pin)' macro='Component.Property.SetValue' >
																					<argument exp='this' />
																					<argument exp='&quot;SCLBank&quot;' />
																					<argument exp='.str' />
																				</command>
																				<command class_type='calculation' title='Calculation' >
																					<exp exp='.str = ::Tree .GetSubValue (.txrx_h,&quot;arpbank&quot;)' />
																				</command>
																				<command class_type='sim' title='ConvertPort(.port, .pin)' macro='Component.Property.SetValue' >
																					<argument exp='this' />
																					<argument exp='&quot;SCLBank2&quot;' />
																					<argument exp='.str' />
																				</command>
																				<command class_type='calculation' title='Calculation' >
																					<exp exp='.str = ::Tree .GetSubValue (.txrx_h,&quot;rpreg&quot;)' />
																				</command>
																				<command class_type='sim' title='ConvertPort(.port, .pin)' macro='Component.Property.SetValue' >
																					<argument exp='this' />
																					<argument exp='&quot;SCLRPREG&quot;' />
																					<argument exp='.str' />
																				</command>
																			</flowline>
																			<flowline />
																		</command>
																		<command class_type='call' title='Call Macro' macro='ParseRemapPins' />
																		<command class_type='sim' title='Simulation' macro='Component.Property.GetValue' >
																			<return exp='.str' />
																			<argument exp='this' />
																			<argument exp='&quot;SDAPins&quot;' />
																		</command>
																		<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
																			<argument exp='this' />
																			<argument exp='&quot;SDAREG&quot;' />
																			<argument exp='.str' />
																		</command>
																		<command class_type='sim' title='Simulation' macro='Component.Property.GetListItem' >
																			<return exp='.str' />
																			<argument exp='this' />
																			<argument exp='&quot;SDAPins&quot;' />
																			<argument exp='.str' />
																		</command>
																		<command class_type='decision' title='Search for space' exp='Contains$(.str,&quot; &quot;,0)' swap='0' >
																			<flowline >
																				<command class_type='calculation' title='Calculation' >
																					<exp exp='.check = Contains$(.str,&quot; &quot;,0)' />
																					<exp exp='.str = Left$(.Str,.check)' />
																				</command>
																			</flowline>
																			<flowline />
																		</command>
																		<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
																			<argument exp='this' />
																			<argument exp='&quot;SDA&quot;' />
																			<argument exp='.str' />
																		</command>
																		<command class_type='sim' title='Simulation' macro='Component.Property.GetValue' >
																			<return exp='.str' />
																			<argument exp='this' />
																			<argument exp='&quot;SCLPins&quot;' />
																		</command>
																		<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
																			<argument exp='this' />
																			<argument exp='&quot;SCLREG&quot;' />
																			<argument exp='.str' />
																		</command>
																		<command class_type='sim' title='Simulation' macro='Component.Property.GetListItem' >
																			<return exp='.str' />
																			<argument exp='this' />
																			<argument exp='&quot;SCLPins&quot;' />
																			<argument exp='.str' />
																		</command>
																		<command class_type='decision' title='Search for space' exp='Contains$(.str,&quot; &quot;,0)' swap='0' >
																			<flowline >
																				<command class_type='calculation' title='Calculation' >
																					<exp exp='.check = Contains$(.str,&quot; &quot;,0)' />
																					<exp exp='.str = Left$(.Str,.check)' />
																				</command>
																			</flowline>
																			<flowline />
																		</command>
																		<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
																			<argument exp='this' />
																			<argument exp='&quot;SCL&quot;' />
																			<argument exp='.str' />
																		</command>
																	</flowline>
																	<flowline >
																		<command class_type='sim' title='Simulation' macro='Component.Property.SetVisible' >
																			<argument exp='this' />
																			<argument exp='&quot;SDAPins&quot;' />
																			<argument exp='0' />
																		</command>
																		<command class_type='sim' title='Simulation' textarea='85,-17,85,-17' macro='Component.Property.SetVisible' >
																			<argument exp='this' />
																			<argument exp='&quot;SCLPins&quot;' />
																			<argument exp='0' />
																		</command>
																		<command class_type='comment' title='' comment='set the port and pin for sda and scl' textarea='12,0,12,0' />
																		<command class_type='call' title='Call Macro' macro='LoadPortString' >
																			<argument exp='.fcd_h' />
																			<argument exp='&quot;sda&quot;' />
																		</command>
																		<command class_type='call' title='Call Macro' macro='LoadPortString' >
																			<argument exp='.fcd_h' />
																			<argument exp='&quot;scl&quot;' />
																		</command>
																	</flowline>
																</command>
															</flowline>
														</command>
														<command class_type='comment' title='' comment='test for Master' textarea='12,0,12,0' />
														<command class_type='calculation' title='Calculation' >
															<exp exp='.master = ::Tree .GetSubValue (.fcd_h,&quot;master&quot;)' />
														</command>
														<command class_type='decision' title='Decision' exp='.master = 1' swap='0' >
															<flowline >
																<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
																	<argument exp='this' />
																	<argument exp='&quot;MASTER&quot;' />
																	<argument exp='.I2C_Channel' />
																</command>
															</flowline>
															<flowline >
																<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
																	<argument exp='this' />
																	<argument exp='&quot;MASTER&quot;' />
																	<argument exp='0' />
																</command>
															</flowline>
														</command>
													</flowline>
													<flowline />
												</command>
											</flowline>
											<flowline />
										</command>
									</flowline>
									<flowline >
										<command class_type='sim' title='Simulation' textarea='85,-17,85,-17' macro='Component.Property.SetVisible' >
											<argument exp='this' />
											<argument exp='&quot;ClockStretching&quot;' />
											<argument exp='1' />
										</command>
										<command class_type='sim' title='Simulation' macro='Component.Property.SetWritable' >
											<argument exp='this' />
											<argument exp='&quot;SDA&quot;' />
											<argument exp='1' />
										</command>
										<command class_type='sim' title='Simulation' macro='Component.Property.SetWritable' >
											<argument exp='this' />
											<argument exp='&quot;SCL&quot;' />
											<argument exp='1' />
										</command>
										<command class_type='sim' title='Simulation' macro='Component.Property.SetVisible' >
											<argument exp='this' />
											<argument exp='&quot;SDAPins&quot;' />
											<argument exp='0' />
										</command>
										<command class_type='sim' title='Simulation' textarea='85,-17,85,-17' macro='Component.Property.SetVisible' >
											<argument exp='this' />
											<argument exp='&quot;SCLPins&quot;' />
											<argument exp='0' />
										</command>
									</flowline>
								</command>
							</flowline>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='ParseRemapPins' description='' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<local name='fcd' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='temp_str' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='port' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='bit' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='count' type='u16' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
						<local name='bank' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='temp_str2' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='caption' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<command class_type='sim' title='Point to first FCD port pin' macro='FCD.GetPathHandle' >
							<return exp='.fcd' />
							<argument exp='&quot;device.pins.pin&quot;' />
							<argument exp='0' />
						</command>
						<command class_type='comment' title='' comment='Clear Filters' textarea='12,0,12,0' />
						<command class_type='sim' title='Simulation' macro='Component.Property.SetFilter' >
							<argument exp='this' />
							<argument exp='&quot;SDAPins&quot;' />
							<argument exp='&quot;&quot;' />
						</command>
						<command class_type='sim' title='Simulation' macro='Component.Property.SetFilter' >
							<argument exp='this' />
							<argument exp='&quot;SDAReg&quot;' />
							<argument exp='&quot;&quot;' />
						</command>
						<command class_type='sim' title='Simulation' macro='Component.Property.SetFilter' >
							<argument exp='this' />
							<argument exp='&quot;SCLPins&quot;' />
							<argument exp='&quot;&quot;' />
						</command>
						<command class_type='sim' title='Simulation' macro='Component.Property.SetFilter' >
							<argument exp='this' />
							<argument exp='&quot;SCLReg&quot;' />
							<argument exp='&quot;&quot;' />
						</command>
						<command class_type='loop' title='Loop' type='0' exp='.fcd &gt; 0' >
							<flowline >
								<command class_type='sim' title='Panel' macro='Tree.GetSubValue' >
									<return exp='.temp_str' />
									<argument exp='.fcd' />
									<argument exp='&quot;rpreg&quot;' />
								</command>
								<command class_type='sim' title='Panel' macro='Tree.GetSubValue' >
									<return exp='.temp_str2' />
									<argument exp='.fcd' />
									<argument exp='&quot;rpnum&quot;' />
								</command>
								<command class_type='decision' title='Decision' exp='(Length$ (.temp_str) &gt; 0) || (Length$ (.temp_str2) &gt; 0)' swap='0' >
									<flowline >
										<command class_type='sim' title='Panel' macro='Tree.GetSubValue' >
											<return exp='.port' />
											<argument exp='.fcd' />
											<argument exp='&quot;port&quot;' />
										</command>
										<command class_type='sim' title='Panel' macro='Tree.GetSubValue' >
											<return exp='.bit' />
											<argument exp='.fcd' />
											<argument exp='&quot;bit&quot;' />
										</command>
										<command class_type='sim' title='Panel' macro='Tree.GetSubValue' >
											<return exp='.bank' />
											<argument exp='.fcd' />
											<argument exp='&quot;rpbank&quot;' />
										</command>
										<command class_type='sim' title='Panel' macro='Tree.GetSubValue' >
											<return exp='.caption' />
											<argument exp='.fcd' />
											<argument exp='&quot;caption&quot;' />
										</command>
										<command class_type='calculation' title='Calculation' >
											<exp exp='.port[0] = .port[0] - &apos;0&apos;' />
											<exp exp='.port[0] = .port[0] + &apos;A&apos;' />
										</command>
										<command class_type='calculation' title='Calculation' >
											<exp exp='.port = .port[0] + &quot;.&quot; + .bit' />
										</command>
										<command class_type='calculation' title='Calculation' >
											<exp exp='.port = &quot;$PORT&quot; + .port' />
										</command>
										<command class_type='decision' title='Decision' exp='Length$(.caption) &gt; 0' swap='0' >
											<flowline >
												<command class_type='calculation' title='Calculation' >
													<exp exp='.port = .port + &quot; (&quot;' />
													<exp exp='.port = .port + .caption' />
													<exp exp='.port = .port + &quot;)&quot;' />
												</command>
											</flowline>
											<flowline />
										</command>
										<command class_type='decision' title='Decision' exp='(Compare$ (.bank,SDABank,1) == 0) || (Compare$ (.bank,SDABank2,1) == 0)' swap='0' >
											<flowline >
												<command class_type='sim' title='Simulation' macro='Component.Property.AddListItem' >
													<argument exp='this' />
													<argument exp='&quot;SDAPins&quot;' />
													<argument exp='.temp_str2' />
													<argument exp='.port' />
												</command>
												<command class_type='sim' title='Simulation' macro='Component.Property.AddListItem' >
													<argument exp='this' />
													<argument exp='&quot;SDAReg&quot;' />
													<argument exp='.temp_str2' />
													<argument exp='.temp_str' />
												</command>
												<command class_type='sim' title='Simulation' macro='Component.Property.AddListItem' >
													<argument exp='this' />
													<argument exp='&quot;SCLPins&quot;' />
													<argument exp='.temp_str2' />
													<argument exp='.port' />
												</command>
												<command class_type='sim' title='Simulation' macro='Component.Property.AddListItem' >
													<argument exp='this' />
													<argument exp='&quot;SCLReg&quot;' />
													<argument exp='.temp_str2' />
													<argument exp='.temp_str' />
												</command>
												<command class_type='sim' title='Simulation' disable='1' macro='Debug.PrintLn' >
													<argument exp='&quot;Output - Port &quot; + .port + &quot; Reg &quot; + .temp_str' />
												</command>
												<command class_type='calculation' title='Calculation' >
													<exp exp='.count = .count + 1' />
												</command>
											</flowline>
											<flowline />
										</command>
									</flowline>
									<flowline />
								</command>
								<command class_type='sim' title='Panel' macro='Tree.StepNamedNext' >
									<argument exp='.fcd' />
									<argument exp='&quot;pin&quot;' />
								</command>
							</flowline>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Master_TxByte' description='Send a data byte and collects the acknowledge from the slave.
Returns 0 for Ack received.
Returns 1 for Ack not received - slave not responding.' statediag='0' >
						<return name='Return' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Data' type='u8' description='Data byte to write to the I2C bus' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='str' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<command class_type='decision' title='Console Data Enabled?' exp='ConsoleData' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' >
									<exp exp='.str = &quot;Master_TxByte(&quot; + NumberToHex$ (.Data) + &quot;)&quot;' />
								</command>
								<command class_type='call' title='Call Macro' macro='Prv_TextConsole' >
									<argument exp='.str' />
									<argument exp='1' />
									<argument exp='1' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='Decision' exp='InjectorHandle &gt; 0' swap='0' >
							<flowline >
								<command class_type='sim' title='Component Macro' component='API_I2C_Dummy1' macro='I2CSend' >
									<return exp='.Return' />
									<argument exp='InjectorChannel' />
									<argument exp='.Data' />
								</command>
							</flowline>
							<flowline >
								<command class_type='calculation' title='Ack Valid' >
									<exp exp='.Return = 0' />
								</command>
							</flowline>
						</command>
						<command class_type='decision' title='Decision' exp='ScopeTraces' swap='0' >
							<flowline >
								<command class_type='loop' title='Loop' type='2' exp='8' >
									<flowline >
										<command class_type='decision' title='Test MSB' exp='.Data &amp; 0x80' swap='0' >
											<flowline >
												<command class_type='calculation' title='Data High' >
													<exp exp='SDA = 1' />
												</command>
											</flowline>
											<flowline >
												<command class_type='calculation' title='Data Low' >
													<exp exp='SDA = 0' />
												</command>
											</flowline>
										</command>
										<command class_type='delay' title='Delay' exp='BitDelay' type='0' />
										<command class_type='calculation' title='Set SCL' >
											<exp exp='SCL = 1' />
										</command>
										<command class_type='delay' title='Delay' exp='BitDelay' type='0' />
										<command class_type='calculation' title='Clear SCL' >
											<exp exp='SCL = 0' />
										</command>
										<command class_type='calculation' title='Shift Data to next bit' >
											<exp exp='.Data = .Data &lt;&lt; 1' />
										</command>
									</flowline>
								</command>
								<command class_type='calculation' title='Data High' >
									<exp exp='SDA = 1' />
								</command>
								<command class_type='delay' title='Delay' exp='BitDelay' type='0' />
								<command class_type='calculation' title='Set SCL' >
									<exp exp='SCL = 1' />
								</command>
								<command class_type='calculation' title='Ack Bit' >
									<exp exp='SDA = .Return' />
								</command>
								<command class_type='delay' title='Delay' exp='BitDelay' type='0' />
								<command class_type='calculation' title='Set SCL' >
									<exp exp='SCL = 0' />
								</command>
								<command class_type='calculation' title='Ack Bit Ended' >
									<exp exp='SDA = 1' />
								</command>
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='SimSetupScope' description='' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<local name='ObjectHandle' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='ParentName' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='Port' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='Bit' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='calculation' title='Initialise values' >
							<exp exp='.ObjectHandle = this' />
							<exp exp='ScopeGroup = 0' />
							<exp exp='ScopeSCL = 0' />
							<exp exp='ScopeSDA = 0' />
						</command>
						<command class_type='sim' title='Step away from I2C CAL' macro='Tree.StepParent' >
							<argument exp='.ObjectHandle' />
						</command>
						<command class_type='sim' title='Get Name Of Current Position' macro='Tree.GetName' >
							<return exp='.ParentName' />
							<argument exp='.ObjectHandle' />
						</command>
						<command class_type='calculation' title='Calculation' >
							<exp exp='.ParentName = .ParentName + &quot; - I2C &quot; + STRING CHANNEL' />
						</command>
						<command class_type='sim' title='Simulation' macro='DataRecorder.AddGroup' >
							<return exp='ScopeGroup' />
							<argument exp='.ParentName' />
						</command>
						<command class_type='sim' title='Simulation' macro='DataRecorder.AddStream' >
							<return exp='ScopeSDA' />
							<argument exp='ScopeGroup' />
							<argument exp='&quot;SDA &quot; + SDA_PORT' />
						</command>
						<command class_type='calculation' title='Calculation' >
							<exp exp='.Port = Char$ (SDA_PORT,5) - &apos;A&apos;' />
						</command>
						<command class_type='calculation' title='Calculation' >
							<exp exp='.Bit = Char$ (SDA_PORT,7) - &apos;0&apos;' />
						</command>
						<command class_type='decision' title='Decision' exp='Char$ (SDA_PORT,8) &gt; 0' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' >
									<exp exp='.Bit = (.Bit * 10) + (Char$ (SDA_PORT,8) - &apos;0&apos;)' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='sim' title='Simulation' macro='DataRecorder.AddPort' >
							<argument exp='ScopeSDA' />
							<argument exp='.Port' />
							<argument exp='(1 &lt;&lt; .Bit)' />
							<argument exp='1' />
							<argument exp='0' />
						</command>
						<command class_type='sim' title='Simulation' macro='DataRecorder.AddStream' >
							<return exp='ScopeSCL' />
							<argument exp='ScopeGroup' />
							<argument exp='&quot;SCL &quot; + SCL_PORT' />
						</command>
						<command class_type='calculation' title='Calculation' >
							<exp exp='.Port = Char$ (SCL_PORT,5) - &apos;A&apos;' />
						</command>
						<command class_type='calculation' title='Calculation' >
							<exp exp='.Bit = Char$ (SCL_PORT,7) - &apos;0&apos;' />
						</command>
						<command class_type='decision' title='Decision' exp='Char$ (SCL_PORT,8) &gt; 0' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' >
									<exp exp='.Bit = (.Bit * 10) + (Char$ (SCL_PORT,8) - &apos;0&apos;)' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='sim' title='Simulation' macro='DataRecorder.AddPort' >
							<argument exp='ScopeSCL' />
							<argument exp='.Port' />
							<argument exp='(1 &lt;&lt; .Bit)' />
							<argument exp='1' />
							<argument exp='0' />
						</command>
						<command class_type='sim' title='Simulation' macro='DataRecorder.SetDecodable' >
							<argument exp='ScopeSCL' />
							<argument exp='0' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Ev_DecodeSync' description='Sent when a block of the stream is to be decoded into packets' statediag='0' >
						<return name='Return' type='u32' description='Non-zero if the data could be decoded' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='StreamH' type='h32' description='The stream handle' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='TimeOffset' type='s32' description='The -ve offset from now of the earliest time to be decoded, in microseconds' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='PacketSize' type='u32' description='The number of microseconds of the decoded packet from its start' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='baud' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='step' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='SearchFlags' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='PacketFlags' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='start_step' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='ObjectHandle' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='str' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<command class_type='comment' title='' comment='Setup Decode Console' textarea='12,0,12,0' />
						<command class_type='calculation' title='Calculation' >
							<exp exp='.ObjectHandle = this' />
						</command>
						<command class_type='sim' title='Step away from I2C CAL' macro='Tree.StepParent' >
							<argument exp='.ObjectHandle' />
						</command>
						<command class_type='sim' title='Get Name Of Current Position' macro='Tree.GetName' >
							<return exp='.str' />
							<argument exp='.ObjectHandle' />
						</command>
						<command class_type='calculation' title='Calculation' >
							<exp exp='.str = .str + &quot; - Decode &quot; + STRING CHANNEL' />
						</command>
						<command class_type='sim' title='Simulation' macro='Console.AddText' >
							<return exp='ConsoleDecode' />
							<argument exp='.str' />
							<argument exp='0' />
						</command>
						<command class_type='comment' title='' comment='Perform Decode' textarea='12,0,12,0' />
						<command class_type='sim' title='Set Packet format' macro='DataRecorder.SetPacketFmt' >
							<argument exp='.StreamH' />
							<argument exp='&quot;%e&quot;' />
							<argument exp='0xffffff' />
							<argument exp='0xd0FFE0a0' />
						</command>
						<command class_type='sim' title='Clear Packets from the area' macro='DataRecorder.ClearPackets' >
							<argument exp='.StreamH' />
							<argument exp='.TimeOffset' />
							<argument exp='.PacketSize' />
						</command>
						<command class_type='comment' title='' comment='Find initial clock high to low .TimeOffset and the .PacketSize max
' textarea='273,-14,273,-14' />
						<command class_type='sim' title='Find the next transition' macro='DataRecorder.FindOutput' >
							<return exp='.step' />
							<argument exp='ScopeSCL' />
							<argument exp='.TimeOffset' />
							<argument exp='.PacketSize' />
							<argument exp='0.5' />
							<argument exp='::DataRecorder.Find_HighLow' />
						</command>
						<command class_type='comment' title='' comment='the SDA line should be low at this point' textarea='12,0,12,0' />
						<command class_type='calculation' title='' >
							<exp exp='.TimeOffset = .TimeOffset + .step' />
							<exp exp='.PacketSize = .PacketSize - .step' />
						</command>
						<command class_type='sim' title='Find the next transition' macro='DataRecorder.FindOutput' >
							<return exp='.step' />
							<argument exp='ScopeSCL' />
							<argument exp='.TimeOffset' />
							<argument exp='.PacketSize' />
							<argument exp='0.5' />
							<argument exp='::DataRecorder.Find_LowHigh' />
						</command>
						<command class_type='comment' title='' comment='Decode the data starting at the first clock pulse
' textarea='273,-14,273,-14' />
						<command class_type='decision' title='If found a valid clock pulse' exp='.step != 0' swap='0' >
							<flowline >
								<command class_type='calculation' title='' >
									<exp exp='.TimeOffset = .TimeOffset + .step' />
									<exp exp='.PacketSize = .PacketSize - .step' />
								</command>
								<command class_type='sim' title='Simulation' macro='DataRecorder.AddSyncPackets' >
									<argument exp='.StreamH' />
									<argument exp='.TimeOffset' />
									<argument exp='.PacketSize' />
									<argument exp='ScopeSCL' />
									<argument exp='::DataRecorder.Find_LowHigh' />
									<argument exp='0x1ff' />
									<argument exp='9' />
									<argument exp='::DataRecorder.Packet_ResyncEv' />
									<argument exp='-1' />
								</command>
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Ev_AddHeader' description='Sent to a component to allow dynamic amendment of header code' statediag='0' >
						<return name='Return' type='u32' description='Non-zero to block header code insertion' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='HeadCode' type='T8' description='Text to amend for header' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</param>
						<local name='temp_ul' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='temp_str' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<command class_type='calculation' title='Calculation' >
							<exp exp='.Return = 0' />
						</command>
						<command class_type='decision' title='Decision' exp='MASTER &gt; 0' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' >
									<exp exp='.HeadCode = .HeadCode + &quot;#define MX_MI2C\n&quot;' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='Decision' exp='(REMAPPABLE = 1) &amp;&amp; (CHANNEL &gt; 0)' swap='0' >
							<flowline >
								<command class_type='sim' title='Simulation' macro='Component.GetInstance' >
									<return exp='.temp_ul' />
									<argument exp='this' />
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='.HeadCode = .HeadCode + &quot;#define MX_I2C_REMAPPABLE_&quot; + ToString$ (.temp_ul) + &quot; 1\n&quot;' />
								</command>
								<command class_type='sim' title='Simulation' macro='Component.Property.GetListItem' >
									<return exp='.temp_str' />
									<argument exp='this' />
									<argument exp='&quot;SDAReg&quot;' />
									<argument exp='SDAPins' />
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='.HeadCode = .HeadCode + &quot;#define MX_I2C_SDA_RPOR_&quot; + STRING (.temp_ul) + &quot; &quot; + .temp_str + &quot;\n&quot;' />
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='.HeadCode = .HeadCode + &quot;#define MX_I2C_SDA_&quot; + STRING (.temp_ul) + &quot; &quot; + STRING SDARPNUM + &quot;\n&quot;' />
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='.HeadCode = .HeadCode + &quot;#define MX_I2C_SDA_RPINR_&quot; + STRING (.temp_ul) + &quot; &quot; + SDARPREG + &quot;\n&quot;' />
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='.HeadCode = .HeadCode + &quot;#define MX_I2C_SDA_RP_&quot; + STRING (.temp_ul) + &quot; &quot; + STRING SDAPins + &quot;\n&quot;' />
								</command>
								<command class_type='sim' title='Simulation' macro='Component.Property.GetListItem' >
									<return exp='.temp_str' />
									<argument exp='this' />
									<argument exp='&quot;SCLReg&quot;' />
									<argument exp='SCLPins' />
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='.HeadCode = .HeadCode + &quot;#define MX_I2C_SCL_RPOR_&quot; + STRING (.temp_ul) + &quot; &quot; + .temp_str + &quot;\n&quot;' />
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='.HeadCode = .HeadCode + &quot;#define MX_I2C_SCL_&quot; + STRING (.temp_ul) + &quot; &quot; + STRING SCLRPNUM + &quot;\n&quot;' />
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='.HeadCode = .HeadCode + &quot;#define MX_I2C_SCL_RPINR_&quot; + STRING (.temp_ul) + &quot; &quot; + SCLRPREG + &quot;\n&quot;' />
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='.HeadCode = .HeadCode + &quot;#define MX_I2C_SCL_RP_&quot; + STRING (.temp_ul) + &quot; &quot; + STRING SCLPins + &quot;\n&quot;' />
								</command>
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Master_Restart' description='Output a Master Restart sequence' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<local name='str' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<command class_type='decision' title='Console Data Enabled?' exp='ConsoleData' swap='0' >
							<flowline >
								<command class_type='calculation' title='Build Console String' >
									<exp exp='.str = &quot;Master_Restart()&quot;' />
								</command>
								<command class_type='call' title='Call Macro' macro='Prv_TextConsole' >
									<argument exp='.str' />
									<argument exp='0' />
									<argument exp='1' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='Decision' exp='ScopeTraces' swap='0' >
							<flowline >
								<command class_type='calculation' title='Data In Idle' >
									<exp exp='SDA = 1' />
								</command>
								<command class_type='delay' title='Delay' exp='BitDelay' type='0' />
								<command class_type='calculation' title='Clock In Idle' >
									<exp exp='SCL = 1' />
								</command>
								<command class_type='delay' title='Delay' exp='BitDelay' type='0' />
								<command class_type='calculation' title='Clear SDA' >
									<exp exp='SDA = 0' />
								</command>
								<command class_type='delay' title='Delay' exp='BitDelay' type='0' />
								<command class_type='calculation' title='Clear SCL' >
									<exp exp='SCL = 0' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='Decision' exp='InjectorHandle &gt; 0' swap='0' >
							<flowline >
								<command class_type='sim' title='Component Macro' component='API_I2C_Dummy1' macro='I2CRestart' >
									<argument exp='InjectorChannel' />
								</command>
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='ConvertPort' description='return a port string from parameters fcd port number and pin' statediag='0' >
						<return name='Return' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;\x00&quot;' setinit='' >
							<array size='2000' />
						</return>
						<param name='port' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</param>
						<param name='pin' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</param>
						<local name='n' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='p' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<command class_type='calculation' title='Calculation' >
							<exp exp='.n = StringToInt$ (.port)' />
						</command>
						<command class_type='switch' title='Switch' textarea='36,25,36,25' exp='.n' >
							<case >
								<flowline >
									<command class_type='calculation' title='Calculation' >
										<exp exp='.p = &quot;A&quot;' />
									</command>
								</flowline>
							</case>
							<case exp='1' >
								<flowline >
									<command class_type='calculation' title='Calculation' >
										<exp exp='.p = &quot;B&quot;' />
									</command>
								</flowline>
							</case>
							<case exp='2' >
								<flowline >
									<command class_type='calculation' title='Calculation' >
										<exp exp='.p = &quot;C&quot;' />
									</command>
								</flowline>
							</case>
							<case exp='3' >
								<flowline >
									<command class_type='calculation' title='Calculation' >
										<exp exp='.p = &quot;D&quot;' />
									</command>
								</flowline>
							</case>
							<case exp='4' >
								<flowline >
									<command class_type='calculation' title='Calculation' >
										<exp exp='.p = &quot;E&quot;' />
									</command>
								</flowline>
							</case>
							<case exp='5' >
								<flowline >
									<command class_type='calculation' title='Calculation' >
										<exp exp='.p = &quot;F&quot;' />
									</command>
								</flowline>
							</case>
							<case exp='6' >
								<flowline >
									<command class_type='calculation' title='Calculation' >
										<exp exp='.p = &quot;G&quot;' />
									</command>
								</flowline>
							</case>
							<case exp='7' >
								<flowline >
									<command class_type='calculation' title='Calculation' >
										<exp exp='.p = &quot;H&quot;' />
									</command>
								</flowline>
							</case>
							<case exp='8' >
								<flowline >
									<command class_type='calculation' title='Calculation' >
										<exp exp='.p = &quot;J&quot;' />
									</command>
								</flowline>
							</case>
							<case exp='9' >
								<flowline >
									<command class_type='calculation' title='Calculation' >
										<exp exp='.p = &quot;K&quot;' />
									</command>
								</flowline>
							</case>
						</command>
						<command class_type='calculation' title='Calculation' >
							<exp exp='.Return = &quot;$PORT&quot; + .p + &quot;.&quot; + .pin' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Ev_CompStop' description='Broadcast to all components that compilation has stopped' statediag='0' >
						<return name='Return' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
							<argument exp='this' />
							<argument exp='&quot;Sim&quot;' />
							<argument exp='1' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Prv_GetInjectorHandle' description='' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<param name='Index' type='u16' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='ObjHandle' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='RootHandle' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='OldHandle' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='X' type='u8' description='' isconst='0' isHidden='0' isinit='1' usrinit='1' setinit='1' />
						<local name='ObjName' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='CmpName' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='OldName' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='Idx' type='u8' description='' isconst='0' isHidden='0' isinit='1' usrinit='1' setinit='1' />
						<command class_type='sim' title='Jump to Parent of Component' macro='Component.GetParent' >
							<return exp='.ObjHandle' />
							<argument exp='this' />
						</command>
						<command class_type='loop' title='Keep jumping to parent until we hit the root' type='0' exp='::Tree .CheckParent (.ObjHandle)' >
							<flowline >
								<command class_type='sim' title='Jump to Parent of Component' macro='Tree.StepParent' >
									<argument exp='.ObjHandle' />
								</command>
							</flowline>
						</command>
						<command class_type='sim' title='Make copy of root object' macro='Tree.GetCopy' >
							<return exp='.RootHandle' />
							<argument exp='.ObjHandle' />
						</command>
						<command class_type='loop' title='Loop' type='0' exp='.OldHandle != .ObjHandle' >
							<flowline >
								<command class_type='sim' title='Take a copy of the current panel item' macro='Tree.GetCopy' >
									<return exp='.OldHandle' />
									<argument exp='.ObjHandle' />
								</command>
								<command class_type='sim' title='Built-in Function' macro='Component.Property.GetValue' >
									<return exp='.ObjName' />
									<argument exp='.ObjHandle' />
									<argument exp='&quot;APII2C&quot;' />
								</command>
								<command class_type='decision' title='Decision' exp='Length$ (.ObjName)' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' >
											<exp exp='.X = StringToInt$ (.ObjName)' />
											<exp exp='.Index = 0' />
										</command>
										<command class_type='loop' title='Loop' type='0' exp='.Index &lt; .X' >
											<flowline >
												<command class_type='decision' title='Decision' exp='.Idx = Injector' swap='0' >
													<flowline >
														<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
															<argument exp='this' />
															<argument exp='&quot;InjectorHandle&quot;' />
															<argument exp='.ObjHandle' />
														</command>
														<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
															<argument exp='this' />
															<argument exp='&quot;InjectorChannel&quot;' />
															<argument exp='.Index' />
														</command>
														<command class_type='goto' title='Goto Connection Point' labelid='0' labelname='' />
													</flowline>
													<flowline />
												</command>
												<command class_type='calculation' title='Calculation' >
													<exp exp='.Index = .Index + 1' />
													<exp exp='.idx = .idx + 1' />
												</command>
											</flowline>
										</command>
									</flowline>
									<flowline />
								</command>
								<command class_type='sim' title='Move through component tree' macro='Tree.Traverse' >
									<argument exp='.ObjHandle' />
									<argument exp='.RootHandle' />
								</command>
							</flowline>
						</command>
						<command class_type='label' title='Connection Point' labelid='0' labelname='A' />
					</flowline>
				</macro>
				<macro >
					<flowline name='Master_RxByte' description='Returns a received data byte.
Set Last=0 if there is following more Master_RxByte macros
Set Last=1 if this is the last Master_RxByte and it is followed with Master_Stop.
If Last = 1 the I2C bus will be presented with a &apos;Nack&apos; condition.' statediag='0' >
						<return name='Return' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Last' type='u8' description='Range: 0-1 - 0 = Not the last byte to receive, 1 = last byte to receive' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='str' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='Data' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='decision' title='Decision' exp='InjectorHandle &gt; 0' swap='0' >
							<flowline >
								<command class_type='sim' title='Get Data Byte' component='API_I2C_Dummy1' macro='I2CReceive' >
									<return exp='.Return' />
									<argument exp='InjectorChannel' />
									<argument exp='.Last' />
								</command>
							</flowline>
							<flowline >
								<command class_type='calculation' title='Calculation' >
									<exp exp='.Return = 255' />
								</command>
							</flowline>
						</command>
						<command class_type='decision' title='Console Data Enabled?' exp='ConsoleData' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' >
									<exp exp='.str = NumberToHex$ (.Return) + &quot; = Master_RxByte(&quot; + STRING .Last + &quot;)&quot;' />
								</command>
								<command class_type='call' title='Call Macro' macro='Prv_TextConsole' >
									<argument exp='.str' />
									<argument exp='2' />
									<argument exp='1' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='Decision' exp='ScopeTraces' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' >
									<exp exp='.Data = .Return' />
								</command>
								<command class_type='loop' title='Loop' type='2' exp='8' >
									<flowline >
										<command class_type='calculation' title='Set SCL' >
											<exp exp='SCL = 1' />
										</command>
										<command class_type='delay' title='Delay' exp='BitDelay' type='0' />
										<command class_type='decision' title='Test MSB' exp='.Data &amp; 0x80' swap='0' >
											<flowline >
												<command class_type='calculation' title='Data High' >
													<exp exp='SDA = 1' />
												</command>
											</flowline>
											<flowline >
												<command class_type='calculation' title='Data Low' >
													<exp exp='SDA = 0' />
												</command>
											</flowline>
										</command>
										<command class_type='calculation' title='Clear SCL' >
											<exp exp='SCL = 0' />
										</command>
										<command class_type='delay' title='Delay' exp='BitDelay' type='0' />
										<command class_type='calculation' title='Shift Data to next bit' >
											<exp exp='.Data = .Data &lt;&lt; 1' />
										</command>
									</flowline>
								</command>
								<command class_type='decision' title='Decision' exp='.Last' swap='0' >
									<flowline >
										<command class_type='calculation' title='Send Nack' >
											<exp exp='SDA = 1' />
										</command>
									</flowline>
									<flowline >
										<command class_type='calculation' title='Send Ack' >
											<exp exp='SDA = 0' />
										</command>
									</flowline>
								</command>
								<command class_type='delay' title='Delay' exp='BitDelay' type='0' />
								<command class_type='calculation' title='Set SCL' >
									<exp exp='SCL = 1' />
								</command>
								<command class_type='delay' title='Delay' exp='BitDelay' type='0' />
								<command class_type='calculation' title='Set SCL' >
									<exp exp='SCL = 0' />
								</command>
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Transaction_Initialise' description='Initialise the I2C interface to communicate with a Slave device at Address
Returns 0 on fail, 1 on success' statediag='0' >
						<return name='Return' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Address' type='u8' description='7-bit I2C Address without the shift for the R/W bit' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='str' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<command class_type='decision' title='Console Data Enabled?' exp='ConsoleData' swap='0' >
							<flowline >
								<command class_type='calculation' title='Build Console String' >
									<exp exp='.str = &quot;\nTransaction_Initialise(&quot; + NumberToHex$ (.Address) + &quot;)&quot;' />
								</command>
								<command class_type='call' title='Call Macro' macro='Prv_TextConsole' >
									<argument exp='.str' />
									<argument exp='0' />
									<argument exp='1' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='Decision' exp='ScopeTraces' swap='0' >
							<flowline >
								<command class_type='calculation' title='Clock &amp; Data In Idle' >
									<exp exp='SCL = 1' />
									<exp exp='SDA = 1' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='Decision' exp='InjectorHandle &gt; 0' swap='0' >
							<flowline >
								<command class_type='sim' title='Component Macro' component='API_I2C_Dummy1' macro='I2CTransInit' >
									<argument exp='InjectorChannel' />
									<argument exp='.Address' />
									<argument exp='BAUD_LIST' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='calculation' title='Store Address' >
							<exp exp='TransAddr = .Address' />
						</command>
						<command class_type='calculation' title='Calculation' >
							<exp exp='.Return = 1' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='GetList' description='returns Named property List as filter string
' statediag='0' >
						<return name='Return' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;\x00&quot;' setinit='' >
							<array size='2000' />
						</return>
						<param name='Name' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</param>
						<local name='n' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='x' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='s' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='fcd_h' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='decision' title='Decision' exp='(Compare$ (.Name,&quot;BAUD_LIST&quot;,1) = 0) OR (Compare$ (.Name,&quot;SMB&quot;,1) = 0) OR (Compare$ (.Name,&quot;SRC&quot;,1) = 0)' swap='0' >
							<flowline >
								<command class_type='sim' title='Call Macro' macro='Component.Property.GetFilter' >
									<return exp='.Return' />
									<argument exp='this' />
									<argument exp='.Name' />
								</command>
							</flowline>
							<flowline >
								<command class_type='decision' title='Decision' exp='Compare$ (.Name,&quot;CHANNEL&quot;,1) = 0' swap='0' >
									<flowline >
										<command class_type='call' title='Call Macro' macro='GetChannelList' >
											<return exp='.Return' />
										</command>
										<command class_type='calculation' title='Calculation' >
											<exp exp='::Component .Property .SetFilter (this,&quot;CHANNEL&quot;, .Return)' />
										</command>
										<command class_type='call' title='Call Macro' macro='LoadChannelPorts' />
									</flowline>
									<flowline >
										<command class_type='sim' title='Call Macro' macro='Debug.PrintLn' >
											<argument exp='&quot;GetList(&quot; + .Name + &quot;) not valid. Use CHANNEL, BAUD_LIST, SMB or SRC&quot;' />
										</command>
									</flowline>
								</command>
							</flowline>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Main' description='' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<local name='d' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='n' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='x' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='comment' title='' comment='Component Version Information;
10, 2.0, 04-11-24, BR, Added pin caption to the remap port pin selection property;
11, 2.0, 04-11-24, BR, Cleaned up pin caption from none remap port pin property;
12, 2.0, 15-11-24, BR, Fixed a problem where hardware I2C channels wouldn&apos;t compile;
14, 2.0, 10-12-24, BR, Transaction Write now lists the data byte values being sent in the console;
15, 2.0, 15-07-25, BR, Sorted the remap pin properties by port pin;' textarea='12,0,12,0' />
						<command class_type='sim' title='Component needs to be exported with this property set to Yes' macro='Component.Property.SetValue' >
							<argument exp='this' />
							<argument exp='&quot;Loading&quot;' />
							<argument exp='1' />
						</command>
						<command class_type='call' title='Call Macro' macro='Master_Init' />
						<command class_type='loop' title='Loop' type='2' exp='10' >
							<flowline >
								<command class_type='call' title='Call Macro' macro='Master_Start' />
								<command class_type='call' title='Call Macro' macro='Master_TxByte' >
									<argument exp='0xFF' />
								</command>
								<command class_type='call' title='Call Macro' macro='Master_Restart' />
								<command class_type='call' title='Call Macro' macro='Master_TxByte' >
									<argument exp='0x0F' />
								</command>
								<command class_type='call' title='Call Macro' macro='Master_RxByte' >
									<argument exp='0' />
								</command>
								<command class_type='call' title='Call Macro' macro='Master_RxByte' >
									<argument exp='1' />
								</command>
								<command class_type='call' title='Call Macro' macro='Master_Stop' />
							</flowline>
						</command>
						<command class_type='call' title='Call Macro' macro='Master_Uninit' />
					</flowline>
				</macro>
				<macro >
					<flowline name='Ev_ResyncPacket' description='Sent when Packet_ResyncEv is specified in scope decoding' statediag='0' >
						<return name='Return' type='u32' description='Negative to claim the decode and abort the operation else the ticks to step foreward by' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='StreamH' type='h32' description='The scope being decoded' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='TimeOffset' type='s32' description='The -ve offset from now of the current time to be decoded, in microseconds' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Duration' type='u32' description='The maximum number of ticks to decode into packets packet from the TimeOffset' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Period' type='u32' description='The wave period to use for synchronisation' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='ClockH' type='h32' description='A clock stream (if present) to use fr synchronisation' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='PacketFlags' type='u32' description='A set of flags provided by the caller to help decode the stream' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='temp_time' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='clock_high_time' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='clock_low_time' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='data_change_time' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='sample_high' type='f32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0.0' setinit='' >
							<array size='2' />
						</local>
						<local name='sample_low' type='f32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0.0' setinit='' >
							<array size='2' />
						</local>
						<command class_type='calculation' title='Calculation' >
							<exp exp='.Return = 0' />
						</command>
						<command class_type='sim' title='Simulation' macro='DataRecorder.FindOutput' >
							<return exp='.clock_high_time' />
							<argument exp='ScopeSCL' />
							<argument exp='.TimeOffset' />
							<argument exp='.Duration' />
							<argument exp='0.5' />
							<argument exp='::DataRecorder.Find_LowHigh' />
						</command>
						<command class_type='sim' title='Simulation' macro='DataRecorder.FindOutput' >
							<return exp='.clock_low_time' />
							<argument exp='ScopeSCL' />
							<argument exp='.TimeOffset + .clock_high_time' />
							<argument exp='.Duration' />
							<argument exp='0.5' />
							<argument exp='::DataRecorder.Find_HighLow' />
						</command>
						<command class_type='decision' title='Decision' exp='(.clock_high_time) AND (.clock_low_time)' swap='0' >
							<flowline >
								<command class_type='comment' title='' comment='has the SDA changed?' textarea='12,0,12,0' />
								<command class_type='sim' title='Simulation' macro='DataRecorder.FindOutput' >
									<return exp='.data_change_time' />
									<argument exp='ScopeSDA' />
									<argument exp='.TimeOffset + .clock_high_time' />
									<argument exp='.clock_low_time' />
									<argument exp='0.5' />
									<argument exp='::DataRecorder.Find_HighLow | ::DataRecorder.Find_LowHigh' />
								</command>
								<command class_type='decision' title='Decision' exp='.data_change_time = 0' swap='0' >
									<flowline >
										<command class_type='comment' title='' comment='data SDA has not changed whilst clock SCL was high
so it must be bit 7 of the next data byte
continue to process from clock high to low edge' textarea='12,0,12,0' />
										<command class_type='calculation' title='Calculation' >
											<exp exp='.Return = .clock_high_time' />
										</command>
									</flowline>
									<flowline >
										<command class_type='comment' title='' comment='SDA changed
so we&apos;ve encountered a STOP or RESTART

' textarea='12,0,12,0' />
										<command class_type='decision' title='Decision' exp='.clock_low_time' swap='0' >
											<flowline >
												<command class_type='comment' title='' comment='found a START
sync to the next MSB' textarea='12,0,12,0' />
												<command class_type='sim' title='Find the next transition' macro='DataRecorder.FindOutput' >
													<return exp='.Return' />
													<argument exp='ScopeSCL' />
													<argument exp='.TimeOffset + .clock_low_time + .clock_high_time' />
													<argument exp='.Duration - .clock_low_time + .clock_high_time' />
													<argument exp='0.5' />
													<argument exp='::DataRecorder.Find_LowHigh' />
												</command>
												<command class_type='calculation' title='Calculation' >
													<exp exp='.Return = .Return + .clock_high_time + .clock_low_time' />
												</command>
											</flowline>
											<flowline >
												<command class_type='comment' title='' comment='found a STOP
skip to the end
' textarea='12,0,12,0' />
												<command class_type='calculation' title='Calculation' >
													<exp exp='.Return = .Duration' />
												</command>
											</flowline>
										</command>
									</flowline>
								</command>
							</flowline>
							<flowline >
								<command class_type='comment' title='' comment='found a STOP or nothing
skip to the end
' textarea='12,0,12,0' />
								<command class_type='calculation' title='Calculation' >
									<exp exp='.Return = .Duration' />
								</command>
							</flowline>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='ParsePin' description='Parse the pin value from the Port descriptor' statediag='0' >
						<return name='Return' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Port' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</param>
						<local name='n' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='calculation' title='Calculation' >
							<exp exp='.n = 0' />
							<exp exp='.Return = 0' />
						</command>
						<command class_type='loop' title='Find the dot' type='0' exp='(.Port[.n] != &apos;.&apos;) AND (.Port[.n] != 0)' >
							<flowline >
								<command class_type='calculation' title='Calculation' >
									<exp exp='.n = .n + 1' />
								</command>
							</flowline>
						</command>
						<command class_type='decision' title='have we found the dot?' exp='.Port[.n] = 0' swap='1' >
							<flowline >
								<command class_type='decision' title='check for high byte' exp='.Port[.n - 1] = &apos;1&apos;' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' >
											<exp exp='.Return = 8' />
											<exp exp='.n = .n + 1' />
										</command>
										<command class_type='decision' title='Decision' exp='(.Port[.n] &gt; &apos;0&apos;) AND (.Port[.n] &lt; &apos;8&apos;)' swap='0' >
											<flowline >
												<command class_type='calculation' title='Calculation' >
													<exp exp='.Return = .Return + .Port[.n] - &apos;0&apos;' />
												</command>
											</flowline>
											<flowline />
										</command>
									</flowline>
									<flowline >
										<command class_type='calculation' title='Calculation' >
											<exp exp='.n = .n + 1' />
										</command>
										<command class_type='loop' title='Loop' type='0' exp='(.Port[.n] &gt;= &apos;0&apos;) AND (.Port[.n] &lt;= &apos;9&apos;)' >
											<flowline >
												<command class_type='calculation' title='Calculation' >
													<exp exp='.Return = (.Return * 10) + .Port[.n] - &apos;0&apos;' />
													<exp exp='.n = .n + 1' />
												</command>
											</flowline>
										</command>
									</flowline>
								</command>
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
			</macros>
			<component class_type='ref' guid='fc3c670c-502a-418f-a123-649179752383' vmin='0' vmaj='1' codename='fcdhelper' panelId='-1' x='0.68859' y='-5.53232' z='-36.6451' xsz='0.01' ysz='0.01' zsz='0.01' xang='0' yang='0' zang='0' xquat='0' yquat='0' zquat='0' wquat='1' visible='1' scadavisible='1' interactive='1' solid='1' layer='1' poslock='0' ancTop='0' ancBottom='0' ancLeft='0' ancRight='0' ancMinX='0' ancMinY='0' comp2dType='0' >
				<resources />
				<properties />
				<values />
				<events />
				<apis />
				<variables />
				<macros />
			</component>
			<component class_type='ref' guid='a96ddf9d-631d-4db7-a66e-c709e2de7164' vmin='2' vmaj='1' codename='TimeStamp1' panelId='-1' x='0' y='0' z='0' xsz='0.01' ysz='0.01' zsz='0.01' xang='0' yang='0' zang='0' xquat='0' yquat='0' zquat='0' wquat='1' visible='1' scadavisible='1' interactive='1' solid='1' layer='1' poslock='0' ancTop='0' ancBottom='0' ancLeft='0' ancRight='0' ancMinX='0' ancMinY='0' comp2dType='0' >
				<resources />
				<properties />
				<values >
					<value target='DateFormat' data='000' />
					<value target='TimeSeperator' data=':' />
					<value target='DateSeparator' data='/' />
					<value target='TimeStampSeparator' data=' - ' />
					<value target='IncludeMillis' data='1' />
				</values>
				<events />
				<apis />
				<variables />
				<macros />
			</component>
			<component class_type='ref' guid='26478ccc-a958-46d1-ae8e-21bb0d2eb944' vmin='0' vmaj='2' codename='API_I2C_Dummy' panelId='-1' x='0' y='0' z='0' xsz='25' ysz='25' zsz='25' xang='0' yang='0' zang='0' xquat='0' yquat='0' zquat='0' wquat='1' visible='1' scadavisible='1' interactive='1' solid='1' layer='-1' poslock='0' ancTop='0' ancBottom='0' ancLeft='0' ancRight='0' ancMinX='0' ancMinY='0' comp2dType='0' >
				<resources />
				<properties />
				<values />
				<events />
				<apis />
				<variables />
				<macros />
			</component>
			<component class_type='ref' guid='58be670e-18fb-477e-ab09-61fde14b23ec' vmin='0' vmaj='1' codename='LibraryComponent1' panelId='-1' x='0' y='0' z='0.33072' xsz='100' ysz='100' zsz='100' xang='0' yang='0' zang='0' xquat='0' yquat='0' zquat='0' wquat='1' visible='1' scadavisible='1' interactive='1' solid='1' layer='1' poslock='1' ancTop='0' ancBottom='0' ancLeft='0' ancRight='0' ancMinX='0' ancMinY='0' comp2dType='0' >
				<resources />
				<properties />
				<values >
					<value target='Text::sText' data='Code
Abstraction
Layer
I2C' />
					<value target='Name' data='' />
					<value target='Peripheral::sText' data='' />
					<value target='Text::nVerticalAlignment' data='002' />
					<value target='ShowComms' data='0' />
					<value target='InputIcon::CommsType' data='255' />
					<value target='InputIcon::LinkTo' data='0' />
					<value target='IconsOnRight' data='0' />
					<value target='OutputIcon::CommsType' data='004' />
					<value target='OutputIcon::LinkTo' data='0' />
					<value target='InputIcon1::CommsType' data='255' />
					<value target='ConsoleHandle' data='0' />
					<value target='Upgraded' data='0' />
				</values>
				<events />
				<apis />
				<variables />
				<macros />
			</component>
			<component class_type='ref' guid='26478ccc-a958-46d1-ae8e-21bb0d2eb944' vmin='0' vmaj='2' codename='API_I2C_Dummy1' panelId='-1' x='0' y='0' z='0' xsz='25' ysz='25' zsz='25' xang='0' yang='0' zang='0' xquat='0' yquat='0' zquat='0' wquat='1' visible='0' scadavisible='1' interactive='0' solid='0' layer='1' poslock='0' ancTop='0' ancBottom='0' ancLeft='0' ancRight='0' ancMinX='0' ancMinY='0' comp2dType='0' >
				<resources />
				<properties />
				<values />
				<events />
				<apis />
				<variables />
				<macros />
			</component>
		</component>
	</components>
	<scadaresourcelookup />
	<keymap />
	<panel2d shadows='2' lighting='0' brightness='0' >
		<background rgb='9737364' img='' style='0' />
		<camera xe='5.4967' ye='-3.55279' ze='495.029' xt='5.4967' yt='-3.55279' zt='0' xquat='0' yquat='0' zquat='0' wquat='1' />
		<viewport dx='236' dy='782' zoom='57.6855' fix_topleft='0' />
		<page x='1000' y='1000' show='0' rgb='0' />
		<winpos ID='7005' RectRecentFloat='1633,415,1920,830' RectRecentDocked='1229,141,1485,1013' RecentFrameAlignment='16384' RecentRowIndex='0' IsFloating='0' MRUWidth='32767' PinState='0' IsMaximized='0' IsVisible='0' />
	</panel2d>
	<panel3d shadows='0' lighting='0' brightness='0' perspective='1' >
		<background rgb='32768' img='' style='0' />
		<table rgb='8404224' img='' style='0' size='0' />
		<camera xe='-0.790539' ye='5.32545' ze='101.026' xt='-0.790539' yt='5.32545' zt='0' xquat='0' yquat='0' zquat='0' wquat='1' />
		<camerakey0 xe='0' ye='0' ze='300' xt='0' yt='0' zt='0' xquat='0' yquat='0' zquat='0' wquat='1' />
		<camerakey1 xe='-3.67394e-14' ye='0' ze='-300' xt='0' yt='0' zt='0' xquat='0' yquat='1' zquat='0' wquat='6.12323e-17' />
		<camerakey2 xe='0' ye='-300' ze='6.66134e-14' xt='0' yt='0' zt='0' xquat='-0.707107' yquat='0' zquat='0' wquat='0.707107' />
		<camerakey3 xe='-3.67394e-14' ye='300' ze='6.66134e-14' xt='0' yt='0' zt='0' xquat='-4.32978e-17' yquat='0.707107' zquat='0.707107' wquat='4.32978e-17' />
		<camerakey4 xe='-300' ye='-6.66134e-14' ze='6.66134e-14' xt='0' yt='0' zt='0' xquat='-0.5' yquat='0.5' zquat='0.5' wquat='0.5' />
		<camerakey5 xe='300' ye='-6.66134e-14' ze='6.66134e-14' xt='0' yt='0' zt='0' xquat='-0.5' yquat='-0.5' zquat='-0.5' wquat='0.5' />
		<camerakey6 xe='-173.205' ye='-173.205' ze='173.205' xt='0' yt='0' zt='0' xquat='-0.424708' yquat='0.17592' zquat='0.339851' wquat='0.820473' />
		<winpos ID='7004' RectRecentFloat='0,425,654,1002' RectRecentDocked='0,0,240,667' RecentFrameAlignment='16384' RecentRowIndex='0' IsFloating='0' MRUWidth='32767' PinState='0' IsMaximized='0' IsVisible='0' />
	</panel3d>
	<panels2d count='0' />
	<layout >
		<view type='0' name='Main' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Ev_SimStart' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Prv_PopulateInjectorFilter' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='85' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Master_Uninit' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='ConvertPort' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='LoadPortString' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Ev_ResyncPacket' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Prv_SetupConsole' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Prv_TextConsole' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='GetValue' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Master_TxByte' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Slave_Uninit' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Slave_TxByte' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Slave_Status' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Slave_Init' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Master_Init' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Transaction_Uninit' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Transaction_Initialise' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Slave_RxByte' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Transaction_Read' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Transaction_Write' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='SetValue' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='LoadChannelList' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='GetChannelList' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Ev_CompStart' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Ev_ChipChange' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Ev_CompStop' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Ev_DecodeSync' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Ev_FmtPacket' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Ev_Initialise' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Ev_Property_Changed' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='LoadChannelPorts' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='440' scrolly='3109' flags='0' />
		<view type='0' name='Ev_AddHeader' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='ParseRemapPins' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Master_Start' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Master_Stop' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Master_Restart' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Master_RxByte' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Prv_ParseSTRemapPins' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Prv_GetInjectorHandle' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='SimSetupScope' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='100' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Ev_Renamed' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='100' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Ev_LoadComplete' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='100' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Ev_Timer' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='100' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Ev_PostInitialise' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='100' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Prv_BubbleSort' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='100' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Prv_GetNumericPos' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='100' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Prv_NumericCompare' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAA9wMAAGMDAAA' zoom='100' scrollx='0' scrolly='0' flags='0' />
	</layout>
</document>
</root>
