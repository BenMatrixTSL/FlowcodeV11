<root>
<document scada='0' projtype='1' schema='103' license='1,82702381,95CJQR' title='' description='' fcversion='720896' target='PIC.16F.16F1937' >
	<config data='!0,cfe2!10,deff%0,2%3,0%5,1%6,1%7,1%8,1%9,3%b,1%c,0%d,0%10,3%14,3%18,0%19,1%1a,1%1c,1%1d,0' clkspd='19660800' simspd='1' usewdt='0' constif='0' Use3V3='0' />
	<plugins >
		<dll_models enabled='1' />
	</plugins>
	<supplement use='1' head='#define GPIO_BIT_OUT(p,b)	{GPIO##p-&gt;MODER&amp;=~(3&lt;&lt;((b)*2));GPIO##p-&gt;MODER|=(1&lt;&lt;((b)*2));}
#define GPIO_BIT_VAL(p,b,v)	{if(v)GPIO##p-&gt;BSRR = 1&lt;&lt;b; else GPIO##p-&gt;BSRR = 1&lt;&lt;(b+16);}

#define GPIO_BIT_VAL_DEF(p,b,v)  GPIO_BIT_VAL(p,b,v)

#if defined(MX_CAL_PIC32)

	#define scNsDelay( nsDelay )                    \
	{                                               \
	   register unsigned int startCnt = _CP0_GET_COUNT(); \
	   register unsigned int waitCnt = nsDelay / ( 1000000000 / (MX_CLK_SPEED / 2) );  \
	   while( _CP0_GET_COUNT() - startCnt &lt; waitCnt ) ; \
	}

#endif
' body='' />
	<debug >
		<watch expr='.Index' />
		<watch expr='.Handle' />
		<watch expr='RGB[.Index][1]' />
	</debug>
	<traces />
	<ghost >
		<FK2 >
			<data name='FK2D0' port='4294967295' pin='4294967295' />
			<data name='FK2D1' port='4294967295' pin='4294967295' />
			<data name='FK2D2' port='4294967295' pin='4294967295' />
			<data name='FK2D3' port='4294967295' pin='4294967295' />
			<data name='FK2D4' port='4294967295' pin='4294967295' />
			<data name='FK2D5' port='4294967295' pin='4294967295' />
			<data name='FK2D6' port='4294967295' pin='4294967295' />
			<data name='FK2D7' port='4294967295' pin='4294967295' />
			<data name='FK2D8' port='4294967295' pin='4294967295' />
			<data name='FK2D9' port='4294967295' pin='4294967295' />
			<data name='FK2D10' port='4294967295' pin='4294967295' />
			<data name='FK2D11' port='4294967295' pin='4294967295' />
			<data name='FK2D12' port='4294967295' pin='4294967295' />
			<data name='FK2D13' port='4294967295' pin='4294967295' />
			<data name='FK2D14' port='4294967295' pin='4294967295' />
			<data name='FK2D15' port='4294967295' pin='4294967295' />
			<data name='FK2A0' port='4294967295' pin='4294967295' />
			<data name='FK2A1' port='4294967295' pin='4294967295' />
			<data name='FK2A2' port='4294967295' pin='4294967295' />
			<data name='FK2A3' port='4294967295' pin='4294967295' />
			<data name='FK2A4' port='4294967295' pin='4294967295' />
			<data name='FK2A5' port='4294967295' pin='4294967295' />
		</FK2>
		<ICD >
			<data name='AnalogPrescaleValue' value='19' />
			<data name='DigitalSampleRate' value='100000' />
			<data name='BreakpointCount' value='8' />
			<data name='CallStackDepthCount' value='8' />
			<data name='ClockPort' value='1' />
			<data name='ClockPin' value='6' />
			<data name='DataPort' value='1' />
			<data name='DataPin' value='7' />
			<data name='UseDefaultPins' value='1' />
			<data name='WrapEnabled' value='1' />
			<data name='CommsDelayOverridden' value='0' />
			<data name='CommsDelay' value='9' />
			<data name='CalculatedCommsDelay' value='9' />
			<data name='AnalogEB2PrescaleValue' value='2' />
			<data name='DigitalEB2SampleRate' value='100000' />
		</ICD>
		<pins >
			<digital A='0' B='0' C='0' D='0' E='0' F='0' G='0' H='0' I='0' J='0' K='0' L='0' M='0' N='0' O='0' P='0' Q='0' R='0' S='0' T='0' U='0' V='0' W='0' X='0' Y='0' Z='0' />
			<analog A='0' B='0' C='0' D='0' E='0' F='0' G='0' H='0' I='0' J='0' K='0' L='0' M='0' N='0' O='0' P='0' Q='0' R='0' S='0' T='0' U='0' V='0' W='0' X='0' Y='0' Z='0' />
		</pins>
	</ghost>
	<components >
		<settings autoimg='0' center='0' unitscale='1' fixedscale='1' fixedx='25' fixedy='25' fixedz='25' headcode='1' />
		<definition guid='d977c3ef-c7dc-4683-a1be-76e17e6ba12b' vstate='40' vmin='0' vmaj='2' srcleaf='LED_WS2811.fcfx' visiblename='RGB LED WS2811 / WS2812 / APA106' description='A simple chained RGB LED controller IC allowing multiple LEDs to be controlled using a serial data stream.
Compatible with the WS2811, WS2812, WS2812B, APA104 and APA106 Type Controller ICs.
Allows RGB LEDs to be driven with full 24-bit colour depth.
Allows single chains, 2D arrays and 3D cube formations to be simulated.
Requires a high speed microcontroller to generate the critical timings to drive the device.' category='LEDs' category2='' category3='' bIs2dOnly='0' bIs3dOnly='0' bIsWysiwyg='0' catenable='1' author='Matrix TSL' manuname='' manucode='' sysinfo='9442187' keywords='' dynamic='1' scadaCompatible='0' embeddedCompatible='1' showmacros='1' iconpath='..\..\icons\components\LED_Array.png' />
		<component class_type='root' codename='LED_WS2811' panelId='-1' x='0' y='0' z='0' xsz='1' ysz='1' zsz='1' xang='0' yang='0' zang='0' xquat='0' yquat='0' zquat='0' wquat='1' visible='1' scadavisible='1' interactive='1' solid='1' layer='0' poslock='0' ancTop='0' ancBottom='0' ancLeft='0' ancRight='0' ancMinX='0' ancMinY='0' comp2dType='0' macronames='$(type)_$(module)__$(macro)' >
			<resources />
			<properties >
				<property name='Controller IC' folder='property_3' hidden='0' >
					<property name='LED Controller' target='LED_Controller' typeid='16' hidden='0' locked='0' info='Allows the user to select which LED controller IC they are using.
The different controller ICs all work the same way but have different timing characteristics.' filter='000WS2811
001WS2812
002WS2812B
003APA104
004APA106
005Custom' />
					<property name='Data Order' target='DataOrder' typeid='16' hidden='0' locked='1' info='Configures the order the colour data is clocked out to the LEDs' filter='000RGB
001GRB' />
					<property name='Reset Time (uS)' target='Reset_Time' typeid='15' hidden='0' locked='1' info='Blanking reset period to reset the LED shift chain and start from the beginning' />
					<property name='T0H (uS)' target='T0H' typeid='15' hidden='0' locked='1' info='Logic 0 high time in microseconds' />
					<property name='T0L (uS)' target='T0L' typeid='15' hidden='0' locked='1' info='Logic 0 low time in microseconds' />
					<property name='T1H (uS)' target='T1H' typeid='15' hidden='0' locked='1' info='Logic 1 high time in microseconds' />
					<property name='T1L (uS)' target='T1L' typeid='15' hidden='0' locked='1' info='Logic 1 low time in microseconds' />
					<property name='T0H Nop Count' target='T0HNops' typeid='21' hidden='1' locked='0' info='' />
					<property name='T0L Nop Count' target='T0LNops' typeid='21' hidden='1' locked='0' info='' />
					<property name='T1H Nop Count' target='T1HNops' typeid='21' hidden='1' locked='0' info='' />
					<property name='T1L Nop Count' target='T1LNops' typeid='21' hidden='1' locked='0' info='' />
					<property name='DeviceFamily' target='DeviceFamily' typeid='10' hidden='1' locked='0' info='' />
					<property name='STARM Instruction Rate' target='InstRate' typeid='21' hidden='1' locked='0' info='Used to determine the instruction rate after the PLL multiplications.' />
					<property name='Direct' target='Direct' typeid='7' hidden='1' locked='0' info='' />
					<property name='T0H (nS)' target='T0HN' typeid='21' hidden='1' locked='1' info='Logic 0 high time in microseconds' />
					<property name='T0L (nS)' target='T0LN' typeid='21' hidden='1' locked='1' info='Logic 0 low time in microseconds' />
					<property name='T1H (nS)' target='T1HN' typeid='21' hidden='1' locked='1' info='Logic 1 high time in microseconds' />
					<property name='T1L (nS)' target='T1LN' typeid='21' hidden='1' locked='1' info='Logic 1 low time in microseconds' />
				</property>
				<property name='LED Properties' folder='property_2' hidden='0' >
					<property name='LED Arrangement' target='LED_Arrangement' typeid='16' hidden='0' locked='0' info='Controls the arrangement of the LEDs on the panel.

1D - Creates a straight line of LEDs
2D - Creates an X by Y Array of LEDs
3D - Creates an X by Y by Z Array of LEDs' filter='0001D
0012D
0023D' />
					<property name='LED Count' target='LED_Count' typeid='21' hidden='0' locked='0' info='Total number of LEDs in the design' />
					<property name='Arrangement' target='sequence' typeid='16' hidden='1' locked='0' info='LEDs will likely be arranged in one of two ways.
Parallel = Each row of LEDs run from left to right - easier to address but harder to wire.
Alternating = Each row of LEDs runs in an alternating direction - harder to address but easier to wire.' filter='000Parallel
001Alternating' />
					<property name='Column Count' target='LED_Cols' typeid='21' hidden='1' locked='0' info='Number of horizontal LEDs - X axis' />
					<property name='Column Spacing' target='x_spacing' typeid='15' hidden='0' locked='0' info='X Spacing Between LEDs on the Panel' />
					<property name='Row Count' target='LED_Rows' typeid='21' hidden='1' locked='0' info='Number of vertical LEDs - Y axis' />
					<property name='Row Spacing' target='y_spacing' typeid='15' hidden='1' locked='0' info='Y Spacing Between LEDs on the Panel' />
					<property name='Layer Count' target='LED_Layers' typeid='21' hidden='1' locked='0' info='Number of LED layers - Z axis' />
					<property name='Layer Spacing' target='z_spacing' typeid='15' hidden='1' locked='0' info='Z Spacing Between LEDs on the Panel' />
					<property name='Flip X' target='FlipX' typeid='7' hidden='1' locked='0' info='Flips the X axis if the LEDs are wired from the right hand side of the display.' />
					<property name='Flip Y' target='FlipY' typeid='7' hidden='1' locked='0' info='Flips the Y axis if the LEDs are wired from the under side of the display.' />
					<property name='Flip Z' target='FlipZ' typeid='7' hidden='1' locked='0' info='Flips the X axis if the LEDs are wired from the upper most side of the display.' />
				</property>
				<property name='Connections' folder='property_1' hidden='0' >
					<property name='Data Pin' target='MOSI' typeid='5' hidden='0' locked='0' info='LED Data Pin - Connected to the Data In pin of the first WS821x IC.' />
					<property name='Invert Data' target='InvertData' typeid='7' hidden='0' locked='0' info='' />
				</property>
				<property name='Instance' target='Instance' typeid='21' hidden='1' locked='0' info='' />
			</properties>
			<values >
				<value target='LED_Controller' data='000' />
				<value target='DataOrder' data='0' />
				<value target='Reset_Time' data='50.000000' />
				<value target='T0H' data='0.500000' />
				<value target='T0L' data='2.000000' />
				<value target='T1H' data='1.200000' />
				<value target='T1L' data='1.300000' />
				<value target='T0HNops' data='0' />
				<value target='T0LNops' data='9' />
				<value target='T1HNops' data='5' />
				<value target='T1LNops' data='6' />
				<value target='DeviceFamily' data='PIC' />
				<value target='InstRate' data='180000000' />
				<value target='Direct' data='1' />
				<value target='T0HN' data='500.000000' />
				<value target='T0LN' data='2000.000000' />
				<value target='T1HN' data='1200.000000' />
				<value target='T1LN' data='1300.000000' />
				<value target='LED_Arrangement' data='000' />
				<value target='LED_Count' data='9' />
				<value target='sequence' data='000' />
				<value target='LED_Cols' data='3' />
				<value target='x_spacing' data='5' />
				<value target='LED_Rows' data='3' />
				<value target='y_spacing' data='5' />
				<value target='LED_Layers' data='3' />
				<value target='z_spacing' data='5' />
				<value target='FlipX' data='0' />
				<value target='FlipY' data='' />
				<value target='FlipZ' data='0' />
				<value target='MOSI' data='$PORTC.5' />
				<value target='InvertData' data='0' />
				<value target='Instance' data='0' />
			</values>
			<events >
				<event class='Compile' event='AddVar' target='Ev_AddVar' />
				<event class='Components' event='Initialise' target='Ev_Initialise' />
				<event class='Components' event='Property' target='Ev_Property' />
				<event class='Compile' event='AddHeader' target='Ev_AddHeader' />
			</events>
			<apis >
				<api name='SetBrightness' alt='SetBrightness' type='1' proto='1' />
				<api name='GetLEDColour' alt='GetLEDColour' type='1' proto='1' />
				<api name='OutputLow' alt='$(type)_$(module)__$(macro)' type='4' proto='0' />
				<api name='SetBrightnessByte' alt='SetBrightnessByte' type='1' proto='1' />
				<api name='Delay_T0L' alt='$(type)_$(module)__$(macro)' type='4' proto='0' />
				<api name='DrawLine2D' alt='DrawLine2D' type='1' proto='1' />
				<api name='OutputHigh' alt='$(type)_$(module)__$(macro)' type='4' proto='0' />
				<api name='SetAllLEDColour' alt='SetAllLEDColour' type='1' proto='1' />
				<api name='SetLEDColour' alt='SetLEDColour' type='1' proto='1' />
				<api name='Delay_T0H' alt='$(type)_$(module)__$(macro)' type='4' proto='0' />
				<api name='Delay_T1L' alt='$(type)_$(module)__$(macro)' type='4' proto='0' />
				<api name='Refresh' alt='RefreshSim' type='1' proto='1' />
				<api name='ShiftLEDs1D' alt='ShiftLEDs1D' type='1' proto='1' />
				<api name='DrawLine3D' alt='DrawLine3D' type='1' proto='1' />
				<api name='Delay_T1H' alt='$(type)_$(module)__$(macro)' type='4' proto='0' />
				<api name='GetLEDIndex2D' alt='GetLEDIndex2D' type='1' proto='1' />
				<api name='DrawRectangle2D' alt='DrawRectangle2D' type='1' proto='1' />
				<api name='ShiftLEDs2D' alt='ShiftLEDs2D' type='1' proto='1' />
				<api name='GetLEDIndex3D' alt='GetLEDIndex3D' type='1' proto='1' />
				<api name='DrawCuboid3D' alt='DrawCuboid3D' type='1' proto='1' />
				<api name='Initialise' alt='Initialise' type='1' proto='1' />
				<api name='ShiftLEDs3D' alt='ShiftLEDs3D' type='1' proto='1' />
			</apis>
			<variables >
				<variable public='0' >
					<def class_type='variable' name='RGB' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' >
						<array size='32768' />
						<array size='3' />
					</def>
				</variable>
				<variable public='0' >
					<def class_type='variable' name='ColScale' type='u8' description='' isconst='0' isHidden='0' isinit='1' usrinit='255' setinit='255' />
				</variable>
			</variables>
			<macros >
				<macro >
					<flowline name='SetBrightness' description='Allows the output colour brightness of the LEDs to be scaled down. For example to save current usage or to reduce brightness in dark environments. ' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<param name='Scaler' type='f32' description='Range: 0.0 to 1.0 Default: 1.0, 0 = Off, 0.5 = Half Brightness, 1.0 = Full Brightness' isconst='0' isHidden='0' isinit='0' usrinit='0.0' setinit='' />
						<command class_type='decision' title='Decision' exp='.Scaler &gt; 1.0' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' >
									<exp exp='.Scaler = 1.0' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='Decision' exp='.Scaler &lt; 0.0' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' >
									<exp exp='.Scaler = 0.0' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='calculation' title='Calculation' >
							<exp exp='.Scaler = .Scaler * 255.0' />
						</command>
						<command class_type='calculation' title='Calculation' >
							<exp exp='ColScale = .Scaler' />
							<exp exp='' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Ev_Initialise' description='Initialisation routine for the component once the component is linked to its parent' statediag='0' >
						<return name='Return' type='u32' description='Non-zero to prevent initialisation' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='PanelID' type='s32' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
						<local name='Handle' type='h32' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
						<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
							<argument exp='clone_matrix_2d' />
							<argument exp='&quot;x_count&quot;' />
							<argument exp='1' />
						</command>
						<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
							<argument exp='clone_matrix_2d' />
							<argument exp='&quot;y_count&quot;' />
							<argument exp='1' />
						</command>
						<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
							<argument exp='clone_matrix_2d' />
							<argument exp='&quot;z_count&quot;' />
							<argument exp='1' />
						</command>
						<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
							<argument exp='clone_matrix_3d' />
							<argument exp='&quot;x_count&quot;' />
							<argument exp='1' />
						</command>
						<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
							<argument exp='clone_matrix_3d' />
							<argument exp='&quot;y_count&quot;' />
							<argument exp='1' />
						</command>
						<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
							<argument exp='clone_matrix_3d' />
							<argument exp='&quot;z_count&quot;' />
							<argument exp='1' />
						</command>
						<command class_type='sim' title='Built-in Function' macro='Component.GetPanel' >
							<return exp='.PanelID' />
							<argument exp='this' />
						</command>
						<command class_type='decision' title='Legacy panels - 3D mode' exp='.PanelID &lt; 0' swap='0' >
							<flowline >
								<command class_type='sim' title='Built-in Function' macro='Component.Property.SetFilter' >
									<argument exp='this' />
									<argument exp='&quot;LED_Arrangement&quot;' />
									<argument exp='&quot;0001D\n0012D\n0023D&quot;' />
								</command>
								<command class_type='sim' title='Built-in Function' macro='Component.SetVisible' >
									<argument exp='clone_matrix_2d' />
									<argument exp='0' />
								</command>
								<command class_type='sim' title='Simulation' macro='Component.SetVisible' >
									<argument exp='shape_sphere1' />
									<argument exp='1' />
								</command>
								<command class_type='sim' title='Simulation' macro='Component.SetSolid' >
									<argument exp='shape_sphere1' />
									<argument exp='1' />
								</command>
								<command class_type='sim' title='Simulation' macro='Component.SetInteractive' >
									<argument exp='shape_sphere1' />
									<argument exp='1' />
								</command>
								<command class_type='sim' title='Simulation' macro='Component.SetVisible' >
									<argument exp='Shape1' />
									<argument exp='0' />
								</command>
								<command class_type='sim' title='Simulation' macro='Component.SetSolid' >
									<argument exp='Shape1' />
									<argument exp='0' />
								</command>
								<command class_type='sim' title='Simulation' macro='Component.SetInteractive' >
									<argument exp='Shape1' />
									<argument exp='0' />
								</command>
								<command class_type='sim' title='Component Macro' component='clone_matrix_3d' macro='Update' />
							</flowline>
							<flowline >
								<command class_type='sim' title='Built-in Function' macro='Component.Property.SetFilter' >
									<argument exp='this' />
									<argument exp='&quot;LED_Arrangement&quot;' />
									<argument exp='&quot;0001D\n0012D&quot;' />
								</command>
								<command class_type='sim' title='Built-in Function' macro='Component.SetVisible' >
									<argument exp='clone_matrix_3d' />
									<argument exp='0' />
								</command>
								<command class_type='sim' title='Simulation' macro='Component.SetVisible' >
									<argument exp='Shape1' />
									<argument exp='1' />
								</command>
								<command class_type='sim' title='Simulation' macro='Component.SetSolid' >
									<argument exp='Shape1' />
									<argument exp='1' />
								</command>
								<command class_type='sim' title='Simulation' macro='Component.SetInteractive' >
									<argument exp='Shape1' />
									<argument exp='1' />
								</command>
								<command class_type='sim' title='Simulation' macro='Component.SetVisible' >
									<argument exp='shape_sphere1' />
									<argument exp='0' />
								</command>
								<command class_type='sim' title='Simulation' macro='Component.SetSolid' >
									<argument exp='shape_sphere1' />
									<argument exp='0' />
								</command>
								<command class_type='sim' title='Simulation' macro='Component.SetInteractive' >
									<argument exp='shape_sphere1' />
									<argument exp='0' />
								</command>
								<command class_type='sim' title='Component Macro' component='clone_matrix_2d' macro='Update' />
							</flowline>
						</command>
						<command class_type='call' title='User Macro' macro='Ev_Property' />
					</flowline>
				</macro>
				<macro >
					<flowline name='GetLEDColour' description='Sets the colour of a single LED in RAM as a 1D array.' statediag='0' >
						<return name='Return' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='LED' type='u16' description='LED to change the colour / Range: 0 to (LED Count - 1)' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='ColIdx' type='u8' description='0 = Red, 1 = Green, 2 = Blue' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='decision' title='Check LED index is in range' exp='(.LED &lt; LED_Count) &amp;&amp; (.ColIdx &lt; 3)' swap='0' >
							<flowline >
								<command class_type='decision' title='Decision' exp='ColScale &lt; 255' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' >
											<exp exp='.Return = (RGB[.LED][.ColIdx] &lt;&lt; 8) / ColScale' />
										</command>
									</flowline>
									<flowline >
										<command class_type='calculation' title='Calculation' >
											<exp exp='.Return = RGB[.LED][.ColIdx]' />
										</command>
									</flowline>
								</command>
							</flowline>
							<flowline >
								<command class_type='calculation' title='Calculation' >
									<exp exp='.Return = 0' />
								</command>
							</flowline>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Ev_Property' description='Sent when a property has been changed by the User' statediag='0' >
						<return name='Return' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='Count' type='u16' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='tempstr' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='ClockSpeed' type='f32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0.0' setinit='' />
						<local name='str2' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='SetCount' type='s16' description='' isconst='0' isHidden='0' isinit='1' usrinit='10' setinit='10' />
						<local name='PanelID' type='s32' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
						<command class_type='sim' title='Built-in Function' macro='Component.GetPanel' >
							<return exp='.PanelID' />
							<argument exp='this' />
						</command>
						<command class_type='switch' title='Switch' textarea='36,25,36,25' exp='LED_Arrangement' >
							<case >
								<flowline >
									<command class_type='sim' title='Simulation' macro='Component.Property.SetWritable' >
										<argument exp='this' />
										<argument exp='&quot;LED_Count&quot;' />
										<argument exp='1' />
									</command>
									<command class_type='sim' title='Simulation' macro='Component.Property.SetVisible' >
										<argument exp='this' />
										<argument exp='&quot;LED_Cols&quot;' />
										<argument exp='0' />
									</command>
									<command class_type='sim' title='Simulation' macro='Component.Property.SetVisible' >
										<argument exp='this' />
										<argument exp='&quot;LED_Rows&quot;' />
										<argument exp='0' />
									</command>
									<command class_type='sim' title='Simulation' macro='Component.Property.SetVisible' >
										<argument exp='this' />
										<argument exp='&quot;LED_Layers&quot;' />
										<argument exp='0' />
									</command>
									<command class_type='sim' title='Simulation' macro='Component.Property.SetVisible' >
										<argument exp='this' />
										<argument exp='&quot;y_spacing&quot;' />
										<argument exp='0' />
									</command>
									<command class_type='sim' title='Simulation' macro='Component.Property.SetVisible' >
										<argument exp='this' />
										<argument exp='&quot;z_spacing&quot;' />
										<argument exp='0' />
									</command>
									<command class_type='sim' title='Simulation' macro='Component.Property.SetVisible' >
										<argument exp='this' />
										<argument exp='&quot;sequence&quot;' />
										<argument exp='0' />
									</command>
									<command class_type='decision' title='Legacy panels - 3D mode' exp='.PanelID &lt; 0' swap='0' >
										<flowline >
											<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
												<argument exp='clone_matrix_3d' />
												<argument exp='&quot;x_count&quot;' />
												<argument exp='LED_Count' />
											</command>
											<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
												<argument exp='clone_matrix_3d' />
												<argument exp='&quot;y_count&quot;' />
												<argument exp='1' />
											</command>
											<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
												<argument exp='clone_matrix_3d' />
												<argument exp='&quot;z_count&quot;' />
												<argument exp='1' />
											</command>
										</flowline>
										<flowline >
											<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
												<argument exp='clone_matrix_2d' />
												<argument exp='&quot;x_count&quot;' />
												<argument exp='LED_Count' />
											</command>
											<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
												<argument exp='clone_matrix_2d' />
												<argument exp='&quot;y_count&quot;' />
												<argument exp='1' />
											</command>
											<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
												<argument exp='clone_matrix_2d' />
												<argument exp='&quot;z_count&quot;' />
												<argument exp='1' />
											</command>
										</flowline>
									</command>
									<command class_type='sim' title='Simulation' textarea='103,-3,103,-3' macro='Component.Property.SetVisible' >
										<argument exp='this' />
										<argument exp='&quot;FlipX&quot;' />
										<argument exp='0' />
									</command>
									<command class_type='sim' title='Simulation' textarea='103,-3,103,-3' macro='Component.Property.SetVisible' >
										<argument exp='this' />
										<argument exp='&quot;FlipY&quot;' />
										<argument exp='0' />
									</command>
									<command class_type='sim' title='Simulation' textarea='103,-3,103,-3' macro='Component.Property.SetVisible' >
										<argument exp='this' />
										<argument exp='&quot;FlipZ&quot;' />
										<argument exp='0' />
									</command>
								</flowline>
							</case>
							<case exp='1' >
								<flowline >
									<command class_type='sim' title='Simulation' macro='Component.Property.SetWritable' >
										<argument exp='this' />
										<argument exp='&quot;LED_Count&quot;' />
										<argument exp='0' />
									</command>
									<command class_type='sim' title='Simulation' macro='Component.Property.SetVisible' >
										<argument exp='this' />
										<argument exp='&quot;LED_Cols&quot;' />
										<argument exp='1' />
									</command>
									<command class_type='sim' title='Simulation' macro='Component.Property.SetVisible' >
										<argument exp='this' />
										<argument exp='&quot;LED_Rows&quot;' />
										<argument exp='1' />
									</command>
									<command class_type='sim' title='Simulation' macro='Component.Property.SetVisible' >
										<argument exp='this' />
										<argument exp='&quot;LED_Layers&quot;' />
										<argument exp='0' />
									</command>
									<command class_type='sim' title='Simulation' macro='Component.Property.SetVisible' >
										<argument exp='this' />
										<argument exp='&quot;y_spacing&quot;' />
										<argument exp='1' />
									</command>
									<command class_type='sim' title='Simulation' macro='Component.Property.SetVisible' >
										<argument exp='this' />
										<argument exp='&quot;z_spacing&quot;' />
										<argument exp='0' />
									</command>
									<command class_type='sim' title='Simulation' macro='Component.Property.SetVisible' >
										<argument exp='this' />
										<argument exp='&quot;sequence&quot;' />
										<argument exp='1' />
									</command>
									<command class_type='calculation' title='Calculation' >
										<exp exp='.Count = LED_Cols * LED_Rows' />
									</command>
									<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
										<argument exp='this' />
										<argument exp='&quot;LED_Count&quot;' />
										<argument exp='.Count' />
									</command>
									<command class_type='decision' title='Legacy panels - 3D mode' exp='.PanelID &lt; 0' swap='0' >
										<flowline >
											<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
												<argument exp='clone_matrix_3d' />
												<argument exp='&quot;x_count&quot;' />
												<argument exp='LED_Cols' />
											</command>
											<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
												<argument exp='clone_matrix_3d' />
												<argument exp='&quot;y_count&quot;' />
												<argument exp='LED_Rows' />
											</command>
											<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
												<argument exp='clone_matrix_3d' />
												<argument exp='&quot;z_count&quot;' />
												<argument exp='1' />
											</command>
										</flowline>
										<flowline >
											<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
												<argument exp='clone_matrix_2d' />
												<argument exp='&quot;x_count&quot;' />
												<argument exp='LED_Cols' />
											</command>
											<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
												<argument exp='clone_matrix_2d' />
												<argument exp='&quot;y_count&quot;' />
												<argument exp='LED_Rows' />
											</command>
											<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
												<argument exp='clone_matrix_2d' />
												<argument exp='&quot;z_count&quot;' />
												<argument exp='1' />
											</command>
										</flowline>
									</command>
									<command class_type='sim' title='Simulation' textarea='103,-3,103,-3' macro='Component.Property.SetVisible' >
										<argument exp='this' />
										<argument exp='&quot;FlipX&quot;' />
										<argument exp='1' />
									</command>
									<command class_type='sim' title='Simulation' textarea='103,-3,103,-3' macro='Component.Property.SetVisible' >
										<argument exp='this' />
										<argument exp='&quot;FlipY&quot;' />
										<argument exp='1' />
									</command>
									<command class_type='sim' title='Simulation' textarea='103,-3,103,-3' macro='Component.Property.SetVisible' >
										<argument exp='this' />
										<argument exp='&quot;FlipZ&quot;' />
										<argument exp='0' />
									</command>
								</flowline>
							</case>
							<case exp='2' >
								<flowline >
									<command class_type='sim' title='Simulation' macro='Component.Property.SetWritable' >
										<argument exp='this' />
										<argument exp='&quot;LED_Count&quot;' />
										<argument exp='0' />
									</command>
									<command class_type='sim' title='Simulation' macro='Component.Property.SetVisible' >
										<argument exp='this' />
										<argument exp='&quot;LED_Cols&quot;' />
										<argument exp='1' />
									</command>
									<command class_type='sim' title='Simulation' macro='Component.Property.SetVisible' >
										<argument exp='this' />
										<argument exp='&quot;LED_Rows&quot;' />
										<argument exp='1' />
									</command>
									<command class_type='sim' title='Simulation' macro='Component.Property.SetVisible' >
										<argument exp='this' />
										<argument exp='&quot;LED_Layers&quot;' />
										<argument exp='1' />
									</command>
									<command class_type='sim' title='Simulation' macro='Component.Property.SetVisible' >
										<argument exp='this' />
										<argument exp='&quot;y_spacing&quot;' />
										<argument exp='1' />
									</command>
									<command class_type='sim' title='Simulation' macro='Component.Property.SetVisible' >
										<argument exp='this' />
										<argument exp='&quot;z_spacing&quot;' />
										<argument exp='1' />
									</command>
									<command class_type='sim' title='Simulation' macro='Component.Property.SetVisible' >
										<argument exp='this' />
										<argument exp='&quot;sequence&quot;' />
										<argument exp='1' />
									</command>
									<command class_type='calculation' title='Calculation' >
										<exp exp='.Count = (LED_Cols * LED_Rows) * LED_Layers' />
									</command>
									<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
										<argument exp='this' />
										<argument exp='&quot;LED_Count&quot;' />
										<argument exp='.Count' />
									</command>
									<command class_type='decision' title='Legacy panels - 3D mode' exp='.PanelID &lt; 0' swap='0' >
										<flowline >
											<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
												<argument exp='clone_matrix_3d' />
												<argument exp='&quot;x_count&quot;' />
												<argument exp='LED_Cols' />
											</command>
											<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
												<argument exp='clone_matrix_3d' />
												<argument exp='&quot;y_count&quot;' />
												<argument exp='LED_Rows' />
											</command>
											<command class_type='sim' title='Simulation' textarea='103,-3,103,-3' macro='Component.Property.SetValue' >
												<argument exp='clone_matrix_3d' />
												<argument exp='&quot;z_count&quot;' />
												<argument exp='LED_Layers' />
											</command>
										</flowline>
										<flowline />
									</command>
									<command class_type='sim' title='Simulation' textarea='103,-3,103,-3' macro='Component.Property.SetVisible' >
										<argument exp='this' />
										<argument exp='&quot;FlipX&quot;' />
										<argument exp='1' />
									</command>
									<command class_type='sim' title='Simulation' textarea='103,-3,103,-3' macro='Component.Property.SetVisible' >
										<argument exp='this' />
										<argument exp='&quot;FlipY&quot;' />
										<argument exp='1' />
									</command>
									<command class_type='sim' title='Simulation' textarea='103,-3,103,-3' macro='Component.Property.SetVisible' >
										<argument exp='this' />
										<argument exp='&quot;FlipZ&quot;' />
										<argument exp='1' />
									</command>
								</flowline>
							</case>
						</command>
						<command class_type='decision' title='Legacy panels - 3D mode' exp='.PanelID &lt; 0' swap='0' >
							<flowline >
								<command class_type='sim' title='Simulation' macro='Component.Property.CopyValue' >
									<argument exp='this' />
									<argument exp='clone_matrix_3d' />
									<argument exp='&quot;x_spacing&quot;' />
								</command>
								<command class_type='sim' title='Simulation' macro='Component.Property.CopyValue' >
									<argument exp='this' />
									<argument exp='clone_matrix_3d' />
									<argument exp='&quot;y_spacing&quot;' />
								</command>
								<command class_type='sim' title='Simulation' macro='Component.Property.CopyValue' >
									<argument exp='this' />
									<argument exp='clone_matrix_3d' />
									<argument exp='&quot;z_spacing&quot;' />
								</command>
								<command class_type='sim' title='Simulation' component='clone_matrix_3d' macro='Update' />
							</flowline>
							<flowline >
								<command class_type='sim' title='Simulation' macro='Component.Property.CopyValue' >
									<argument exp='this' />
									<argument exp='clone_matrix_2d' />
									<argument exp='&quot;x_spacing&quot;' />
								</command>
								<command class_type='sim' title='Simulation' macro='Component.Property.CopyValue' >
									<argument exp='this' />
									<argument exp='clone_matrix_2d' />
									<argument exp='&quot;y_spacing&quot;' />
								</command>
								<command class_type='sim' title='Simulation' macro='Component.Property.CopyValue' >
									<argument exp='this' />
									<argument exp='clone_matrix_2d' />
									<argument exp='&quot;z_spacing&quot;' />
								</command>
								<command class_type='sim' title='Simulation' component='clone_matrix_2d' macro='Update' />
							</flowline>
						</command>
						<command class_type='decision' title='Decision' exp='LED_Controller &lt; 5' swap='0' >
							<flowline >
								<command class_type='sim' title='Simulation' macro='Component.Property.SetWritable' >
									<argument exp='this' />
									<argument exp='&quot;Reset_Time&quot;' />
									<argument exp='0' />
								</command>
								<command class_type='sim' title='Simulation' macro='Component.Property.SetWritable' >
									<argument exp='this' />
									<argument exp='&quot;T0H&quot;' />
									<argument exp='0' />
								</command>
								<command class_type='sim' title='Simulation' macro='Component.Property.SetWritable' >
									<argument exp='this' />
									<argument exp='&quot;T1H&quot;' />
									<argument exp='0' />
								</command>
								<command class_type='sim' title='Simulation' macro='Component.Property.SetWritable' >
									<argument exp='this' />
									<argument exp='&quot;T0L&quot;' />
									<argument exp='0' />
								</command>
								<command class_type='sim' title='Simulation' macro='Component.Property.SetWritable' >
									<argument exp='this' />
									<argument exp='&quot;T1L&quot;' />
									<argument exp='0' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='switch' title='Switch' textarea='36,25,36,25' exp='LED_Controller' >
							<case >
								<flowline >
									<command class_type='comment' title='' comment='WS2811
' textarea='12,0,12,0' />
									<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
										<argument exp='this' />
										<argument exp='&quot;Reset_Time&quot;' />
										<argument exp='50.0' />
									</command>
									<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
										<argument exp='this' />
										<argument exp='&quot;T0H&quot;' />
										<argument exp='0.5' />
									</command>
									<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
										<argument exp='this' />
										<argument exp='&quot;T1H&quot;' />
										<argument exp='1.2' />
									</command>
									<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
										<argument exp='this' />
										<argument exp='&quot;T0L&quot;' />
										<argument exp='2.0' />
									</command>
									<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
										<argument exp='this' />
										<argument exp='&quot;T1L&quot;' />
										<argument exp='1.3' />
									</command>
									<command class_type='sim' title='Simulation' macro='Component.Property.SetWritable' >
										<argument exp='this' />
										<argument exp='&quot;DataOrder&quot;' />
										<argument exp='0' />
									</command>
									<command class_type='sim' title='Simulation' textarea='59,7,59,7' macro='Component.Property.SetValue' >
										<argument exp='this' />
										<argument exp='&quot;DataOrder&quot;' />
										<argument exp='0' />
									</command>
								</flowline>
							</case>
							<case exp='1' >
								<flowline >
									<command class_type='comment' title='' comment='WS2812
' textarea='12,0,12,0' />
									<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
										<argument exp='this' />
										<argument exp='&quot;Reset_Time&quot;' />
										<argument exp='50.0' />
									</command>
									<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
										<argument exp='this' />
										<argument exp='&quot;T0H&quot;' />
										<argument exp='0.35' />
									</command>
									<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
										<argument exp='this' />
										<argument exp='&quot;T1H&quot;' />
										<argument exp='0.7' />
									</command>
									<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
										<argument exp='this' />
										<argument exp='&quot;T0L&quot;' />
										<argument exp='0.8' />
									</command>
									<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
										<argument exp='this' />
										<argument exp='&quot;T1L&quot;' />
										<argument exp='0.6' />
									</command>
									<command class_type='sim' title='Simulation' macro='Component.Property.SetWritable' >
										<argument exp='this' />
										<argument exp='&quot;DataOrder&quot;' />
										<argument exp='0' />
									</command>
									<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
										<argument exp='this' />
										<argument exp='&quot;DataOrder&quot;' />
										<argument exp='1' />
									</command>
								</flowline>
							</case>
							<case exp='2' >
								<flowline >
									<command class_type='comment' title='' comment='WS2812B
' textarea='12,0,12,0' />
									<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
										<argument exp='this' />
										<argument exp='&quot;Reset_Time&quot;' />
										<argument exp='50.0' />
									</command>
									<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
										<argument exp='this' />
										<argument exp='&quot;T0H&quot;' />
										<argument exp='0.3' />
									</command>
									<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
										<argument exp='this' />
										<argument exp='&quot;T1H&quot;' />
										<argument exp='0.8' />
									</command>
									<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
										<argument exp='this' />
										<argument exp='&quot;T0L&quot;' />
										<argument exp='0.85' />
									</command>
									<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
										<argument exp='this' />
										<argument exp='&quot;T1L&quot;' />
										<argument exp='0.45' />
									</command>
									<command class_type='sim' title='Simulation' macro='Component.Property.SetWritable' >
										<argument exp='this' />
										<argument exp='&quot;DataOrder&quot;' />
										<argument exp='0' />
									</command>
									<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
										<argument exp='this' />
										<argument exp='&quot;DataOrder&quot;' />
										<argument exp='1' />
									</command>
								</flowline>
							</case>
							<case exp='3' >
								<flowline >
									<command class_type='comment' title='' comment='APA104' textarea='12,0,12,0' />
									<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
										<argument exp='this' />
										<argument exp='&quot;Reset_Time&quot;' />
										<argument exp='50.0' />
									</command>
									<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
										<argument exp='this' />
										<argument exp='&quot;T0H&quot;' />
										<argument exp='0.4' />
									</command>
									<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
										<argument exp='this' />
										<argument exp='&quot;T1H&quot;' />
										<argument exp='0.8' />
									</command>
									<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
										<argument exp='this' />
										<argument exp='&quot;T0L&quot;' />
										<argument exp='0.85' />
									</command>
									<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
										<argument exp='this' />
										<argument exp='&quot;T1L&quot;' />
										<argument exp='0.45' />
									</command>
									<command class_type='sim' title='Simulation' macro='Component.Property.SetWritable' >
										<argument exp='this' />
										<argument exp='&quot;DataOrder&quot;' />
										<argument exp='0' />
									</command>
									<command class_type='sim' title='Simulation' textarea='59,7,59,7' macro='Component.Property.SetValue' >
										<argument exp='this' />
										<argument exp='&quot;DataOrder&quot;' />
										<argument exp='0' />
									</command>
								</flowline>
							</case>
							<case exp='4' >
								<flowline >
									<command class_type='comment' title='' comment='APA106' textarea='12,0,12,0' />
									<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
										<argument exp='this' />
										<argument exp='&quot;Reset_Time&quot;' />
										<argument exp='50.0' />
									</command>
									<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
										<argument exp='this' />
										<argument exp='&quot;T0H&quot;' />
										<argument exp='0.35' />
									</command>
									<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
										<argument exp='this' />
										<argument exp='&quot;T1H&quot;' />
										<argument exp='1.36' />
									</command>
									<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
										<argument exp='this' />
										<argument exp='&quot;T0L&quot;' />
										<argument exp='1.36' />
									</command>
									<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
										<argument exp='this' />
										<argument exp='&quot;T1L&quot;' />
										<argument exp='0.35' />
									</command>
									<command class_type='sim' title='Simulation' macro='Component.Property.SetWritable' >
										<argument exp='this' />
										<argument exp='&quot;DataOrder&quot;' />
										<argument exp='0' />
									</command>
									<command class_type='sim' title='Simulation' textarea='59,7,59,7' macro='Component.Property.SetValue' >
										<argument exp='this' />
										<argument exp='&quot;DataOrder&quot;' />
										<argument exp='0' />
									</command>
								</flowline>
							</case>
							<case exp='5' >
								<flowline >
									<command class_type='comment' title='' comment='Custom

' textarea='12,0,12,0' />
									<command class_type='sim' title='Simulation' macro='Component.Property.SetWritable' >
										<argument exp='this' />
										<argument exp='&quot;Reset_Time&quot;' />
										<argument exp='1' />
									</command>
									<command class_type='sim' title='Simulation' macro='Component.Property.SetWritable' >
										<argument exp='this' />
										<argument exp='&quot;T0H&quot;' />
										<argument exp='1' />
									</command>
									<command class_type='sim' title='Simulation' macro='Component.Property.SetWritable' >
										<argument exp='this' />
										<argument exp='&quot;T1H&quot;' />
										<argument exp='1' />
									</command>
									<command class_type='sim' title='Simulation' macro='Component.Property.SetWritable' >
										<argument exp='this' />
										<argument exp='&quot;T0L&quot;' />
										<argument exp='1' />
									</command>
									<command class_type='sim' title='Simulation' macro='Component.Property.SetWritable' >
										<argument exp='this' />
										<argument exp='&quot;T1L&quot;' />
										<argument exp='1' />
									</command>
									<command class_type='sim' title='Simulation' macro='Component.Property.SetWritable' >
										<argument exp='this' />
										<argument exp='&quot;DataOrder&quot;' />
										<argument exp='1' />
									</command>
								</flowline>
							</case>
						</command>
						<command class_type='sim' title='Simulation' macro='Component.Property.SetVisible' >
							<argument exp='this' />
							<argument exp='&quot;RMT_Channel&quot;' />
							<argument exp='0' />
						</command>
						<command class_type='sim' title='Simulation' macro='FCD.GetItemValue' >
							<return exp='.tempstr' />
							<argument exp='&quot;device&quot;' />
							<argument exp='&quot;cal&quot;' />
							<argument exp='&quot;&quot;' />
						</command>
						<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
							<argument exp='this' />
							<argument exp='&quot;DeviceFamily&quot;' />
							<argument exp='.tempstr' />
						</command>
						<command class_type='decision' title='Decision' exp='Compare$ (.tempstr,&quot;PIC&quot;,0) == 0' swap='0' >
							<flowline >
								<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
									<argument exp='this' />
									<argument exp='&quot;Direct&quot;' />
									<argument exp='1' />
								</command>
							</flowline>
							<flowline >
								<command class_type='decision' title='Decision' exp='Compare$ (.tempstr,&quot;PIC16BIT&quot;,0) == 0' swap='0' >
									<flowline >
										<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
											<argument exp='this' />
											<argument exp='&quot;Direct&quot;' />
											<argument exp='1' />
										</command>
									</flowline>
									<flowline >
										<command class_type='decision' title='Decision' exp='Compare$ (.tempstr,&quot;PIC32BIT&quot;,0) == 0' swap='0' >
											<flowline >
												<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
													<argument exp='this' />
													<argument exp='&quot;Direct&quot;' />
													<argument exp='1' />
												</command>
											</flowline>
											<flowline >
												<command class_type='decision' title='Decision' exp='Compare$ (.tempstr,&quot;STARM&quot;,0) == 0' swap='0' >
													<flowline >
														<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
															<argument exp='this' />
															<argument exp='&quot;Direct&quot;' />
															<argument exp='1' />
														</command>
													</flowline>
													<flowline >
														<command class_type='decision' title='Decision' exp='Compare$ (.tempstr,&quot;PICO&quot;,0) == 0' swap='0' >
															<flowline >
																<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
																	<argument exp='this' />
																	<argument exp='&quot;Direct&quot;' />
																	<argument exp='0' />
																</command>
															</flowline>
															<flowline >
																<command class_type='decision' title='Decision' exp='Compare$ (.tempstr,&quot;ESP&quot;,0) == 0' swap='0' >
																	<flowline >
																		<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
																			<argument exp='this' />
																			<argument exp='&quot;Direct&quot;' />
																			<argument exp='0' />
																		</command>
																		<command class_type='sim' title='Simulation' macro='Component.Property.GetValue' >
																			<return exp='.tempstr' />
																			<argument exp='this' />
																			<argument exp='&quot;MOSI&quot;' />
																		</command>
																		<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
																			<argument exp='ESP32_RMT1' />
																			<argument exp='&quot;Pin&quot;' />
																			<argument exp='.tempstr' />
																		</command>
																		<command class_type='sim' title='2 x 24 bit colour + stop bit' macro='Component.Property.SetValue' >
																			<argument exp='ESP32_RMT1' />
																			<argument exp='&quot;BuffSize&quot;' />
																			<argument exp='49' />
																		</command>
																		<command class_type='decision' title='Decision' exp='LED_Count &amp; 0x01' swap='0' >
																			<flowline >
																				<command class_type='sim' title='Built-in Function' macro='Component.Property.SetValue' >
																					<argument exp='this' />
																					<argument exp='&quot;LED_Count&quot;' />
																					<argument exp='LED_Count + 1' />
																				</command>
																			</flowline>
																			<flowline />
																		</command>
																	</flowline>
																	<flowline >
																		<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
																			<argument exp='this' />
																			<argument exp='&quot;Direct&quot;' />
																			<argument exp='0' />
																		</command>
																	</flowline>
																</command>
															</flowline>
														</command>
													</flowline>
												</command>
											</flowline>
										</command>
									</flowline>
								</command>
							</flowline>
						</command>
						<command class_type='decision' title='Decision' exp='Compare$ (.tempstr,&quot;STARM&quot;,1) == 0' swap='0' >
							<flowline >
								<command class_type='sim' title='Simulation' macro='Component.Property.SetVisible' >
									<argument exp='this' />
									<argument exp='&quot;InstRate&quot;' />
									<argument exp='1' />
								</command>
								<command class_type='calculation' title='10MHz = 0.1uS Resolution' >
									<exp exp='.ClockSpeed = FLOAT InstRate / 22.0' />
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='.Count = (T0H / 1000000.0) / (1.0 / .Clockspeed)' />
								</command>
								<command class_type='decision' title='Decision' exp='.Count &gt; 4' swap='0' >
									<flowline >
										<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
											<argument exp='this' />
											<argument exp='&quot;T0HNops&quot;' />
											<argument exp='.Count - 4' />
										</command>
									</flowline>
									<flowline >
										<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
											<argument exp='this' />
											<argument exp='&quot;T0HNops&quot;' />
											<argument exp='0' />
										</command>
									</flowline>
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='.Count = (T0L / 1000000.0) / (1.0 / .Clockspeed)' />
								</command>
								<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
									<argument exp='this' />
									<argument exp='&quot;T0LNops&quot;' />
									<argument exp='.Count' />
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='.Count = (T1H / 1000000.0) / (1.0 / .Clockspeed)' />
								</command>
								<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
									<argument exp='this' />
									<argument exp='&quot;T1HNops&quot;' />
									<argument exp='.Count' />
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='.Count = (T1L / 1000000.0) / (1.0 / .Clockspeed)' />
								</command>
								<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
									<argument exp='this' />
									<argument exp='&quot;T1LNops&quot;' />
									<argument exp='.Count' />
								</command>
							</flowline>
							<flowline >
								<command class_type='sim' title='Simulation' macro='Component.Property.SetVisible' >
									<argument exp='this' />
									<argument exp='&quot;InstRate&quot;' />
									<argument exp='0' />
								</command>
								<command class_type='sim' title='Simulation' macro='FCD.GetItemValue' >
									<return exp='.tempstr' />
									<argument exp='&quot;device.clock&quot;' />
									<argument exp='&quot;value&quot;' />
									<argument exp='&quot;20000000&quot;' />
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='.ClockSpeed = StringToFloat$ (.tempstr)' />
								</command>
								<command class_type='sim' title='Simulation' macro='FCD.GetItemValue' >
									<return exp='.Count' />
									<argument exp='&quot;device.clock&quot;' />
									<argument exp='&quot;master_divider&quot;' />
									<argument exp='&quot;2&quot;' />
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='.ClockSpeed = .ClockSpeed / .Count' />
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='.Count = (T0H / 1000000.0) / (1.0 / .Clockspeed)' />
								</command>
								<command class_type='decision' title='Decision' exp='.Count &gt; 6' swap='0' >
									<flowline >
										<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
											<argument exp='this' />
											<argument exp='&quot;T0HNops&quot;' />
											<argument exp='.Count - 6' />
										</command>
									</flowline>
									<flowline >
										<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
											<argument exp='this' />
											<argument exp='&quot;T0HNops&quot;' />
											<argument exp='0' />
										</command>
									</flowline>
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='.Count = (T0L / 1000000.0) / (1.0 / .Clockspeed)' />
								</command>
								<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
									<argument exp='this' />
									<argument exp='&quot;T0LNops&quot;' />
									<argument exp='.Count' />
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='.Count = (T1H / 1000000.0) / (1.0 / .Clockspeed)' />
								</command>
								<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
									<argument exp='this' />
									<argument exp='&quot;T1HNops&quot;' />
									<argument exp='.Count' />
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='.Count = (T1L / 1000000.0) / (1.0 / .Clockspeed)' />
								</command>
								<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
									<argument exp='this' />
									<argument exp='&quot;T1LNops&quot;' />
									<argument exp='.Count' />
								</command>
							</flowline>
						</command>
						<command class_type='sim' title='Simulation' macro='Component.GetInstance' >
							<return exp='.Count' />
							<argument exp='this' />
						</command>
						<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
							<argument exp='this' />
							<argument exp='&quot;Instance&quot;' />
							<argument exp='.Count' />
						</command>
						<command class_type='sim' title='Simulation' macro='Component.Property.GetValue' >
							<return exp='.tempstr' />
							<argument exp='this' />
							<argument exp='&quot;T0H&quot;' />
						</command>
						<command class_type='calculation' title='Calculation' >
							<exp exp='.ClockSpeed = StringToFloat$ (.tempstr)' />
							<exp exp='.clockspeed = .clockspeed * 1000.0' />
						</command>
						<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
							<argument exp='this' />
							<argument exp='&quot;T0HN&quot;' />
							<argument exp='.ClockSpeed' />
						</command>
						<command class_type='sim' title='Simulation' macro='Component.Property.GetValue' >
							<return exp='.tempstr' />
							<argument exp='this' />
							<argument exp='&quot;T0L&quot;' />
						</command>
						<command class_type='calculation' title='Calculation' >
							<exp exp='.ClockSpeed = StringToFloat$ (.tempstr)' />
							<exp exp='.clockspeed = .clockspeed * 1000.0' />
						</command>
						<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
							<argument exp='this' />
							<argument exp='&quot;T0LN&quot;' />
							<argument exp='.ClockSpeed' />
						</command>
						<command class_type='sim' title='Simulation' macro='Component.Property.GetValue' >
							<return exp='.tempstr' />
							<argument exp='this' />
							<argument exp='&quot;T1H&quot;' />
						</command>
						<command class_type='calculation' title='Calculation' >
							<exp exp='.ClockSpeed = StringToFloat$ (.tempstr)' />
							<exp exp='.clockspeed = .clockspeed * 1000.0' />
						</command>
						<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
							<argument exp='this' />
							<argument exp='&quot;T1HN&quot;' />
							<argument exp='.ClockSpeed' />
						</command>
						<command class_type='sim' title='Simulation' macro='Component.Property.GetValue' >
							<return exp='.tempstr' />
							<argument exp='this' />
							<argument exp='&quot;T1L&quot;' />
						</command>
						<command class_type='calculation' title='Calculation' >
							<exp exp='.ClockSpeed = StringToFloat$ (.tempstr)' />
							<exp exp='.clockspeed = .clockspeed * 1000.0' />
						</command>
						<command class_type='sim' title='Simulation' macro='Component.Property.SetValue' >
							<argument exp='this' />
							<argument exp='&quot;T1LN&quot;' />
							<argument exp='.ClockSpeed' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='OutputLow' description='' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
					</flowline>
				</macro>
				<macro >
					<flowline name='SetBrightnessByte' description='Allows the output colour brightness of the LEDs to be scaled down. For example to save current usage or to reduce brightness in dark environments. ' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<param name='Scaler' type='u8' description='Range: 0 to 255 Default: 255, 0 = Off, 128 = Half Brightness, 255 = Full Brightness' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='calculation' title='Calculation' >
							<exp exp='ColScale = .Scaler' />
							<exp exp='' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Delay_T0L' description='' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
					</flowline>
				</macro>
				<macro >
					<flowline name='DrawLine2D' description='Draws a line on a 2D array of LEDs' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<param name='X1' type='u16' description='Start X Coordinate' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Y1' type='u16' description='Start Y Coordinate' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='X2' type='u16' description='End X Coordinate' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Y2' type='u16' description='End Y Coordinate' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='R' type='u8' description='Red colour channel' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='G' type='u8' description='Green colour channel' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='B' type='u8' description='Blue colour channel' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='C1' type='s16' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='D1' type='s16' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
						<local name='M1' type='s16' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='PixelX' type='s16' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='PixelY' type='s16' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='XInc' type='s16' description='' isconst='0' isHidden='0' isinit='1' usrinit='1' setinit='1' />
						<local name='YInc' type='s16' description='' isconst='0' isHidden='0' isinit='1' usrinit='1' setinit='1' />
						<local name='Idx' type='u16' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='calculation' title='Calculation' >
							<exp exp='.PixelX = .X2 - .X1' />
							<exp exp='.PixelY = .Y2 - .Y1' />
						</command>
						<command class_type='decision' title='If negative X direction' exp='.PixelX &lt; 0' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' >
									<exp exp='.Xinc = -1' />
									<exp exp='.PixelX = .PixelX * -1' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='If negative Y direction' exp='.PixelY &lt; 0' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' >
									<exp exp='.Yinc = -1' />
									<exp exp='.PixelY = .PixelY * -1' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='Decision' exp='.PixelY &lt;= .PixelX' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' >
									<exp exp='.C1 = 2 * .PixelX' />
									<exp exp='.M1 = 2 * .PixelY' />
								</command>
								<command class_type='loop' title='Loop' type='0' exp='.X1 != .X2' >
									<flowline >
										<command class_type='call' title='Call Macro' macro='GetLEDIndex2D' >
											<return exp='.Idx' />
											<argument exp='.X1' />
											<argument exp='.Y1' />
										</command>
										<command class_type='call' title='Call Macro' macro='SetLEDColour' >
											<argument exp='.Idx' />
											<argument exp='.R' />
											<argument exp='.G' />
											<argument exp='.B' />
										</command>
										<command class_type='calculation' title='Calculation' >
											<exp exp='.X1 = .X1 + .Xinc' />
										</command>
										<command class_type='calculation' title='Calculation' >
											<exp exp='.D1 = .D1 + .M1' />
										</command>
										<command class_type='decision' title='Decision' exp='.D1 &gt; .PixelX' swap='0' >
											<flowline >
												<command class_type='calculation' title='Calculation' >
													<exp exp='.Y1 = .Y1 + .Yinc' />
												</command>
												<command class_type='calculation' title='Calculation' >
													<exp exp='.D1 = .D1 - .C1' />
												</command>
											</flowline>
											<flowline />
										</command>
									</flowline>
								</command>
							</flowline>
							<flowline >
								<command class_type='calculation' title='Calculation' >
									<exp exp='.C1 = 2 * .PixelY' />
									<exp exp='.M1 = 2 * .PixelX' />
								</command>
								<command class_type='loop' title='Loop' type='0' exp='.Y1 != .Y2' >
									<flowline >
										<command class_type='call' title='Call Macro' macro='GetLEDIndex2D' >
											<return exp='.Idx' />
											<argument exp='.X1' />
											<argument exp='.Y1' />
										</command>
										<command class_type='call' title='Call Macro' macro='SetLEDColour' >
											<argument exp='.Idx' />
											<argument exp='.R' />
											<argument exp='.G' />
											<argument exp='.B' />
										</command>
										<command class_type='calculation' title='Calculation' >
											<exp exp='.Y1 = .Y1 + .Yinc' />
										</command>
										<command class_type='calculation' title='Calculation' >
											<exp exp='.D1 = .D1 + .M1' />
										</command>
										<command class_type='decision' title='Decision' exp='.D1 &gt; .PixelY' swap='0' >
											<flowline >
												<command class_type='calculation' title='Calculation' >
													<exp exp='.X1 = .X1 + .Xinc' />
												</command>
												<command class_type='calculation' title='Calculation' >
													<exp exp='.D1 = .D1 - .C1' />
												</command>
											</flowline>
											<flowline />
										</command>
									</flowline>
								</command>
							</flowline>
						</command>
						<command class_type='call' title='Call Macro' macro='GetLEDIndex2D' >
							<return exp='.Idx' />
							<argument exp='.X1' />
							<argument exp='.Y1' />
						</command>
						<command class_type='call' title='Call Macro' macro='SetLEDColour' >
							<argument exp='.Idx' />
							<argument exp='.R' />
							<argument exp='.G' />
							<argument exp='.B' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='OutputHigh' description='' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
					</flowline>
				</macro>
				<macro >
					<flowline name='SetLEDColour' description='Sets the colour of a single LED in RAM as a 1D array.' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<param name='LED' type='u16' description='LED to change the colour / Range: 0 to (LED Count - 1)' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='R' type='u8' description='Red Colour Channel' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='G' type='u8' description='Green Colour Channel' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='B' type='u8' description='Blue Colour Channel' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='decision' title='Check LED index is in range' exp='.LED &lt; LED_Count' swap='0' >
							<flowline >
								<command class_type='decision' title='Decision' exp='ColScale &lt; 255' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' >
											<exp exp='RGB[.LED][0] = (.R * ColScale) &gt;&gt; 8' />
											<exp exp='RGB[.LED][1] = (.G * ColScale) &gt;&gt; 8' />
											<exp exp='RGB[.LED][2] = (.B * ColScale) &gt;&gt; 8' />
										</command>
									</flowline>
									<flowline >
										<command class_type='calculation' title='Assign Colour to LED' >
											<exp exp='RGB[.LED][0] = .R' />
											<exp exp='RGB[.LED][1] = .G' />
											<exp exp='RGB[.LED][2] = .B' />
										</command>
									</flowline>
								</command>
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='SetAllLEDColour' description='Sets the colour of all the LEDs in RAM' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<param name='R' type='u8' description='Red Colour Channel' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='G' type='u8' description='Green Colour Channel' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='B' type='u8' description='Blue Colour Channel' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='Index' type='u16' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
						<command class_type='decision' title='Decision' exp='ColScale &lt; 255' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' >
									<exp exp='.R = (.R * ColScale) &gt;&gt; 8' />
									<exp exp='.G = (.G * ColScale) &gt;&gt; 8' />
									<exp exp='.B = (.B * ColScale) &gt;&gt; 8' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='loop' title='Loop' type='0' exp='.Index &lt; LED_Count' >
							<flowline >
								<command class_type='calculation' title='Assign Colour to LED' >
									<exp exp='RGB[.Index][0] = .R' />
									<exp exp='RGB[.Index][1] = .G' />
									<exp exp='RGB[.Index][2] = .B' />
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='.Index = .Index + 1' />
								</command>
							</flowline>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Delay_T0H' description='' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
					</flowline>
				</macro>
				<macro >
					<flowline name='Delay_T1L' description='' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
					</flowline>
				</macro>
				<macro >
					<flowline name='Ev_AddVar' description='Sent to a component to allow dynamic amendment of global constant declarations' statediag='0' >
						<return name='Return' type='u32' description='Non-zero to include definition - initialised on call' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='VarName' type='T8' description='The original Flowcode variable' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</param>
						<param name='ExpandName' type='T8' description='The expanded variable name' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</param>
						<param name='Expansion' type='T8*' description='The expanded string to inline to the code' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</param>
						<local name='Version' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='idx' type='u16' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='decision' title='Decision' exp='Compare$ (.VarName,&quot;RGB&quot;,1) == 0' swap='0' >
							<flowline >
								<command class_type='sim' title='Built-in Function' macro='System.GetFCVersion' >
									<return exp='.Version' />
								</command>
								<command class_type='decision' title='10.0.3.31' exp='.Version &gt;= 655363' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' >
											<exp exp='.idx = Contains$ (.Expansion,&quot;[&quot;,0)' />
										</command>
										<command class_type='calculation' title='Calculation' >
											<exp exp='.Expansion = Left$ (.Expansion, .idx)' />
											<exp exp='.Expansion = .Expansion + &quot;[&quot; + STRING LED_Count + &quot;][3];\n&quot;' />
										</command>
									</flowline>
									<flowline >
										<command class_type='calculation' title='Calculation' >
											<exp exp='.Expansion = Left$ (.Expansion, Length$ (.Expansion) - 12)' />
											<exp exp='.Expansion = .Expansion + &quot;[&quot; + STRING LED_Count + &quot;][3];\n&quot;' />
										</command>
									</flowline>
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='calculation' title='Calculation' >
							<exp exp='.Return = 1' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Refresh' description='Clocks out the current colour data to the LEDs from the values stored in RAM' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<local name='Index' type='u16' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
						<local name='SubIndex' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='Data' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='Delays' type='u16' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' >
							<array size='4' />
						</local>
						<command class_type='native' title='C Code' ccode='#if defined(MX_CAL_ESP32)' language='C' />
						<command class_type='calculation' title='Calculation' >
							<exp exp='.SubIndex = 0' />
						</command>
						<command class_type='loop' title='Loop' type='0' exp='.Index &lt; LED_Count' >
							<flowline >
								<command class_type='decision' title='Decision' exp='DataOrder &gt; 0' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' >
											<exp exp='.Data = 0' />
										</command>
										<command class_type='loop' title='Loop' type='0' exp='.Data &lt; 8' >
											<flowline >
												<command class_type='decision' title='Decision' exp='RGB[.Index][1] &amp; (0x80 &gt;&gt; .Data)' swap='0' >
													<flowline >
														<command class_type='native' title='C Code' ccode='MX_RMT_BUFFER[FCL_SUBINDEX + FCL_DATA] = (rmt_item32_t){{{ESP32_T1H, 1, ESP32_T1L, 0}}};' language='C' />
													</flowline>
													<flowline >
														<command class_type='native' title='C Code' ccode='MX_RMT_BUFFER[FCL_SUBINDEX + FCL_DATA] = (rmt_item32_t){{{ESP32_T0H, 1, ESP32_T0L, 0}}};' language='C' />
													</flowline>
												</command>
												<command class_type='calculation' title='Calculation' >
													<exp exp='.Data = .Data + 1' />
												</command>
											</flowline>
										</command>
										<command class_type='calculation' title='Calculation' >
											<exp exp='.Data = 0' />
											<exp exp='.SubIndex = .SubIndex + 8' />
										</command>
										<command class_type='loop' title='Loop' type='0' exp='.Data &lt; 8' >
											<flowline >
												<command class_type='decision' title='Decision' exp='RGB[.Index][0] &amp; (0x80 &gt;&gt; .Data)' swap='0' >
													<flowline >
														<command class_type='native' title='C Code' ccode='MX_RMT_BUFFER[FCL_SUBINDEX + FCL_DATA] = (rmt_item32_t){{{ESP32_T1H, 1, ESP32_T1L, 0}}};' language='C' />
													</flowline>
													<flowline >
														<command class_type='native' title='C Code' ccode='MX_RMT_BUFFER[FCL_SUBINDEX + FCL_DATA] = (rmt_item32_t){{{ESP32_T0H, 1, ESP32_T0L, 0}}};' language='C' />
													</flowline>
												</command>
												<command class_type='calculation' title='Calculation' >
													<exp exp='.Data = .Data + 1' />
												</command>
											</flowline>
										</command>
										<command class_type='calculation' title='Calculation' >
											<exp exp='.Data = 0' />
											<exp exp='.SubIndex = .SubIndex + 8' />
										</command>
										<command class_type='loop' title='Loop' type='0' exp='.Data &lt; 8' >
											<flowline >
												<command class_type='decision' title='Decision' exp='RGB[.Index][2] &amp; (0x80 &gt;&gt; .Data)' swap='0' >
													<flowline >
														<command class_type='native' title='C Code' ccode='MX_RMT_BUFFER[FCL_SUBINDEX + FCL_DATA] = (rmt_item32_t){{{ESP32_T1H, 1, ESP32_T1L, 0}}};' language='C' />
													</flowline>
													<flowline >
														<command class_type='native' title='C Code' ccode='MX_RMT_BUFFER[FCL_SUBINDEX + FCL_DATA] = (rmt_item32_t){{{ESP32_T0H, 1, ESP32_T0L, 0}}};' language='C' />
													</flowline>
												</command>
												<command class_type='calculation' title='Calculation' >
													<exp exp='.Data = .Data + 1' />
												</command>
											</flowline>
										</command>
									</flowline>
									<flowline >
										<command class_type='calculation' title='Calculation' >
											<exp exp='.Data = 0' />
										</command>
										<command class_type='loop' title='Loop' type='0' exp='.Data &lt; 8' >
											<flowline >
												<command class_type='decision' title='Decision' exp='RGB[.Index][0] &amp; (0x80 &gt;&gt; .Data)' swap='0' >
													<flowline >
														<command class_type='native' title='C Code' ccode='MX_RMT_BUFFER[FCL_SUBINDEX + FCL_DATA] = (rmt_item32_t){{{ESP32_T1H, 1, ESP32_T1L, 0}}};' language='C' />
													</flowline>
													<flowline >
														<command class_type='native' title='C Code' ccode='MX_RMT_BUFFER[FCL_SUBINDEX + FCL_DATA] = (rmt_item32_t){{{ESP32_T0H, 1, ESP32_T0L, 0}}};' language='C' />
													</flowline>
												</command>
												<command class_type='calculation' title='Calculation' >
													<exp exp='.Data = .Data + 1' />
												</command>
											</flowline>
										</command>
										<command class_type='calculation' title='Calculation' >
											<exp exp='.Data = 0' />
											<exp exp='.SubIndex = .SubIndex + 8' />
										</command>
										<command class_type='loop' title='Loop' type='0' exp='.Data &lt; 8' >
											<flowline >
												<command class_type='decision' title='Decision' exp='RGB[.Index][1] &amp; (0x80 &gt;&gt; .Data)' swap='0' >
													<flowline >
														<command class_type='native' title='C Code' ccode='MX_RMT_BUFFER[FCL_SUBINDEX + FCL_DATA] = (rmt_item32_t){{{ESP32_T1H, 1, ESP32_T1L, 0}}};' language='C' />
													</flowline>
													<flowline >
														<command class_type='native' title='C Code' ccode='MX_RMT_BUFFER[FCL_SUBINDEX + FCL_DATA] = (rmt_item32_t){{{ESP32_T0H, 1, ESP32_T0L, 0}}};' language='C' />
													</flowline>
												</command>
												<command class_type='calculation' title='Calculation' >
													<exp exp='.Data = .Data + 1' />
												</command>
											</flowline>
										</command>
										<command class_type='calculation' title='Calculation' >
											<exp exp='.Data = 0' />
											<exp exp='.SubIndex = .SubIndex + 8' />
										</command>
										<command class_type='loop' title='Loop' type='0' exp='.Data &lt; 8' >
											<flowline >
												<command class_type='decision' title='Decision' exp='RGB[.Index][2] &amp; (0x80 &gt;&gt; .Data)' swap='0' >
													<flowline >
														<command class_type='native' title='C Code' ccode='MX_RMT_BUFFER[FCL_SUBINDEX + FCL_DATA] = (rmt_item32_t){{{ESP32_T1H, 1, ESP32_T1L, 0}}};' language='C' />
													</flowline>
													<flowline >
														<command class_type='native' title='C Code' ccode='MX_RMT_BUFFER[FCL_SUBINDEX + FCL_DATA] = (rmt_item32_t){{{ESP32_T0H, 1, ESP32_T0L, 0}}};' language='C' />
													</flowline>
												</command>
												<command class_type='calculation' title='Calculation' >
													<exp exp='.Data = .Data + 1' />
												</command>
											</flowline>
										</command>
									</flowline>
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='.SubIndex = .SubIndex + 8' />
								</command>
								<command class_type='native' title='End of stream flag' ccode='MX_RMT_BUFFER[48] = (rmt_item32_t){{{0}}};' language='C' />
								<command class_type='decision' title='Decision' exp='.Index &amp; 1' swap='0' >
									<flowline >
										<command class_type='delay' title='Delay' exp='40' type='0' />
										<command class_type='loop' title='Loop' disable='1' type='0' exp='ESP32_RMT1::TransmitBusy(0)' >
											<flowline />
										</command>
										<command class_type='call' title='Component Macro' component='ESP32_RMT1' macro='Transmit' >
											<argument exp='0' />
										</command>
										<command class_type='calculation' title='Calculation' >
											<exp exp='.SubIndex = 0' />
										</command>
									</flowline>
									<flowline />
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='.Index = .Index + 1' />
								</command>
							</flowline>
						</command>
						<command class_type='native' title='C Code' ccode='#else
#if defined(MX_CAL_PIC32)' language='C' />
						<command class_type='calculation' title='Calculation' >
							<exp exp='.Delays[0] = T0HN' />
							<exp exp='.Delays[1] = T0LN' />
							<exp exp='.Delays[2] = T1HN' />
							<exp exp='.Delays[3] = T1LN' />
						</command>
						<command class_type='loop' title='Loop' type='0' exp='.Index &lt; LED_Count' >
							<flowline >
								<command class_type='decision' title='WS2812(B)? - Clocks out data in the format GRB' exp='DataOrder &gt; 0' swap='0' >
									<flowline >
										<command class_type='calculation' title='Collect Single RGB LED Data byte' >
											<exp exp='.Data = RGB[.Index][1]' />
										</command>
										<command class_type='loop' title='Loop' type='2' exp='8' >
											<flowline >
												<command class_type='decision' title='Test the state of the most significant bit' exp='.Data &amp; 0x80' swap='0' >
													<flowline >
														<command class_type='decision' title='Decision' exp='Direct' swap='0' >
															<flowline >
																<command class_type='call' title='Call Macro' macro='OutputHigh' />
															</flowline>
															<flowline >
																<command class_type='calculation' title='Calculation' >
																	<exp exp='MOSI = 1' />
																</command>
															</flowline>
														</command>
														<command class_type='native' title='C Code' ccode='scNsDelay(FCL_DELAYS[2]);' language='C' />
														<command class_type='call' title='Call Macro' disable='1' macro='Delay_T1H' />
														<command class_type='decision' title='Decision' exp='Direct' swap='0' >
															<flowline >
																<command class_type='call' title='Call Macro' macro='OutputLow' />
															</flowline>
															<flowline >
																<command class_type='calculation' title='Calculation' >
																	<exp exp='MOSI = 0' />
																</command>
															</flowline>
														</command>
														<command class_type='native' title='C Code' ccode='scNsDelay(FCL_DELAYS[3]);' language='C' />
														<command class_type='call' title='Call Macro' disable='1' macro='Delay_T1L' />
													</flowline>
													<flowline >
														<command class_type='decision' title='Decision' exp='Direct' swap='0' >
															<flowline >
																<command class_type='call' title='Call Macro' macro='OutputHigh' />
															</flowline>
															<flowline >
																<command class_type='calculation' title='Calculation' >
																	<exp exp='MOSI = 1' />
																</command>
															</flowline>
														</command>
														<command class_type='native' title='C Code' ccode='scNsDelay(FCL_DELAYS[0]);' language='C' />
														<command class_type='call' title='Call Macro' disable='1' macro='Delay_T0H' />
														<command class_type='decision' title='Decision' exp='Direct' swap='0' >
															<flowline >
																<command class_type='call' title='Call Macro' macro='OutputLow' />
															</flowline>
															<flowline >
																<command class_type='calculation' title='Calculation' >
																	<exp exp='MOSI = 0' />
																</command>
															</flowline>
														</command>
														<command class_type='native' title='C Code' ccode='scNsDelay(FCL_DELAYS[1]);' language='C' />
														<command class_type='call' title='Call Macro' disable='1' macro='Delay_T0L' />
													</flowline>
												</command>
												<command class_type='calculation' title='Shift to next data bit' >
													<exp exp='.Data = .Data &lt;&lt; 1' />
												</command>
											</flowline>
										</command>
										<command class_type='calculation' title='Collect Single RGB LED Data byte' >
											<exp exp='.Data = RGB[.Index][0]' />
										</command>
										<command class_type='loop' title='Loop' type='2' exp='8' >
											<flowline >
												<command class_type='decision' title='Test the state of the most significant bit' exp='.Data &amp; 0x80' swap='0' >
													<flowline >
														<command class_type='decision' title='Decision' exp='Direct' swap='0' >
															<flowline >
																<command class_type='call' title='Call Macro' macro='OutputHigh' />
															</flowline>
															<flowline >
																<command class_type='calculation' title='Calculation' >
																	<exp exp='MOSI = 1' />
																</command>
															</flowline>
														</command>
														<command class_type='native' title='C Code' ccode='scNsDelay(FCL_DELAYS[2]);' language='C' />
														<command class_type='call' title='Call Macro' disable='1' macro='Delay_T1H' />
														<command class_type='decision' title='Decision' exp='Direct' swap='0' >
															<flowline >
																<command class_type='call' title='Call Macro' macro='OutputLow' />
															</flowline>
															<flowline >
																<command class_type='calculation' title='Calculation' >
																	<exp exp='MOSI = 0' />
																</command>
															</flowline>
														</command>
														<command class_type='native' title='C Code' ccode='scNsDelay(FCL_DELAYS[3]);' language='C' />
														<command class_type='call' title='Call Macro' disable='1' macro='Delay_T1L' />
													</flowline>
													<flowline >
														<command class_type='decision' title='Decision' exp='Direct' swap='0' >
															<flowline >
																<command class_type='call' title='Call Macro' macro='OutputHigh' />
															</flowline>
															<flowline >
																<command class_type='calculation' title='Calculation' >
																	<exp exp='MOSI = 1' />
																</command>
															</flowline>
														</command>
														<command class_type='native' title='C Code' ccode='scNsDelay(FCL_DELAYS[0]);' language='C' />
														<command class_type='call' title='Call Macro' disable='1' macro='Delay_T0H' />
														<command class_type='decision' title='Decision' exp='Direct' swap='0' >
															<flowline >
																<command class_type='call' title='Call Macro' macro='OutputLow' />
															</flowline>
															<flowline >
																<command class_type='calculation' title='Calculation' >
																	<exp exp='MOSI = 0' />
																</command>
															</flowline>
														</command>
														<command class_type='native' title='C Code' ccode='scNsDelay(FCL_DELAYS[1]);' language='C' />
														<command class_type='call' title='Call Macro' disable='1' macro='Delay_T0L' />
													</flowline>
												</command>
												<command class_type='calculation' title='Shift to next data bit' >
													<exp exp='.Data = .Data &lt;&lt; 1' />
												</command>
											</flowline>
										</command>
										<command class_type='calculation' title='Collect Single RGB LED Data byte' >
											<exp exp='.Data = RGB[.Index][2]' />
										</command>
										<command class_type='loop' title='Loop' type='2' exp='8' >
											<flowline >
												<command class_type='decision' title='Test the state of the most significant bit' exp='.Data &amp; 0x80' swap='0' >
													<flowline >
														<command class_type='decision' title='Decision' exp='Direct' swap='0' >
															<flowline >
																<command class_type='call' title='Call Macro' macro='OutputHigh' />
															</flowline>
															<flowline >
																<command class_type='calculation' title='Calculation' >
																	<exp exp='MOSI = 1' />
																</command>
															</flowline>
														</command>
														<command class_type='native' title='C Code' ccode='scNsDelay(FCL_DELAYS[2]);' language='C' />
														<command class_type='call' title='Call Macro' disable='1' macro='Delay_T1H' />
														<command class_type='decision' title='Decision' exp='Direct' swap='0' >
															<flowline >
																<command class_type='call' title='Call Macro' macro='OutputLow' />
															</flowline>
															<flowline >
																<command class_type='calculation' title='Calculation' >
																	<exp exp='MOSI = 0' />
																</command>
															</flowline>
														</command>
														<command class_type='native' title='C Code' ccode='scNsDelay(FCL_DELAYS[3]);' language='C' />
														<command class_type='call' title='Call Macro' disable='1' macro='Delay_T1L' />
													</flowline>
													<flowline >
														<command class_type='decision' title='Decision' exp='Direct' swap='0' >
															<flowline >
																<command class_type='call' title='Call Macro' macro='OutputHigh' />
															</flowline>
															<flowline >
																<command class_type='calculation' title='Calculation' >
																	<exp exp='MOSI = 1' />
																</command>
															</flowline>
														</command>
														<command class_type='native' title='C Code' ccode='scNsDelay(FCL_DELAYS[0]);' language='C' />
														<command class_type='call' title='Call Macro' disable='1' macro='Delay_T0H' />
														<command class_type='decision' title='Decision' exp='Direct' swap='0' >
															<flowline >
																<command class_type='call' title='Call Macro' macro='OutputLow' />
															</flowline>
															<flowline >
																<command class_type='calculation' title='Calculation' >
																	<exp exp='MOSI = 0' />
																</command>
															</flowline>
														</command>
														<command class_type='native' title='C Code' ccode='scNsDelay(FCL_DELAYS[1]);' language='C' />
														<command class_type='call' title='Call Macro' disable='1' macro='Delay_T0L' />
													</flowline>
												</command>
												<command class_type='calculation' title='Shift to next data bit' >
													<exp exp='.Data = .Data &lt;&lt; 1' />
												</command>
											</flowline>
										</command>
									</flowline>
									<flowline >
										<command class_type='calculation' title='Collect Single RGB LED Data byte' >
											<exp exp='.Data = RGB[.Index][0]' />
										</command>
										<command class_type='loop' title='Loop' type='2' exp='8' >
											<flowline >
												<command class_type='decision' title='Test the state of the most significant bit' exp='.Data &amp; 0x80' swap='0' >
													<flowline >
														<command class_type='decision' title='Decision' exp='Direct' swap='0' >
															<flowline >
																<command class_type='call' title='Call Macro' macro='OutputHigh' />
															</flowline>
															<flowline >
																<command class_type='calculation' title='Calculation' >
																	<exp exp='MOSI = 1' />
																</command>
															</flowline>
														</command>
														<command class_type='native' title='C Code' ccode='scNsDelay(FCL_DELAYS[2]);' language='C' />
														<command class_type='call' title='Call Macro' disable='1' macro='Delay_T1H' />
														<command class_type='decision' title='Decision' exp='Direct' swap='0' >
															<flowline >
																<command class_type='call' title='Call Macro' macro='OutputLow' />
															</flowline>
															<flowline >
																<command class_type='calculation' title='Calculation' >
																	<exp exp='MOSI = 0' />
																</command>
															</flowline>
														</command>
														<command class_type='native' title='C Code' ccode='scNsDelay(FCL_DELAYS[3]);' language='C' />
														<command class_type='call' title='Call Macro' disable='1' macro='Delay_T1L' />
													</flowline>
													<flowline >
														<command class_type='decision' title='Decision' exp='Direct' swap='0' >
															<flowline >
																<command class_type='call' title='Call Macro' macro='OutputHigh' />
															</flowline>
															<flowline >
																<command class_type='calculation' title='Calculation' >
																	<exp exp='MOSI = 1' />
																</command>
															</flowline>
														</command>
														<command class_type='native' title='C Code' ccode='scNsDelay(FCL_DELAYS[0]);' language='C' />
														<command class_type='call' title='Call Macro' disable='1' macro='Delay_T0H' />
														<command class_type='decision' title='Decision' exp='Direct' swap='0' >
															<flowline >
																<command class_type='call' title='Call Macro' macro='OutputLow' />
															</flowline>
															<flowline >
																<command class_type='calculation' title='Calculation' >
																	<exp exp='MOSI = 0' />
																</command>
															</flowline>
														</command>
														<command class_type='native' title='C Code' ccode='scNsDelay(FCL_DELAYS[1]);' language='C' />
														<command class_type='call' title='Call Macro' disable='1' macro='Delay_T0L' />
													</flowline>
												</command>
												<command class_type='calculation' title='Shift to next data bit' >
													<exp exp='.Data = .Data &lt;&lt; 1' />
												</command>
											</flowline>
										</command>
										<command class_type='calculation' title='Collect Single RGB LED Data byte' >
											<exp exp='.Data = RGB[.Index][1]' />
										</command>
										<command class_type='loop' title='Loop' type='2' exp='8' >
											<flowline >
												<command class_type='decision' title='Test the state of the most significant bit' exp='.Data &amp; 0x80' swap='0' >
													<flowline >
														<command class_type='decision' title='Decision' exp='Direct' swap='0' >
															<flowline >
																<command class_type='call' title='Call Macro' macro='OutputHigh' />
															</flowline>
															<flowline >
																<command class_type='calculation' title='Calculation' >
																	<exp exp='MOSI = 1' />
																</command>
															</flowline>
														</command>
														<command class_type='native' title='C Code' ccode='scNsDelay(FCL_DELAYS[2]);' language='C' />
														<command class_type='call' title='Call Macro' disable='1' macro='Delay_T1H' />
														<command class_type='decision' title='Decision' exp='Direct' swap='0' >
															<flowline >
																<command class_type='call' title='Call Macro' macro='OutputLow' />
															</flowline>
															<flowline >
																<command class_type='calculation' title='Calculation' >
																	<exp exp='MOSI = 0' />
																</command>
															</flowline>
														</command>
														<command class_type='native' title='C Code' ccode='scNsDelay(FCL_DELAYS[3]);' language='C' />
														<command class_type='call' title='Call Macro' disable='1' macro='Delay_T1L' />
													</flowline>
													<flowline >
														<command class_type='decision' title='Decision' exp='Direct' swap='0' >
															<flowline >
																<command class_type='call' title='Call Macro' macro='OutputHigh' />
															</flowline>
															<flowline >
																<command class_type='calculation' title='Calculation' >
																	<exp exp='MOSI = 1' />
																</command>
															</flowline>
														</command>
														<command class_type='native' title='C Code' ccode='scNsDelay(FCL_DELAYS[0]);' language='C' />
														<command class_type='call' title='Call Macro' disable='1' macro='Delay_T0H' />
														<command class_type='decision' title='Decision' exp='Direct' swap='0' >
															<flowline >
																<command class_type='call' title='Call Macro' macro='OutputLow' />
															</flowline>
															<flowline >
																<command class_type='calculation' title='Calculation' >
																	<exp exp='MOSI = 0' />
																</command>
															</flowline>
														</command>
														<command class_type='native' title='C Code' ccode='scNsDelay(FCL_DELAYS[1]);' language='C' />
														<command class_type='call' title='Call Macro' disable='1' macro='Delay_T0L' />
													</flowline>
												</command>
												<command class_type='calculation' title='Shift to next data bit' >
													<exp exp='.Data = .Data &lt;&lt; 1' />
												</command>
											</flowline>
										</command>
										<command class_type='calculation' title='Collect Single RGB LED Data byte' >
											<exp exp='.Data = RGB[.Index][2]' />
										</command>
										<command class_type='loop' title='Loop' type='2' exp='8' >
											<flowline >
												<command class_type='decision' title='Test the state of the most significant bit' exp='.Data &amp; 0x80' swap='0' >
													<flowline >
														<command class_type='decision' title='Decision' exp='Direct' swap='0' >
															<flowline >
																<command class_type='call' title='Call Macro' macro='OutputHigh' />
															</flowline>
															<flowline >
																<command class_type='calculation' title='Calculation' >
																	<exp exp='MOSI = 1' />
																</command>
															</flowline>
														</command>
														<command class_type='native' title='C Code' ccode='scNsDelay(FCL_DELAYS[2]);' language='C' />
														<command class_type='call' title='Call Macro' disable='1' macro='Delay_T1H' />
														<command class_type='decision' title='Decision' exp='Direct' swap='0' >
															<flowline >
																<command class_type='call' title='Call Macro' macro='OutputLow' />
															</flowline>
															<flowline >
																<command class_type='calculation' title='Calculation' >
																	<exp exp='MOSI = 0' />
																</command>
															</flowline>
														</command>
														<command class_type='native' title='C Code' ccode='scNsDelay(FCL_DELAYS[3]);' language='C' />
														<command class_type='call' title='Call Macro' disable='1' macro='Delay_T1L' />
													</flowline>
													<flowline >
														<command class_type='decision' title='Decision' exp='Direct' swap='0' >
															<flowline >
																<command class_type='call' title='Call Macro' macro='OutputHigh' />
															</flowline>
															<flowline >
																<command class_type='calculation' title='Calculation' >
																	<exp exp='MOSI = 1' />
																</command>
															</flowline>
														</command>
														<command class_type='native' title='C Code' ccode='scNsDelay(FCL_DELAYS[0]);' language='C' />
														<command class_type='call' title='Call Macro' disable='1' macro='Delay_T0H' />
														<command class_type='decision' title='Decision' exp='Direct' swap='0' >
															<flowline >
																<command class_type='call' title='Call Macro' macro='OutputLow' />
															</flowline>
															<flowline >
																<command class_type='calculation' title='Calculation' >
																	<exp exp='MOSI = 0' />
																</command>
															</flowline>
														</command>
														<command class_type='native' title='C Code' ccode='scNsDelay(FCL_DELAYS[1]);' language='C' />
														<command class_type='call' title='Call Macro' disable='1' macro='Delay_T0L' />
													</flowline>
												</command>
												<command class_type='calculation' title='Shift to next data bit' >
													<exp exp='.Data = .Data &lt;&lt; 1' />
												</command>
											</flowline>
										</command>
									</flowline>
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='.Index = .Index + 1' />
								</command>
							</flowline>
						</command>
						<command class_type='native' title='C Code' ccode='#else' language='C' />
						<command class_type='loop' title='Loop' type='0' exp='.Index &lt; LED_Count' >
							<flowline >
								<command class_type='decision' title='WS2812(B)? - Clocks out data in the format GRB' exp='DataOrder &gt; 0' swap='0' >
									<flowline >
										<command class_type='calculation' title='Collect Single RGB LED Data byte' >
											<exp exp='.Data = RGB[.Index][1]' />
										</command>
										<command class_type='loop' title='Loop' type='2' exp='8' >
											<flowline >
												<command class_type='decision' title='Test the state of the most significant bit' exp='.Data &amp; 0x80' swap='0' >
													<flowline >
														<command class_type='decision' title='Decision' exp='Direct' swap='0' >
															<flowline >
																<command class_type='call' title='Call Macro' macro='OutputHigh' />
															</flowline>
															<flowline >
																<command class_type='decision' title='Decision' exp='InvertData' swap='0' >
																	<flowline >
																		<command class_type='calculation' title='Calculation' >
																			<exp exp='MOSI = 0' />
																		</command>
																	</flowline>
																	<flowline >
																		<command class_type='calculation' title='Calculation' >
																			<exp exp='MOSI = 1' />
																		</command>
																	</flowline>
																</command>
															</flowline>
														</command>
														<command class_type='call' title='Call Macro' macro='Delay_T1H' />
														<command class_type='decision' title='Decision' exp='Direct' swap='0' >
															<flowline >
																<command class_type='call' title='Call Macro' macro='OutputLow' />
															</flowline>
															<flowline >
																<command class_type='decision' title='Decision' exp='InvertData' swap='0' >
																	<flowline >
																		<command class_type='calculation' title='Calculation' >
																			<exp exp='MOSI = 1' />
																		</command>
																	</flowline>
																	<flowline >
																		<command class_type='calculation' title='Calculation' >
																			<exp exp='MOSI = 0' />
																		</command>
																	</flowline>
																</command>
															</flowline>
														</command>
														<command class_type='call' title='Call Macro' macro='Delay_T1L' />
													</flowline>
													<flowline >
														<command class_type='native' title='T0H is the only truly timing critical portion 200-500nS' ccode='#if defined(MX_CAL_PIC16)
__builtin_disi(0x3FFF); /* disable interrupts */
#endif' language='C' />
														<command class_type='decision' title='Decision' exp='Direct' swap='0' >
															<flowline >
																<command class_type='call' title='Call Macro' macro='OutputHigh' />
															</flowline>
															<flowline >
																<command class_type='decision' title='Decision' exp='InvertData' swap='0' >
																	<flowline >
																		<command class_type='calculation' title='Calculation' >
																			<exp exp='MOSI = 0' />
																		</command>
																	</flowline>
																	<flowline >
																		<command class_type='calculation' title='Calculation' >
																			<exp exp='MOSI = 1' />
																		</command>
																	</flowline>
																</command>
															</flowline>
														</command>
														<command class_type='call' title='Call Macro' macro='Delay_T0H' />
														<command class_type='decision' title='Decision' exp='Direct' swap='0' >
															<flowline >
																<command class_type='call' title='Call Macro' macro='OutputLow' />
															</flowline>
															<flowline >
																<command class_type='decision' title='Decision' exp='InvertData' swap='0' >
																	<flowline >
																		<command class_type='calculation' title='Calculation' >
																			<exp exp='MOSI = 1' />
																		</command>
																	</flowline>
																	<flowline >
																		<command class_type='calculation' title='Calculation' >
																			<exp exp='MOSI = 0' />
																		</command>
																	</flowline>
																</command>
															</flowline>
														</command>
														<command class_type='native' title='C Code' ccode='#if defined(MX_CAL_PIC16)
__builtin_disi(0x0000); /* re-enable interrupts */
#endif' language='C' />
														<command class_type='call' title='Call Macro' macro='Delay_T0L' />
													</flowline>
												</command>
												<command class_type='calculation' title='Shift to next data bit' >
													<exp exp='.Data = .Data &lt;&lt; 1' />
												</command>
											</flowline>
										</command>
										<command class_type='calculation' title='Collect Single RGB LED Data byte' >
											<exp exp='.Data = RGB[.Index][0]' />
										</command>
										<command class_type='loop' title='Loop' type='2' exp='8' >
											<flowline >
												<command class_type='decision' title='Test the state of the most significant bit' exp='.Data &amp; 0x80' swap='0' >
													<flowline >
														<command class_type='decision' title='Decision' exp='Direct' swap='0' >
															<flowline >
																<command class_type='call' title='Call Macro' macro='OutputHigh' />
															</flowline>
															<flowline >
																<command class_type='decision' title='Decision' exp='InvertData' swap='0' >
																	<flowline >
																		<command class_type='calculation' title='Calculation' >
																			<exp exp='MOSI = 0' />
																		</command>
																	</flowline>
																	<flowline >
																		<command class_type='calculation' title='Calculation' >
																			<exp exp='MOSI = 1' />
																		</command>
																	</flowline>
																</command>
															</flowline>
														</command>
														<command class_type='call' title='Call Macro' macro='Delay_T1H' />
														<command class_type='decision' title='Decision' exp='Direct' swap='0' >
															<flowline >
																<command class_type='call' title='Call Macro' macro='OutputLow' />
															</flowline>
															<flowline >
																<command class_type='decision' title='Decision' exp='InvertData' swap='0' >
																	<flowline >
																		<command class_type='calculation' title='Calculation' >
																			<exp exp='MOSI = 1' />
																		</command>
																	</flowline>
																	<flowline >
																		<command class_type='calculation' title='Calculation' >
																			<exp exp='MOSI = 0' />
																		</command>
																	</flowline>
																</command>
															</flowline>
														</command>
														<command class_type='call' title='Call Macro' macro='Delay_T1L' />
													</flowline>
													<flowline >
														<command class_type='native' title='T0H is the only truly timing critical portion 200-500nS' ccode='#if defined(MX_CAL_PIC16)
__builtin_disi(0x3FFF); /* disable interrupts */
#endif' language='C' />
														<command class_type='decision' title='Decision' exp='Direct' swap='0' >
															<flowline >
																<command class_type='call' title='Call Macro' macro='OutputHigh' />
															</flowline>
															<flowline >
																<command class_type='decision' title='Decision' exp='InvertData' swap='0' >
																	<flowline >
																		<command class_type='calculation' title='Calculation' >
																			<exp exp='MOSI = 0' />
																		</command>
																	</flowline>
																	<flowline >
																		<command class_type='calculation' title='Calculation' >
																			<exp exp='MOSI = 1' />
																		</command>
																	</flowline>
																</command>
															</flowline>
														</command>
														<command class_type='call' title='Call Macro' macro='Delay_T0H' />
														<command class_type='decision' title='Decision' exp='Direct' swap='0' >
															<flowline >
																<command class_type='call' title='Call Macro' macro='OutputLow' />
															</flowline>
															<flowline >
																<command class_type='decision' title='Decision' exp='InvertData' swap='0' >
																	<flowline >
																		<command class_type='calculation' title='Calculation' >
																			<exp exp='MOSI = 1' />
																		</command>
																	</flowline>
																	<flowline >
																		<command class_type='calculation' title='Calculation' >
																			<exp exp='MOSI = 0' />
																		</command>
																	</flowline>
																</command>
															</flowline>
														</command>
														<command class_type='native' title='C Code' ccode='#if defined(MX_CAL_PIC16)
__builtin_disi(0x0000); /* re-enable interrupts */
#endif' language='C' />
														<command class_type='call' title='Call Macro' macro='Delay_T0L' />
													</flowline>
												</command>
												<command class_type='calculation' title='Shift to next data bit' >
													<exp exp='.Data = .Data &lt;&lt; 1' />
												</command>
											</flowline>
										</command>
										<command class_type='calculation' title='Collect Single RGB LED Data byte' >
											<exp exp='.Data = RGB[.Index][2]' />
										</command>
										<command class_type='loop' title='Loop' type='2' exp='8' >
											<flowline >
												<command class_type='decision' title='Test the state of the most significant bit' exp='.Data &amp; 0x80' swap='0' >
													<flowline >
														<command class_type='decision' title='Decision' exp='Direct' swap='0' >
															<flowline >
																<command class_type='call' title='Call Macro' macro='OutputHigh' />
															</flowline>
															<flowline >
																<command class_type='decision' title='Decision' exp='InvertData' swap='0' >
																	<flowline >
																		<command class_type='calculation' title='Calculation' >
																			<exp exp='MOSI = 0' />
																		</command>
																	</flowline>
																	<flowline >
																		<command class_type='calculation' title='Calculation' >
																			<exp exp='MOSI = 1' />
																		</command>
																	</flowline>
																</command>
															</flowline>
														</command>
														<command class_type='call' title='Call Macro' macro='Delay_T1H' />
														<command class_type='decision' title='Decision' exp='Direct' swap='0' >
															<flowline >
																<command class_type='call' title='Call Macro' macro='OutputLow' />
															</flowline>
															<flowline >
																<command class_type='decision' title='Decision' exp='InvertData' swap='0' >
																	<flowline >
																		<command class_type='calculation' title='Calculation' >
																			<exp exp='MOSI = 1' />
																		</command>
																	</flowline>
																	<flowline >
																		<command class_type='calculation' title='Calculation' >
																			<exp exp='MOSI = 0' />
																		</command>
																	</flowline>
																</command>
															</flowline>
														</command>
														<command class_type='call' title='Call Macro' macro='Delay_T1L' />
													</flowline>
													<flowline >
														<command class_type='native' title='T0H is the only truly timing critical portion 200-500nS' ccode='#if defined(MX_CAL_PIC16)
__builtin_disi(0x3FFF); /* disable interrupts */
#endif' language='C' />
														<command class_type='decision' title='Decision' exp='Direct' swap='0' >
															<flowline >
																<command class_type='call' title='Call Macro' macro='OutputHigh' />
															</flowline>
															<flowline >
																<command class_type='decision' title='Decision' exp='InvertData' swap='0' >
																	<flowline >
																		<command class_type='calculation' title='Calculation' >
																			<exp exp='MOSI = 0' />
																		</command>
																	</flowline>
																	<flowline >
																		<command class_type='calculation' title='Calculation' >
																			<exp exp='MOSI = 1' />
																		</command>
																	</flowline>
																</command>
															</flowline>
														</command>
														<command class_type='call' title='Call Macro' macro='Delay_T0H' />
														<command class_type='decision' title='Decision' exp='Direct' swap='0' >
															<flowline >
																<command class_type='call' title='Call Macro' macro='OutputLow' />
															</flowline>
															<flowline >
																<command class_type='decision' title='Decision' exp='InvertData' swap='0' >
																	<flowline >
																		<command class_type='calculation' title='Calculation' >
																			<exp exp='MOSI = 1' />
																		</command>
																	</flowline>
																	<flowline >
																		<command class_type='calculation' title='Calculation' >
																			<exp exp='MOSI = 0' />
																		</command>
																	</flowline>
																</command>
															</flowline>
														</command>
														<command class_type='native' title='C Code' ccode='#if defined(MX_CAL_PIC16)
__builtin_disi(0x0000); /* re-enable interrupts */
#endif' language='C' />
														<command class_type='call' title='Call Macro' macro='Delay_T0L' />
													</flowline>
												</command>
												<command class_type='calculation' title='Shift to next data bit' >
													<exp exp='.Data = .Data &lt;&lt; 1' />
												</command>
											</flowline>
										</command>
									</flowline>
									<flowline >
										<command class_type='calculation' title='Collect Single RGB LED Data byte' >
											<exp exp='.Data = RGB[.Index][0]' />
										</command>
										<command class_type='loop' title='Loop' type='2' exp='8' >
											<flowline >
												<command class_type='decision' title='Test the state of the most significant bit' exp='.Data &amp; 0x80' swap='0' >
													<flowline >
														<command class_type='decision' title='Decision' exp='Direct' swap='0' >
															<flowline >
																<command class_type='call' title='Call Macro' macro='OutputHigh' />
															</flowline>
															<flowline >
																<command class_type='decision' title='Decision' exp='InvertData' swap='0' >
																	<flowline >
																		<command class_type='calculation' title='Calculation' >
																			<exp exp='MOSI = 0' />
																		</command>
																	</flowline>
																	<flowline >
																		<command class_type='calculation' title='Calculation' >
																			<exp exp='MOSI = 1' />
																		</command>
																	</flowline>
																</command>
															</flowline>
														</command>
														<command class_type='call' title='Call Macro' macro='Delay_T1H' />
														<command class_type='decision' title='Decision' exp='Direct' swap='0' >
															<flowline >
																<command class_type='call' title='Call Macro' macro='OutputLow' />
															</flowline>
															<flowline >
																<command class_type='decision' title='Decision' exp='InvertData' swap='0' >
																	<flowline >
																		<command class_type='calculation' title='Calculation' >
																			<exp exp='MOSI = 1' />
																		</command>
																	</flowline>
																	<flowline >
																		<command class_type='calculation' title='Calculation' >
																			<exp exp='MOSI = 0' />
																		</command>
																	</flowline>
																</command>
															</flowline>
														</command>
														<command class_type='call' title='Call Macro' macro='Delay_T1L' />
													</flowline>
													<flowline >
														<command class_type='decision' title='Decision' exp='Direct' swap='0' >
															<flowline >
																<command class_type='call' title='Call Macro' macro='OutputHigh' />
															</flowline>
															<flowline >
																<command class_type='decision' title='Decision' exp='InvertData' swap='0' >
																	<flowline >
																		<command class_type='calculation' title='Calculation' >
																			<exp exp='MOSI = 0' />
																		</command>
																	</flowline>
																	<flowline >
																		<command class_type='calculation' title='Calculation' >
																			<exp exp='MOSI = 1' />
																		</command>
																	</flowline>
																</command>
															</flowline>
														</command>
														<command class_type='call' title='Call Macro' macro='Delay_T0H' />
														<command class_type='decision' title='Decision' exp='Direct' swap='0' >
															<flowline >
																<command class_type='call' title='Call Macro' macro='OutputLow' />
															</flowline>
															<flowline >
																<command class_type='decision' title='Decision' exp='InvertData' swap='0' >
																	<flowline >
																		<command class_type='calculation' title='Calculation' >
																			<exp exp='MOSI = 1' />
																		</command>
																	</flowline>
																	<flowline >
																		<command class_type='calculation' title='Calculation' >
																			<exp exp='MOSI = 0' />
																		</command>
																	</flowline>
																</command>
															</flowline>
														</command>
														<command class_type='call' title='Call Macro' macro='Delay_T0L' />
													</flowline>
												</command>
												<command class_type='calculation' title='Shift to next data bit' >
													<exp exp='.Data = .Data &lt;&lt; 1' />
												</command>
											</flowline>
										</command>
										<command class_type='calculation' title='Collect Single RGB LED Data byte' >
											<exp exp='.Data = RGB[.Index][1]' />
										</command>
										<command class_type='loop' title='Loop' type='2' exp='8' >
											<flowline >
												<command class_type='decision' title='Test the state of the most significant bit' exp='.Data &amp; 0x80' swap='0' >
													<flowline >
														<command class_type='decision' title='Decision' exp='Direct' swap='0' >
															<flowline >
																<command class_type='call' title='Call Macro' macro='OutputHigh' />
															</flowline>
															<flowline >
																<command class_type='decision' title='Decision' exp='InvertData' swap='0' >
																	<flowline >
																		<command class_type='calculation' title='Calculation' >
																			<exp exp='MOSI = 0' />
																		</command>
																	</flowline>
																	<flowline >
																		<command class_type='calculation' title='Calculation' >
																			<exp exp='MOSI = 1' />
																		</command>
																	</flowline>
																</command>
															</flowline>
														</command>
														<command class_type='call' title='Call Macro' macro='Delay_T1H' />
														<command class_type='decision' title='Decision' exp='Direct' swap='0' >
															<flowline >
																<command class_type='call' title='Call Macro' macro='OutputLow' />
															</flowline>
															<flowline >
																<command class_type='decision' title='Decision' exp='InvertData' swap='0' >
																	<flowline >
																		<command class_type='calculation' title='Calculation' >
																			<exp exp='MOSI = 1' />
																		</command>
																	</flowline>
																	<flowline >
																		<command class_type='calculation' title='Calculation' >
																			<exp exp='MOSI = 0' />
																		</command>
																	</flowline>
																</command>
															</flowline>
														</command>
														<command class_type='call' title='Call Macro' macro='Delay_T1L' />
													</flowline>
													<flowline >
														<command class_type='decision' title='Decision' exp='Direct' swap='0' >
															<flowline >
																<command class_type='call' title='Call Macro' macro='OutputHigh' />
															</flowline>
															<flowline >
																<command class_type='decision' title='Decision' exp='InvertData' swap='0' >
																	<flowline >
																		<command class_type='calculation' title='Calculation' >
																			<exp exp='MOSI = 0' />
																		</command>
																	</flowline>
																	<flowline >
																		<command class_type='calculation' title='Calculation' >
																			<exp exp='MOSI = 1' />
																		</command>
																	</flowline>
																</command>
															</flowline>
														</command>
														<command class_type='call' title='Call Macro' macro='Delay_T0H' />
														<command class_type='decision' title='Decision' exp='Direct' swap='0' >
															<flowline >
																<command class_type='call' title='Call Macro' macro='OutputLow' />
															</flowline>
															<flowline >
																<command class_type='decision' title='Decision' exp='InvertData' swap='0' >
																	<flowline >
																		<command class_type='calculation' title='Calculation' >
																			<exp exp='MOSI = 1' />
																		</command>
																	</flowline>
																	<flowline >
																		<command class_type='calculation' title='Calculation' >
																			<exp exp='MOSI = 0' />
																		</command>
																	</flowline>
																</command>
															</flowline>
														</command>
														<command class_type='call' title='Call Macro' macro='Delay_T0L' />
													</flowline>
												</command>
												<command class_type='calculation' title='Shift to next data bit' >
													<exp exp='.Data = .Data &lt;&lt; 1' />
												</command>
											</flowline>
										</command>
										<command class_type='calculation' title='Collect Single RGB LED Data byte' >
											<exp exp='.Data = RGB[.Index][2]' />
										</command>
										<command class_type='loop' title='Loop' type='2' exp='8' >
											<flowline >
												<command class_type='decision' title='Test the state of the most significant bit' exp='.Data &amp; 0x80' swap='0' >
													<flowline >
														<command class_type='decision' title='Decision' exp='Direct' swap='0' >
															<flowline >
																<command class_type='call' title='Call Macro' macro='OutputHigh' />
															</flowline>
															<flowline >
																<command class_type='decision' title='Decision' exp='InvertData' swap='0' >
																	<flowline >
																		<command class_type='calculation' title='Calculation' >
																			<exp exp='MOSI = 0' />
																		</command>
																	</flowline>
																	<flowline >
																		<command class_type='calculation' title='Calculation' >
																			<exp exp='MOSI = 1' />
																		</command>
																	</flowline>
																</command>
															</flowline>
														</command>
														<command class_type='call' title='Call Macro' macro='Delay_T1H' />
														<command class_type='decision' title='Decision' exp='Direct' swap='0' >
															<flowline >
																<command class_type='call' title='Call Macro' macro='OutputLow' />
															</flowline>
															<flowline >
																<command class_type='decision' title='Decision' exp='InvertData' swap='0' >
																	<flowline >
																		<command class_type='calculation' title='Calculation' >
																			<exp exp='MOSI = 1' />
																		</command>
																	</flowline>
																	<flowline >
																		<command class_type='calculation' title='Calculation' >
																			<exp exp='MOSI = 0' />
																		</command>
																	</flowline>
																</command>
															</flowline>
														</command>
														<command class_type='call' title='Call Macro' macro='Delay_T1L' />
													</flowline>
													<flowline >
														<command class_type='decision' title='Decision' exp='Direct' swap='0' >
															<flowline >
																<command class_type='call' title='Call Macro' macro='OutputHigh' />
															</flowline>
															<flowline >
																<command class_type='decision' title='Decision' exp='InvertData' swap='0' >
																	<flowline >
																		<command class_type='calculation' title='Calculation' >
																			<exp exp='MOSI = 0' />
																		</command>
																	</flowline>
																	<flowline >
																		<command class_type='calculation' title='Calculation' >
																			<exp exp='MOSI = 1' />
																		</command>
																	</flowline>
																</command>
															</flowline>
														</command>
														<command class_type='call' title='Call Macro' macro='Delay_T0H' />
														<command class_type='decision' title='Decision' exp='Direct' swap='0' >
															<flowline >
																<command class_type='call' title='Call Macro' macro='OutputLow' />
															</flowline>
															<flowline >
																<command class_type='decision' title='Decision' exp='InvertData' swap='0' >
																	<flowline >
																		<command class_type='calculation' title='Calculation' >
																			<exp exp='MOSI = 1' />
																		</command>
																	</flowline>
																	<flowline >
																		<command class_type='calculation' title='Calculation' >
																			<exp exp='MOSI = 0' />
																		</command>
																	</flowline>
																</command>
															</flowline>
														</command>
														<command class_type='call' title='Call Macro' macro='Delay_T0L' />
													</flowline>
												</command>
												<command class_type='calculation' title='Shift to next data bit' >
													<exp exp='.Data = .Data &lt;&lt; 1' />
												</command>
											</flowline>
										</command>
									</flowline>
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='.Index = .Index + 1' />
								</command>
							</flowline>
						</command>
						<command class_type='native' title='C Code' ccode='#endif
#endif' language='C' />
					</flowline>
				</macro>
				<macro >
					<flowline name='ShiftLEDs1D' description='Shifts the LED colours in 1D and wraps ' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<param name='Direction' type='u8' description='0 = Forwards, 1 = Backwards' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='DataMode' type='u8' description='0=ResetToZero, 1=WrapAroundDisplay, 2=Smear' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='Index' type='u16' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='RS' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='GS' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='BS' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='decision' title='Forwards or Backwards?' exp='.Direction = 0' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' >
									<exp exp='.Index = LED_Count - 1' />
								</command>
								<command class_type='decision' title='Decision' exp='.DataMode = 1' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' >
											<exp exp='.RS = RGB[.Index][0]' />
											<exp exp='.GS = RGB[.Index][1]' />
											<exp exp='.BS = RGB[.Index][2]' />
										</command>
									</flowline>
									<flowline />
								</command>
								<command class_type='loop' title='Loop' type='0' exp='.Index &gt; 0' >
									<flowline >
										<command class_type='calculation' title='Calculation' >
											<exp exp='RGB[.Index][0] = RGB[.Index - 1][0]' />
											<exp exp='RGB[.Index][1] = RGB[.Index - 1][1]' />
											<exp exp='RGB[.Index][2] = RGB[.Index - 1][2]' />
										</command>
										<command class_type='calculation' title='Calculation' >
											<exp exp='.Index = .Index - 1' />
										</command>
									</flowline>
								</command>
							</flowline>
							<flowline >
								<command class_type='calculation' title='Calculation' >
									<exp exp='.Index = 0' />
								</command>
								<command class_type='decision' title='Decision' exp='.DataMode = 1' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' >
											<exp exp='.RS = RGB[.Index][0]' />
											<exp exp='.GS = RGB[.Index][1]' />
											<exp exp='.BS = RGB[.Index][2]' />
										</command>
									</flowline>
									<flowline />
								</command>
								<command class_type='loop' title='Loop' type='0' exp='.Index &lt; (LED_Count - 1)' >
									<flowline >
										<command class_type='calculation' title='Calculation' >
											<exp exp='RGB[.Index][0] = RGB[.Index + 1][0]' />
											<exp exp='RGB[.Index][1] = RGB[.Index + 1][1]' />
											<exp exp='RGB[.Index][2] = RGB[.Index + 1][2]' />
										</command>
										<command class_type='calculation' title='Calculation' >
											<exp exp='.Index = .Index + 1' />
										</command>
									</flowline>
								</command>
							</flowline>
						</command>
						<command class_type='switch' title='Switch' textarea='36,25,36,25' exp='.DataMode' >
							<case >
								<flowline >
									<command class_type='comment' title='' comment='Reset
' textarea='12,0,12,0' />
									<command class_type='calculation' title='Calculation' >
										<exp exp='RGB[.Index][0] = 0' />
										<exp exp='RGB[.Index][1] = 0' />
										<exp exp='RGB[.Index][2] = 0' />
									</command>
								</flowline>
							</case>
							<case exp='1' >
								<flowline >
									<command class_type='comment' title='' comment='Wrap
' textarea='12,0,12,0' />
									<command class_type='calculation' title='Calculation' >
										<exp exp='RGB[.Index][0] = .RS' />
										<exp exp='RGB[.Index][1] = .GS' />
										<exp exp='RGB[.Index][2] = .BS' />
									</command>
								</flowline>
							</case>
							<case exp='2' >
								<flowline >
									<command class_type='comment' title='' comment='Smear' textarea='12,0,12,0' />
								</flowline>
							</case>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='DrawLine3D' description='Draws a line on a 3D array of LEDs' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<param name='X1' type='u16' description='Start X Coordinate' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Y1' type='u16' description='Start Y Coordinate' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Z1' type='u16' description='Start Z Coordinate' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='X2' type='u16' description='End X Coordinate' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Y2' type='u16' description='End Y Coordinate' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Z2' type='u16' description='End Z Coordinate' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='R' type='u8' description='Red Colour Channel' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='G' type='u8' description='Green Colour Channel' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='B' type='u8' description='Blue Colour Channel' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='C1' type='s16' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='D1' type='s16' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
						<local name='M1' type='s16' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='PixelX' type='s16' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='PixelY' type='s16' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='XInc' type='s16' description='' isconst='0' isHidden='0' isinit='1' usrinit='1' setinit='1' />
						<local name='YInc' type='s16' description='' isconst='0' isHidden='0' isinit='1' usrinit='1' setinit='1' />
						<local name='ZInc' type='s16' description='' isconst='0' isHidden='0' isinit='1' usrinit='1' setinit='1' />
						<local name='PixelZ' type='s16' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='M2' type='s16' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='D2' type='s16' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
						<local name='Idx' type='u16' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='calculation' title='Calculation' >
							<exp exp='.PixelX = .X2 - .X1' />
							<exp exp='.PixelY = .Y2 - .Y1' />
							<exp exp='.PixelZ = .Z2 - .Z1' />
						</command>
						<command class_type='decision' title='If negative X direction' exp='.PixelX &lt; 0' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' >
									<exp exp='.XInc = -1' />
									<exp exp='.PixelX = .PixelX * -1' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='If negative Y direction' exp='.PixelY &lt; 0' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' >
									<exp exp='.YInc = -1' />
									<exp exp='.PixelY = .PixelY * -1' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='If negative Z direction' exp='.PixelZ &lt; 0' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' >
									<exp exp='.ZInc = -1' />
									<exp exp='.PixelZ = .PixelZ * -1' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='Decision' exp='(.PixelY &lt;= .PixelX) &amp;&amp; (.PixelZ &lt;= .PixelX)' swap='0' >
							<flowline >
								<command class_type='comment' title='' comment='X = Bigger than Y and Z' textarea='12,0,12,0' />
								<command class_type='calculation' title='Calculation' >
									<exp exp='.C1 = 2 * .PixelX' />
									<exp exp='.M1 = 2 * .PixelY' />
									<exp exp='.M2 = 2 * .PixelZ' />
								</command>
								<command class_type='loop' title='Loop' type='0' exp='.X1 != .X2' >
									<flowline >
										<command class_type='call' title='Call Macro' macro='GetLEDIndex3D' >
											<return exp='.Idx' />
											<argument exp='.X1' />
											<argument exp='.Y1' />
											<argument exp='.Z1' />
										</command>
										<command class_type='call' title='Call Macro' macro='SetLEDColour' >
											<argument exp='.Idx' />
											<argument exp='.R' />
											<argument exp='.G' />
											<argument exp='.B' />
										</command>
										<command class_type='calculation' title='Calculation' >
											<exp exp='.X1 = .X1 + .XInc' />
										</command>
										<command class_type='calculation' title='Calculation' >
											<exp exp='.D1 = .D1 + .M1' />
										</command>
										<command class_type='calculation' title='Calculation' >
											<exp exp='.D2 = .D2 + .M2' />
										</command>
										<command class_type='decision' title='Decision' exp='.D1 &gt; .PixelX' swap='0' >
											<flowline >
												<command class_type='calculation' title='Calculation' >
													<exp exp='.Y1 = .Y1 + .YInc' />
												</command>
												<command class_type='calculation' title='Calculation' >
													<exp exp='.D1 = .D1 - .C1' />
												</command>
											</flowline>
											<flowline />
										</command>
										<command class_type='decision' title='Decision' exp='.D2 &gt; .PixelX' swap='0' >
											<flowline >
												<command class_type='calculation' title='Calculation' >
													<exp exp='.Z1 = .Z1 + .ZInc' />
												</command>
												<command class_type='calculation' title='Calculation' >
													<exp exp='.D2 = .D2 - .C1' />
												</command>
											</flowline>
											<flowline />
										</command>
									</flowline>
								</command>
							</flowline>
							<flowline >
								<command class_type='decision' title='Decision' exp='(.PixelX &lt;= .PixelY) &amp;&amp; (.PixelZ &lt;= .PixelY)' swap='0' >
									<flowline >
										<command class_type='comment' title='' comment='Y = Bigger than X and Z' textarea='12,0,12,0' />
										<command class_type='calculation' title='Calculation' >
											<exp exp='.C1 = 2 * .PixelY' />
											<exp exp='.M1 = 2 * .PixelX' />
											<exp exp='.M2 = 2 * .PixelZ' />
										</command>
										<command class_type='loop' title='Loop' type='0' exp='.Y1 != .Y2' >
											<flowline >
												<command class_type='call' title='Call Macro' macro='GetLEDIndex3D' >
													<return exp='.Idx' />
													<argument exp='.X1' />
													<argument exp='.Y1' />
													<argument exp='.Z1' />
												</command>
												<command class_type='call' title='Call Macro' macro='SetLEDColour' >
													<argument exp='.Idx' />
													<argument exp='.R' />
													<argument exp='.G' />
													<argument exp='.B' />
												</command>
												<command class_type='calculation' title='Calculation' >
													<exp exp='.Y1 = .Y1 + .YInc' />
												</command>
												<command class_type='calculation' title='Calculation' >
													<exp exp='.D1 = .D1 + .M1' />
												</command>
												<command class_type='calculation' title='Calculation' >
													<exp exp='.D2 = .D2 + .M2' />
												</command>
												<command class_type='decision' title='Decision' exp='.D1 &gt; .PixelY' swap='0' >
													<flowline >
														<command class_type='calculation' title='Calculation' >
															<exp exp='.X1 = .X1 + .XInc' />
														</command>
														<command class_type='calculation' title='Calculation' >
															<exp exp='.D1 = .D1 - .C1' />
														</command>
													</flowline>
													<flowline />
												</command>
												<command class_type='decision' title='Decision' exp='.D2 &gt; .PixelY' swap='0' >
													<flowline >
														<command class_type='calculation' title='Calculation' >
															<exp exp='.Z1 = .Z1 + .ZInc' />
														</command>
														<command class_type='calculation' title='Calculation' >
															<exp exp='.D2 = .D2 - .C1' />
														</command>
													</flowline>
													<flowline />
												</command>
											</flowline>
										</command>
									</flowline>
									<flowline >
										<command class_type='comment' title='' comment='Z = Bigger than X and Y' textarea='12,0,12,0' />
										<command class_type='calculation' title='Calculation' >
											<exp exp='.C1 = 2 * .PixelZ' />
											<exp exp='.M1 = 2 * .PixelX' />
											<exp exp='.M2 = 2 * .PixelY' />
										</command>
										<command class_type='loop' title='Loop' type='0' exp='.Z1 != .Z2' >
											<flowline >
												<command class_type='call' title='Call Macro' macro='GetLEDIndex3D' >
													<return exp='.Idx' />
													<argument exp='.X1' />
													<argument exp='.Y1' />
													<argument exp='.Z1' />
												</command>
												<command class_type='call' title='Call Macro' macro='SetLEDColour' >
													<argument exp='.Idx' />
													<argument exp='.R' />
													<argument exp='.G' />
													<argument exp='.B' />
												</command>
												<command class_type='calculation' title='Calculation' >
													<exp exp='.Z1 = .Z1 + .ZInc' />
												</command>
												<command class_type='calculation' title='Calculation' >
													<exp exp='.D1 = .D1 + .M1' />
												</command>
												<command class_type='calculation' title='Calculation' >
													<exp exp='.D2 = .D2 + .M2' />
												</command>
												<command class_type='decision' title='Decision' exp='.D1 &gt; .PixelZ' swap='0' >
													<flowline >
														<command class_type='calculation' title='Calculation' >
															<exp exp='.X1 = .X1 + .XInc' />
														</command>
														<command class_type='calculation' title='Calculation' >
															<exp exp='.D1 = .D1 - .C1' />
														</command>
													</flowline>
													<flowline />
												</command>
												<command class_type='decision' title='Decision' exp='.D2 &gt; .PixelZ' swap='0' >
													<flowline >
														<command class_type='calculation' title='Calculation' >
															<exp exp='.Y1 = .Y1 + .YInc' />
														</command>
														<command class_type='calculation' title='Calculation' >
															<exp exp='.D2 = .D2 - .C1' />
														</command>
													</flowline>
													<flowline />
												</command>
											</flowline>
										</command>
									</flowline>
								</command>
							</flowline>
						</command>
						<command class_type='call' title='Call Macro' macro='GetLEDIndex3D' >
							<return exp='.Idx' />
							<argument exp='.X1' />
							<argument exp='.Y1' />
							<argument exp='.Z1' />
						</command>
						<command class_type='call' title='Call Macro' macro='SetLEDColour' >
							<argument exp='.Idx' />
							<argument exp='.R' />
							<argument exp='.G' />
							<argument exp='.B' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Delay_T1H' description='' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
					</flowline>
				</macro>
				<macro >
					<flowline name='GetLEDIndex2D' description='Sets the index of a single LED in RAM as a 2D array.' statediag='0' >
						<return name='Return' type='u16' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='X' type='u16' description='LED Column to change the colour / Range: 0 to (LED Column - 1)' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Y' type='u16' description='LED Row to change the colour / Range: 0 to (LED Row - 1)' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='decision' title='Decision' exp='(.X &gt;= LED_Cols) || (.Y &gt;= LED_Rows)' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' >
									<exp exp='.Return = LED_Count' />
								</command>
							</flowline>
							<flowline >
								<command class_type='decision' title='Decision' exp='sequence' swap='0' >
									<flowline >
										<command class_type='decision' title='Test the least significant bit to see which way we are flowing' exp='.Y &amp; 0x01' swap='0' >
											<flowline >
												<command class_type='comment' title='' comment='Reversed Direction' textarea='12,0,12,0' />
												<command class_type='decision' title='Decision' exp='FlipX' swap='0' >
													<flowline />
													<flowline >
														<command class_type='calculation' title='Calculation' >
															<exp exp='.X = LED_Cols - .X - 1' />
														</command>
													</flowline>
												</command>
											</flowline>
											<flowline >
												<command class_type='comment' title='' comment='Standard Direction' textarea='12,0,12,0' />
												<command class_type='decision' title='Decision' exp='FlipX' swap='0' >
													<flowline >
														<command class_type='calculation' title='Calculation' >
															<exp exp='.X = LED_Cols - .X - 1' />
														</command>
													</flowline>
													<flowline />
												</command>
											</flowline>
										</command>
									</flowline>
									<flowline >
										<command class_type='comment' title='' comment='Standard Direction' textarea='12,0,12,0' />
										<command class_type='decision' title='Decision' exp='FlipX' swap='0' >
											<flowline >
												<command class_type='calculation' title='Calculation' >
													<exp exp='.X = LED_Cols - .X - 1' />
												</command>
											</flowline>
											<flowline />
										</command>
									</flowline>
								</command>
								<command class_type='decision' title='Decision' exp='FlipY' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculate index' >
											<exp exp='.Return = ((LED_Rows - .Y - 1) * LED_Cols) + .X' />
										</command>
									</flowline>
									<flowline >
										<command class_type='calculation' title='Calculate index' >
											<exp exp='.Return = (.Y * LED_Cols) + .X' />
										</command>
									</flowline>
								</command>
							</flowline>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='DrawRectangle2D' description='Draws a basic 2D rectangle onto the LEDs' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<param name='X1' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Y1' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='X2' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Y2' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='DrawStyle' type='u8' description='Sets the draw style - 0=Soild, 1=Edge, 2=Corners' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='R' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='G' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='B' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='YS' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='ZS' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='XS' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='Count' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='Index' type='u16' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='calculation' title='Calculation' >
							<exp exp='.XS = .X1' />
							<exp exp='.YS = .Y1' />
						</command>
						<command class_type='loop' title='While X not Complete' type='0' exp='1' >
							<flowline >
								<command class_type='calculation' title='Calculation' >
									<exp exp='.Y1 = .YS' />
								</command>
								<command class_type='loop' title='While Y Not Complete' type='0' exp='1' >
									<flowline >
										<command class_type='switch' title='Switch' textarea='36,25,36,25' exp='.DrawStyle' >
											<case >
												<flowline >
													<command class_type='comment' title='' comment='Solid
' textarea='36,21,36,21' />
													<command class_type='call' title='Get LED Index' macro='GetLEDIndex2D' >
														<return exp='.Index' />
														<argument exp='.X1' />
														<argument exp='.Y1' />
													</command>
													<command class_type='call' title='Colour LED' macro='SetLEDColour' >
														<argument exp='.Index' />
														<argument exp='.R' />
														<argument exp='.G' />
														<argument exp='.B' />
													</command>
												</flowline>
											</case>
											<case exp='1' >
												<flowline >
													<command class_type='comment' title='' comment='Edge' textarea='36,21,36,21' />
													<command class_type='calculation' title='Calculation' >
														<exp exp='.Count = 0' />
													</command>
													<command class_type='decision' title='Are we on an edge of at least two axis?' exp='(.X1 = .XS) || (.X1 = .X2)' swap='0' >
														<flowline >
															<command class_type='calculation' title='Calculation' >
																<exp exp='.Count = .Count + 1' />
															</command>
														</flowline>
														<flowline />
													</command>
													<command class_type='decision' title='Decision' exp='(.Y1 = .YS) || (.Y1 = .Y2)' swap='0' >
														<flowline >
															<command class_type='calculation' title='Calculation' >
																<exp exp='.Count = .Count + 1' />
															</command>
														</flowline>
														<flowline />
													</command>
													<command class_type='decision' title='On at least 1 Axis?' exp='.Count &gt; 0' swap='0' >
														<flowline >
															<command class_type='call' title='Get LED Index' macro='GetLEDIndex2D' >
																<return exp='.Index' />
																<argument exp='.X1' />
																<argument exp='.Y1' />
															</command>
															<command class_type='call' title='Colour LED' macro='SetLEDColour' >
																<argument exp='.Index' />
																<argument exp='.R' />
																<argument exp='.G' />
																<argument exp='.B' />
															</command>
														</flowline>
														<flowline />
													</command>
												</flowline>
											</case>
											<case exp='2' >
												<flowline >
													<command class_type='comment' title='' comment='Corners
' textarea='36,21,36,21' />
													<command class_type='calculation' title='Calculation' >
														<exp exp='.Count = 0' />
													</command>
													<command class_type='decision' title='Are we on an edge of at least two axis?' exp='(.X1 = .XS) || (.X1 = .X2)' swap='0' >
														<flowline >
															<command class_type='calculation' title='Calculation' >
																<exp exp='.Count = .Count + 1' />
															</command>
														</flowline>
														<flowline />
													</command>
													<command class_type='decision' title='Decision' exp='(.Y1 = .YS) || (.Y1 = .Y2)' swap='0' >
														<flowline >
															<command class_type='calculation' title='Calculation' >
																<exp exp='.Count = .Count + 1' />
															</command>
														</flowline>
														<flowline />
													</command>
													<command class_type='decision' title='On at least 2 Axis?' exp='.Count &gt; 1' swap='0' >
														<flowline >
															<command class_type='call' title='Get LED Index' macro='GetLEDIndex2D' >
																<return exp='.Index' />
																<argument exp='.X1' />
																<argument exp='.Y1' />
															</command>
															<command class_type='call' title='Colour LED' macro='SetLEDColour' >
																<argument exp='.Index' />
																<argument exp='.R' />
																<argument exp='.G' />
																<argument exp='.B' />
															</command>
														</flowline>
														<flowline />
													</command>
												</flowline>
											</case>
										</command>
										<command class_type='decision' title='Decision' exp='.Y1 &gt; .Y2' swap='0' >
											<flowline >
												<command class_type='calculation' title='Calculation' >
													<exp exp='.Y1 = .Y1 - 1' />
												</command>
											</flowline>
											<flowline >
												<command class_type='decision' title='Decision' exp='.Y1 &lt; .Y2' swap='0' >
													<flowline >
														<command class_type='calculation' title='Calculation' >
															<exp exp='.Y1 = .Y1 + 1' />
														</command>
													</flowline>
													<flowline >
														<command class_type='goto' title='Goto Connection Point' labelid='1' labelname='' />
													</flowline>
												</command>
											</flowline>
										</command>
									</flowline>
								</command>
								<command class_type='label' title='Connection Point' labelid='1' labelname='B' />
								<command class_type='decision' title='Decision' exp='.X1 &gt; .X2' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' >
											<exp exp='.X1 = .X1 - 1' />
										</command>
									</flowline>
									<flowline >
										<command class_type='decision' title='Decision' exp='.X1 &lt; .X2' swap='0' >
											<flowline >
												<command class_type='calculation' title='Calculation' >
													<exp exp='.X1 = .X1 + 1' />
												</command>
											</flowline>
											<flowline >
												<command class_type='goto' title='Goto Connection Point' labelid='2' labelname='' />
											</flowline>
										</command>
									</flowline>
								</command>
							</flowline>
						</command>
						<command class_type='label' title='Connection Point' labelid='2' labelname='C' />
					</flowline>
				</macro>
				<macro >
					<flowline name='Ev_AddHeader' description='Sent to a component to allow dynamic amendment of header code' statediag='0' >
						<return name='Return' type='u32' description='Non-zero to block header code insertion' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='HeadCode' type='T8*' description='Text to amend for header' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</param>
						<local name='tempstr' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='count' type='u16' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='Name' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='NStr' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='PStr' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='TStr' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='Expansion' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<command class_type='calculation' title='Calculation' >
							<exp exp='.Return = 0' />
						</command>
						<command class_type='sim' title='Simulation' macro='Component.Property.GetValue' >
							<return exp='.PStr' />
							<argument exp='this' />
							<argument exp='&quot;MOSI&quot;' />
						</command>
						<command class_type='calculation' title='Calculation' >
							<exp exp='.TStr[0] = .PStr[5]' />
							<exp exp='.TStr[1] = 0' />
						</command>
						<command class_type='calculation' title='Calculation' >
							<exp exp='.NStr[0] = .PStr[7]' />
							<exp exp='.NStr[1] = .PStr[8]' />
							<exp exp='.NStr[2] = .PStr[9]' />
						</command>
						<command class_type='decision' title='Decision' exp='Compare$ (DeviceFamily,&quot;STARM&quot;,1) == 0' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' >
									<exp exp='.tempstr = .tempstr + &quot;\n\nvolatile MX_UINT32 NopCount;\n&quot;' />
									<exp exp='.tempstr = .tempstr + &quot;volatile MX_UINT32 ST_TIMINGS;\n&quot;' />
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='.tempstr = .tempstr + &quot;//WS2811 Bit Timings\n\n//Data 1 High Pulse Timing : &quot; + STRING T1H + &quot;us\n&quot;' />
									<exp exp='' />
								</command>
								<command class_type='sim' title='Simulation' macro='Expand.MacroName' >
									<return exp='.Name' />
									<argument exp='&quot;Delay_T1H&quot;' />
									<argument exp='this' />
								</command>
								<command class_type='decision' title='Decision' exp='T1HNops &gt; 0' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' >
											<exp exp='.tempstr = .tempstr + &quot;#define &quot; + .Name + &quot;() {NopCount = &quot; + STRING T1HNops + &quot;; while(NopCount--); }\n&quot;' />
										</command>
									</flowline>
									<flowline >
										<command class_type='calculation' title='Calculation' >
											<exp exp='.tempstr = .tempstr + &quot;#define &quot; + .Name + &quot;() \n&quot;' />
										</command>
									</flowline>
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='.tempstr = .tempstr + &quot;//Data 1 Low Pulse Timing : &quot; + STRING T1L + &quot;us\n&quot;' />
									<exp exp='' />
								</command>
								<command class_type='sim' title='Simulation' macro='Expand.MacroName' >
									<return exp='.Name' />
									<argument exp='&quot;Delay_T1L&quot;' />
									<argument exp='this' />
								</command>
								<command class_type='decision' title='Decision' exp='T1LNops &gt; 0' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' >
											<exp exp='.tempstr = .tempstr + &quot;#define &quot; + .Name + &quot;() {NopCount = &quot; + STRING T1LNops + &quot;; while(NopCount--); }\n&quot;' />
										</command>
									</flowline>
									<flowline >
										<command class_type='calculation' title='Calculation' >
											<exp exp='.tempstr = .tempstr + &quot;#define &quot; + .Name + &quot;() \n&quot;' />
										</command>
									</flowline>
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='.tempstr = .tempstr + &quot;//Data 0 High Pulse Timing : &quot; + STRING T0H + &quot;us\n&quot;' />
									<exp exp='' />
								</command>
								<command class_type='sim' title='Simulation' macro='Expand.MacroName' >
									<return exp='.Name' />
									<argument exp='&quot;Delay_T0H&quot;' />
									<argument exp='this' />
								</command>
								<command class_type='decision' title='Decision' exp='T0HNops &gt; 0' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' >
											<exp exp='.tempstr = .tempstr + &quot;#define &quot; + .Name + &quot;() {NopCount = &quot; + STRING T0HNops + &quot;; while(NopCount--);}\n&quot;' />
										</command>
									</flowline>
									<flowline >
										<command class_type='calculation' title='Calculation' >
											<exp exp='.tempstr = .tempstr + &quot;#define &quot; + .Name + &quot;() \n&quot;' />
										</command>
									</flowline>
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='.tempstr = .tempstr + &quot;//Data 0 Low Pulse Timing : &quot; + STRING T0L + &quot;us\n&quot;' />
									<exp exp='' />
								</command>
								<command class_type='sim' title='Simulation' macro='Expand.MacroName' >
									<return exp='.Name' />
									<argument exp='&quot;Delay_T0L&quot;' />
									<argument exp='this' />
								</command>
								<command class_type='decision' title='Decision' exp='T0LNops &gt; 0' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' >
											<exp exp='.tempstr = .tempstr + &quot;#define &quot; + .Name + &quot;() {NopCount = &quot; + STRING T0LNops + &quot;; while(NopCount--);}\n&quot;' />
										</command>
									</flowline>
									<flowline >
										<command class_type='calculation' title='Calculation' >
											<exp exp='.tempstr = .tempstr + &quot;#define &quot; + .Name + &quot;() \n&quot;' />
										</command>
									</flowline>
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='.tempstr = .tempstr + &quot;\n\n&quot;' />
									<exp exp='' />
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='.HeadCode = .HeadCode + .tempstr' />
								</command>
								<command class_type='sim' title='Simulation' macro='Expand.MacroName' >
									<return exp='.Name' />
									<argument exp='&quot;OutputHigh&quot;' />
									<argument exp='this' />
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='.Expansion = &quot;#define &quot; + .Name' />
									<exp exp='.Expansion = .Expansion + &quot;() GPIO_BIT_VAL_DEF(&quot;' />
									<exp exp='.Expansion = .Expansion + .TStr' />
									<exp exp='.Expansion = .Expansion + &quot;, &quot;' />
									<exp exp='.Expansion = .Expansion + .NStr' />
									<exp exp='.Expansion = .Expansion + &quot;, 1)\n\n&quot;' />
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='.HeadCode = .HeadCode + .Expansion' />
								</command>
								<command class_type='sim' title='Simulation' macro='Expand.MacroName' >
									<return exp='.Name' />
									<argument exp='&quot;OutputLow&quot;' />
									<argument exp='this' />
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='.Expansion = &quot;#define &quot; + .Name' />
									<exp exp='.Expansion = .Expansion + &quot;() GPIO_BIT_VAL_DEF(&quot;' />
									<exp exp='.Expansion = .Expansion + .TStr' />
									<exp exp='.Expansion = .Expansion + &quot;, &quot;' />
									<exp exp='.Expansion = .Expansion + .NStr' />
									<exp exp='.Expansion = .Expansion + &quot;, 0)\n\n&quot;' />
								</command>
								<command class_type='calculation' title='Calculation' >
									<exp exp='.HeadCode = .HeadCode + .Expansion' />
								</command>
							</flowline>
							<flowline >
								<command class_type='decision' title='Decision' exp='Compare$ (DeviceFamily,&quot;ESP&quot;,1) == 0' swap='0' >
									<flowline >
										<command class_type='decision' title='Odd LED Count?' exp='LED_Count &amp; 1' swap='0' >
											<flowline >
												<command class_type='calculation' title='Calculation' >
													<exp exp='.HeadCode = .HeadCode + &quot;#warning LED Count needs to be an even number on ESP32\n&quot;' />
												</command>
											</flowline>
											<flowline />
										</command>
										<command class_type='sim' title='Get RMT Instance - Channel' macro='Component.GetInstance' >
											<return exp='.count' />
											<argument exp='ESP32_RMT1' />
										</command>
										<command class_type='calculation' title='Add channel to buffer definition' >
											<exp exp='.Expansion = &quot;#define MX_RMT_BUFFER MX_RMT_Buffer_&quot; + STRING .Count + &quot;\n&quot;' />
										</command>
										<command class_type='calculation' title='Calculation' >
											<exp exp='.HeadCode = .HeadCode + .Expansion' />
										</command>
										<command class_type='calculation' title='Calculation' >
											<exp exp='.Count = (FLOAT T0H / FLOAT 0.025)' />
										</command>
										<command class_type='calculation' title='Add channel to buffer definition' >
											<exp exp='.Expansion = &quot;#define ESP32_T0H &quot; + STRING .Count + &quot;\n&quot;' />
										</command>
										<command class_type='calculation' title='Calculation' >
											<exp exp='.HeadCode = .HeadCode + .Expansion' />
										</command>
										<command class_type='calculation' title='Calculation' >
											<exp exp='.Count = (FLOAT T0L / FLOAT 0.025)' />
										</command>
										<command class_type='calculation' title='Add channel to buffer definition' >
											<exp exp='.Expansion = &quot;#define ESP32_T0L &quot; + STRING .Count + &quot;\n&quot;' />
										</command>
										<command class_type='calculation' title='Calculation' >
											<exp exp='.HeadCode = .HeadCode + .Expansion' />
										</command>
										<command class_type='calculation' title='Calculation' >
											<exp exp='.Count = (FLOAT T1H / FLOAT 0.025)' />
										</command>
										<command class_type='calculation' title='Add channel to buffer definition' >
											<exp exp='.Expansion = &quot;#define ESP32_T1H &quot; + STRING .Count + &quot;\n&quot;' />
										</command>
										<command class_type='calculation' title='Calculation' >
											<exp exp='.HeadCode = .HeadCode + .Expansion' />
										</command>
										<command class_type='calculation' title='Calculation' >
											<exp exp='.Count = (FLOAT T1L / FLOAT 0.025)' />
										</command>
										<command class_type='calculation' title='Add channel to buffer definition' >
											<exp exp='.Expansion = &quot;#define ESP32_T1L &quot; + STRING .Count + &quot;\n&quot;' />
										</command>
										<command class_type='calculation' title='Calculation' >
											<exp exp='.HeadCode = .HeadCode + .Expansion' />
										</command>
									</flowline>
									<flowline >
										<command class_type='decision' title='Decision' exp='Compare$ (DeviceFamily,&quot;PICO&quot;,1) == 0' swap='0' >
											<flowline >
												<command class_type='calculation' title='Calculation' >
													<exp exp='.tempstr = &quot;\n\n//WS2811 Bit Timings\n\n//Data 1 High Pulse Timing : &quot; + STRING T1H + &quot;us - &quot; + STRING T1HNops + &quot; Instruction cycles\n&quot;' />
													<exp exp='' />
												</command>
												<command class_type='sim' title='Simulation' macro='Expand.MacroName' >
													<return exp='.Name' />
													<argument exp='&quot;Delay_T1H&quot;' />
													<argument exp='this' />
												</command>
												<command class_type='decision' title='Decision' exp='T1HNops &gt; 0' swap='0' >
													<flowline >
														<command class_type='calculation' title='Calculation' >
															<exp exp='.tempstr = .tempstr + &quot;#define &quot; + .Name + &quot;() { __asm volatile (\&quot;&quot;' />
														</command>
														<command class_type='calculation' title='Calculation' >
															<exp exp='.count = 0' />
														</command>
														<command class_type='loop' title='Loop' type='0' exp='.count &lt; T1HNops' >
															<flowline >
																<command class_type='calculation' title='Calculation' >
																	<exp exp='.tempstr = .tempstr + &quot;nop\\n&quot;' />
																	<exp exp='' />
																</command>
																<command class_type='calculation' title='Calculation' >
																	<exp exp='.count = .count + 1' />
																</command>
															</flowline>
														</command>
														<command class_type='calculation' title='Calculation' >
															<exp exp='.tempstr = .tempstr + &quot;\&quot;); }\n\n&quot;' />
														</command>
													</flowline>
													<flowline >
														<command class_type='calculation' title='Calculation' >
															<exp exp='.tempstr = .tempstr + &quot;#define &quot; + .Name + &quot;() \n&quot;' />
														</command>
													</flowline>
												</command>
												<command class_type='calculation' title='Calculation' >
													<exp exp='.tempstr = .tempstr + &quot;//Data 1 Low Pulse Timing : &quot; + STRING T1L + &quot;us\n&quot;' />
													<exp exp='' />
												</command>
												<command class_type='sim' title='Simulation' macro='Expand.MacroName' >
													<return exp='.Name' />
													<argument exp='&quot;Delay_T1L&quot;' />
													<argument exp='this' />
												</command>
												<command class_type='decision' title='Decision' exp='T1LNops &gt; 0' swap='0' >
													<flowline >
														<command class_type='calculation' title='Calculation' >
															<exp exp='.tempstr = .tempstr + &quot;#define &quot; + .Name + &quot;() { __asm volatile (\&quot;&quot;' />
														</command>
														<command class_type='calculation' title='Calculation' >
															<exp exp='.count = 0' />
														</command>
														<command class_type='loop' title='Loop' type='0' exp='.count &lt; T1LNops' >
															<flowline >
																<command class_type='calculation' title='Calculation' >
																	<exp exp='.tempstr = .tempstr + &quot;nop\\n&quot;' />
																	<exp exp='' />
																</command>
																<command class_type='calculation' title='Calculation' >
																	<exp exp='.count = .count + 1' />
																</command>
															</flowline>
														</command>
														<command class_type='calculation' title='Calculation' >
															<exp exp='.tempstr = .tempstr + &quot;\&quot;); }\n\n&quot;' />
														</command>
													</flowline>
													<flowline >
														<command class_type='calculation' title='Calculation' >
															<exp exp='.tempstr = .tempstr + &quot;#define &quot; + .Name + &quot;() \n&quot;' />
														</command>
													</flowline>
												</command>
												<command class_type='calculation' title='Calculation' >
													<exp exp='.tempstr = .tempstr + &quot;//Data 0 High Pulse Timing : &quot; + STRING T0H + &quot;us\n&quot;' />
													<exp exp='' />
												</command>
												<command class_type='sim' title='Simulation' macro='Expand.MacroName' >
													<return exp='.Name' />
													<argument exp='&quot;Delay_T0H&quot;' />
													<argument exp='this' />
												</command>
												<command class_type='decision' title='Decision' exp='T0HNops &gt; 0' swap='0' >
													<flowline >
														<command class_type='calculation' title='Calculation' >
															<exp exp='.tempstr = .tempstr + &quot;#define &quot; + .Name + &quot;() { __asm volatile (\&quot;&quot;' />
														</command>
														<command class_type='calculation' title='Calculation' >
															<exp exp='.count = 0' />
														</command>
														<command class_type='loop' title='Loop' type='0' exp='.count &lt; T0HNops' >
															<flowline >
																<command class_type='calculation' title='Calculation' >
																	<exp exp='.tempstr = .tempstr + &quot;nop\\n&quot;' />
																	<exp exp='' />
																</command>
																<command class_type='calculation' title='Calculation' >
																	<exp exp='.count = .count + 1' />
																</command>
															</flowline>
														</command>
														<command class_type='calculation' title='Calculation' >
															<exp exp='.tempstr = .tempstr + &quot;\&quot;); }\n\n&quot;' />
														</command>
													</flowline>
													<flowline >
														<command class_type='calculation' title='Calculation' >
															<exp exp='.tempstr = .tempstr + &quot;#define &quot; + .Name + &quot;() \n&quot;' />
														</command>
													</flowline>
												</command>
												<command class_type='calculation' title='Calculation' >
													<exp exp='.tempstr = .tempstr + &quot;//Data 0 Low Pulse Timing : &quot; + STRING T0L + &quot;us\n&quot;' />
													<exp exp='' />
												</command>
												<command class_type='sim' title='Simulation' macro='Expand.MacroName' >
													<return exp='.Name' />
													<argument exp='&quot;Delay_T0L&quot;' />
													<argument exp='this' />
												</command>
												<command class_type='decision' title='Decision' exp='T0LNops &gt; 0' swap='0' >
													<flowline >
														<command class_type='calculation' title='Calculation' >
															<exp exp='.tempstr = .tempstr + &quot;#define &quot; + .Name + &quot;() { __asm volatile (\&quot;&quot;' />
														</command>
														<command class_type='calculation' title='Calculation' >
															<exp exp='.count = 0' />
														</command>
														<command class_type='loop' title='Loop' type='0' exp='.count &lt; T0LNops' >
															<flowline >
																<command class_type='calculation' title='Calculation' >
																	<exp exp='.tempstr = .tempstr + &quot;nop\\n&quot;' />
																	<exp exp='' />
																</command>
																<command class_type='calculation' title='Calculation' >
																	<exp exp='.count = .count + 1' />
																</command>
															</flowline>
														</command>
														<command class_type='calculation' title='Calculation' >
															<exp exp='.tempstr = .tempstr + &quot;\&quot;); }\n\n&quot;' />
														</command>
													</flowline>
													<flowline >
														<command class_type='calculation' title='Calculation' >
															<exp exp='.tempstr = .tempstr + &quot;#define &quot; + .Name + &quot;() \n&quot;' />
														</command>
													</flowline>
												</command>
												<command class_type='calculation' title='Calculation' >
													<exp exp='.tempstr = .tempstr + &quot;\n\n&quot;' />
													<exp exp='' />
												</command>
												<command class_type='calculation' title='Calculation' >
													<exp exp='.HeadCode = .HeadCode + .tempstr' />
												</command>
												<command class_type='decision' title='Decision' exp='(T1HNops &lt; 10) || ((T1LNops &lt; 10) || ((T0HNops &lt; 10) || (T0LNops &lt; 10)))' swap='0' >
													<flowline >
														<command class_type='calculation' title='Calculation' >
															<exp exp='.HeadCode = .HeadCode + &quot;#warning WS2811 Timings are less than 10 instructions, timing may be incorrect at the current clock speed\n&quot;' />
														</command>
													</flowline>
													<flowline />
												</command>
												<command class_type='calculation' title='Calculation' >
													<exp exp='.Name = DeviceFamily' />
													<exp exp='.Name = Left$ (.Name,3)' />
												</command>
											</flowline>
											<flowline >
												<command class_type='sim' title='Simulation' macro='Expand.MacroName' >
													<return exp='.Name' />
													<argument exp='&quot;Delay_T1H&quot;' />
													<argument exp='this' />
												</command>
												<command class_type='calculation' title='Calculation' >
													<exp exp='.tempstr = &quot;\n\n//WS2811 Bit Timings\n\n//Data 1 High Pulse Timing : &quot; + STRING T1H + &quot;us - &quot; + STRING T1HNops + &quot; Instruction cycles\n#define &quot; + .Name + &quot;() &quot;' />
													<exp exp='' />
												</command>
												<command class_type='calculation' title='Calculation' >
													<exp exp='.count = 0' />
												</command>
												<command class_type='loop' title='Loop' type='0' exp='.count &lt; T1HNops' >
													<flowline >
														<command class_type='calculation' title='Calculation' >
															<exp exp='.tempstr = .tempstr + &quot; nop();&quot;' />
															<exp exp='' />
														</command>
														<command class_type='calculation' title='Calculation' >
															<exp exp='.count = .count + 1' />
														</command>
													</flowline>
												</command>
												<command class_type='calculation' title='Calculation' >
													<exp exp='.tempstr = .tempstr + &quot;\n\n&quot;' />
													<exp exp='' />
												</command>
												<command class_type='calculation' title='Calculation' >
													<exp exp='.HeadCode = .HeadCode + .tempstr' />
												</command>
												<command class_type='sim' title='Simulation' macro='Expand.MacroName' >
													<return exp='.Name' />
													<argument exp='&quot;Delay_T1L&quot;' />
													<argument exp='this' />
												</command>
												<command class_type='calculation' title='Calculation' >
													<exp exp='.tempstr = &quot;//Data 1 Low Pulse Timing : &quot; + STRING T1L + &quot;us - &quot; + STRING T1LNops + &quot; Instruction cycles\n#define &quot; + .Name + &quot;() &quot;' />
													<exp exp='' />
												</command>
												<command class_type='calculation' title='Calculation' >
													<exp exp='.count = 0' />
												</command>
												<command class_type='loop' title='Loop' type='0' exp='.count &lt; T1LNops' >
													<flowline >
														<command class_type='calculation' title='Calculation' >
															<exp exp='.tempstr = .tempstr + &quot; nop();&quot;' />
															<exp exp='' />
														</command>
														<command class_type='calculation' title='Calculation' >
															<exp exp='.count = .count + 1' />
														</command>
													</flowline>
												</command>
												<command class_type='calculation' title='Calculation' >
													<exp exp='.tempstr = .tempstr + &quot;\n\n&quot;' />
													<exp exp='' />
												</command>
												<command class_type='calculation' title='Calculation' >
													<exp exp='.HeadCode = .HeadCode + .tempstr' />
												</command>
												<command class_type='sim' title='Simulation' macro='Expand.MacroName' >
													<return exp='.Name' />
													<argument exp='&quot;Delay_T0H&quot;' />
													<argument exp='this' />
												</command>
												<command class_type='calculation' title='Calculation' >
													<exp exp='.tempstr = &quot;//Data 0 High Pulse Timing : &quot; + STRING T0H + &quot;us - &quot; + STRING T0HNops + &quot; Instruction cycles\n#define &quot; + .Name + &quot;() &quot;' />
													<exp exp='' />
												</command>
												<command class_type='calculation' title='Calculation' >
													<exp exp='.count = 0' />
												</command>
												<command class_type='loop' title='Loop' type='0' exp='.count &lt; T0HNops' >
													<flowline >
														<command class_type='calculation' title='Calculation' >
															<exp exp='.tempstr = .tempstr + &quot; nop();&quot;' />
															<exp exp='' />
														</command>
														<command class_type='calculation' title='Calculation' >
															<exp exp='.count = .count + 1' />
														</command>
													</flowline>
												</command>
												<command class_type='calculation' title='Calculation' >
													<exp exp='.tempstr = .tempstr + &quot;\n\n&quot;' />
													<exp exp='' />
												</command>
												<command class_type='calculation' title='Calculation' >
													<exp exp='.HeadCode = .HeadCode + .tempstr' />
												</command>
												<command class_type='sim' title='Simulation' macro='Expand.MacroName' >
													<return exp='.Name' />
													<argument exp='&quot;Delay_T0L&quot;' />
													<argument exp='this' />
												</command>
												<command class_type='calculation' title='Calculation' >
													<exp exp='.tempstr = &quot;//Data 0 Low Pulse Timing : &quot; + STRING T0L + &quot;us - &quot; + STRING T0LNops + &quot; Instruction cycles\n#define &quot; + .Name + &quot;() &quot;' />
													<exp exp='' />
												</command>
												<command class_type='calculation' title='Calculation' >
													<exp exp='.count = 0' />
												</command>
												<command class_type='loop' title='Loop' type='0' exp='.count &lt; T0LNops' >
													<flowline >
														<command class_type='calculation' title='Calculation' >
															<exp exp='.tempstr = .tempstr + &quot; nop();&quot;' />
															<exp exp='' />
														</command>
														<command class_type='calculation' title='Calculation' >
															<exp exp='.count = .count + 1' />
														</command>
													</flowline>
												</command>
												<command class_type='calculation' title='Calculation' >
													<exp exp='.tempstr = .tempstr + &quot;\n\n&quot;' />
													<exp exp='' />
												</command>
												<command class_type='calculation' title='Calculation' >
													<exp exp='.HeadCode = .HeadCode + .tempstr' />
												</command>
												<command class_type='decision' title='Decision' exp='(T1HNops &lt; 10) || ((T1LNops &lt; 10) || ((T0HNops &lt; 10) || (T0LNops &lt; 10)))' swap='0' >
													<flowline >
														<command class_type='calculation' title='Calculation' >
															<exp exp='.HeadCode = .HeadCode + &quot;#warning WS2811 Timings are less than 10 instructions, timing may be incorrect at the current clock speed\n&quot;' />
														</command>
													</flowline>
													<flowline />
												</command>
												<command class_type='calculation' title='Calculation' >
													<exp exp='.Name = DeviceFamily' />
													<exp exp='.Name = Left$ (.Name,3)' />
												</command>
												<command class_type='decision' title='Decision' exp='Compare$ (.Name,&quot;PIC&quot;,0) == 0' swap='0' >
													<flowline >
														<command class_type='sim' title='Simulation' macro='Expand.MacroName' >
															<return exp='.Name' />
															<argument exp='&quot;OutputHigh&quot;' />
															<argument exp='this' />
														</command>
														<command class_type='decision' title='Decision' exp='InvertData' swap='0' >
															<flowline >
																<command class_type='calculation' title='Calculation' >
																	<exp exp='.Expansion = &quot;//Data Output High\n&quot;' />
																	<exp exp='.Expansion = .Expansion + &quot;#if defined(_LAT&quot;' />
																	<exp exp='.Expansion = .Expansion + .TStr' />
																	<exp exp='.Expansion = .Expansion + .NStr' />
																	<exp exp='.Expansion = .Expansion + &quot;) || defined(_LAT&quot;' />
																	<exp exp='.Expansion = .Expansion + .TStr' />
																	<exp exp='.Expansion = .Expansion + &quot;_LAT&quot;' />
																	<exp exp='.Expansion = .Expansion + .TStr' />
																	<exp exp='.Expansion = .Expansion + .NStr' />
																	<exp exp='.Expansion = .Expansion + &quot;_POSITION&quot;' />
																	<exp exp='.Expansion = .Expansion + &quot;)\n&quot;' />
																	<exp exp='.Expansion = .Expansion + &quot;#define &quot; + .Name + &quot;() LAT&quot;' />
																	<exp exp='.Expansion = .Expansion + .TStr' />
																	<exp exp='.Expansion = .Expansion + &quot;bits.LAT&quot;' />
																	<exp exp='.Expansion = .Expansion + .TStr' />
																	<exp exp='.Expansion = .Expansion + .NStr' />
																	<exp exp='.Expansion = .Expansion + &quot; = 0\n#else\n&quot;' />
																	<exp exp='.Expansion = .Expansion + &quot;#define &quot; + .Name + &quot;() PORT&quot;' />
																	<exp exp='.Expansion = .Expansion + .TStr' />
																	<exp exp='.Expansion = .Expansion + &quot;bits.R&quot;' />
																	<exp exp='.Expansion = .Expansion + .TStr' />
																	<exp exp='.Expansion = .Expansion + .NStr' />
																	<exp exp='.Expansion = .Expansion + &quot; = 0\n#endif\n&quot;' />
																</command>
															</flowline>
															<flowline >
																<command class_type='calculation' title='Calculation' >
																	<exp exp='.Expansion = &quot;//Data Output High\n&quot;' />
																	<exp exp='.Expansion = .Expansion + &quot;#if defined(_LAT&quot;' />
																	<exp exp='.Expansion = .Expansion + .TStr' />
																	<exp exp='.Expansion = .Expansion + .NStr' />
																	<exp exp='.Expansion = .Expansion + &quot;) || defined(_LAT&quot;' />
																	<exp exp='.Expansion = .Expansion + .TStr' />
																	<exp exp='.Expansion = .Expansion + &quot;_LAT&quot;' />
																	<exp exp='.Expansion = .Expansion + .TStr' />
																	<exp exp='.Expansion = .Expansion + .NStr' />
																	<exp exp='.Expansion = .Expansion + &quot;_POSITION&quot;' />
																	<exp exp='.Expansion = .Expansion + &quot;)\n&quot;' />
																	<exp exp='.Expansion = .Expansion + &quot;#define &quot; + .Name + &quot;() LAT&quot;' />
																	<exp exp='.Expansion = .Expansion + .TStr' />
																	<exp exp='.Expansion = .Expansion + &quot;bits.LAT&quot;' />
																	<exp exp='.Expansion = .Expansion + .TStr' />
																	<exp exp='.Expansion = .Expansion + .NStr' />
																	<exp exp='.Expansion = .Expansion + &quot; = 1\n#else\n&quot;' />
																	<exp exp='.Expansion = .Expansion + &quot;#define &quot; + .Name + &quot;() PORT&quot;' />
																	<exp exp='.Expansion = .Expansion + .TStr' />
																	<exp exp='.Expansion = .Expansion + &quot;bits.R&quot;' />
																	<exp exp='.Expansion = .Expansion + .TStr' />
																	<exp exp='.Expansion = .Expansion + .NStr' />
																	<exp exp='.Expansion = .Expansion + &quot; = 1\n#endif\n&quot;' />
																</command>
															</flowline>
														</command>
														<command class_type='calculation' title='Calculation' >
															<exp exp='.HeadCode = .HeadCode + .Expansion' />
														</command>
														<command class_type='sim' title='Simulation' macro='Expand.MacroName' >
															<return exp='.Name' />
															<argument exp='&quot;OutputLow&quot;' />
															<argument exp='this' />
														</command>
														<command class_type='decision' title='Decision' exp='InvertData' swap='0' >
															<flowline >
																<command class_type='calculation' title='Calculation' >
																	<exp exp='.Expansion = &quot;//Data Output Low\n&quot;' />
																	<exp exp='.Expansion = .Expansion + &quot;#if defined(_LAT&quot;' />
																	<exp exp='.Expansion = .Expansion + .TStr' />
																	<exp exp='.Expansion = .Expansion + .NStr' />
																	<exp exp='.Expansion = .Expansion + &quot;) || defined(_LAT&quot;' />
																	<exp exp='.Expansion = .Expansion + .TStr' />
																	<exp exp='.Expansion = .Expansion + &quot;_LAT&quot;' />
																	<exp exp='.Expansion = .Expansion + .TStr' />
																	<exp exp='.Expansion = .Expansion + .NStr' />
																	<exp exp='.Expansion = .Expansion + &quot;_POSITION&quot;' />
																	<exp exp='.Expansion = .Expansion + &quot;)\n&quot;' />
																	<exp exp='.Expansion = .Expansion + &quot;#define &quot; + .Name + &quot;() LAT&quot;' />
																	<exp exp='.Expansion = .Expansion + .TStr' />
																	<exp exp='.Expansion = .Expansion + &quot;bits.LAT&quot;' />
																	<exp exp='.Expansion = .Expansion + .TStr' />
																	<exp exp='.Expansion = .Expansion + .NStr' />
																	<exp exp='.Expansion = .Expansion + &quot; = 1\n#else\n&quot;' />
																	<exp exp='.Expansion = .Expansion + &quot;#define &quot; + .Name + &quot;() PORT&quot;' />
																	<exp exp='.Expansion = .Expansion + .TStr' />
																	<exp exp='.Expansion = .Expansion + &quot;bits.R&quot;' />
																	<exp exp='.Expansion = .Expansion + .TStr' />
																	<exp exp='.Expansion = .Expansion + .NStr' />
																	<exp exp='.Expansion = .Expansion + &quot; = 1\n#endif\n&quot;' />
																</command>
															</flowline>
															<flowline >
																<command class_type='calculation' title='Calculation' >
																	<exp exp='.Expansion = &quot;//Data Output Low\n&quot;' />
																	<exp exp='.Expansion = .Expansion + &quot;#if defined(_LAT&quot;' />
																	<exp exp='.Expansion = .Expansion + .TStr' />
																	<exp exp='.Expansion = .Expansion + .NStr' />
																	<exp exp='.Expansion = .Expansion + &quot;) || defined(_LAT&quot;' />
																	<exp exp='.Expansion = .Expansion + .TStr' />
																	<exp exp='.Expansion = .Expansion + &quot;_LAT&quot;' />
																	<exp exp='.Expansion = .Expansion + .TStr' />
																	<exp exp='.Expansion = .Expansion + .NStr' />
																	<exp exp='.Expansion = .Expansion + &quot;_POSITION&quot;' />
																	<exp exp='.Expansion = .Expansion + &quot;)\n&quot;' />
																	<exp exp='.Expansion = .Expansion + &quot;#define &quot; + .Name + &quot;() LAT&quot;' />
																	<exp exp='.Expansion = .Expansion + .TStr' />
																	<exp exp='.Expansion = .Expansion + &quot;bits.LAT&quot;' />
																	<exp exp='.Expansion = .Expansion + .TStr' />
																	<exp exp='.Expansion = .Expansion + .NStr' />
																	<exp exp='.Expansion = .Expansion + &quot; = 0\n#else\n&quot;' />
																	<exp exp='.Expansion = .Expansion + &quot;#define &quot; + .Name + &quot;() PORT&quot;' />
																	<exp exp='.Expansion = .Expansion + .TStr' />
																	<exp exp='.Expansion = .Expansion + &quot;bits.R&quot;' />
																	<exp exp='.Expansion = .Expansion + .TStr' />
																	<exp exp='.Expansion = .Expansion + .NStr' />
																	<exp exp='.Expansion = .Expansion + &quot; = 0\n#endif\n&quot;' />
																</command>
															</flowline>
														</command>
														<command class_type='calculation' title='Calculation' >
															<exp exp='.HeadCode = .HeadCode + .Expansion' />
														</command>
													</flowline>
													<flowline />
												</command>
											</flowline>
										</command>
									</flowline>
								</command>
							</flowline>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='ShiftLEDs2D' description='Shifts the contents of the display by the number of vertices specified
***Please Note that Wrap mode is currently unavailable***' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<param name='X' type='s16' description='Number of pixels to shift the display -1 to 1 / 0 = No Shift' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Y' type='s16' description='Number of pixels to shift the display -1 to 1 / 0 = No Shift' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='DataMode' type='u8' description='0=ResetToZero, 1=WrapAroundDisplay, 2=Smear' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='Start' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='2' />
						</local>
						<local name='End' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='2' />
						</local>
						<local name='CurrentCoord' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='2' />
						</local>
						<local name='NewCoord' type='s16' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' >
							<array size='2' />
						</local>
						<local name='Index' type='u16' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='R' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='G' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='B' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='decision' title='If X is negative' exp='.X &lt; 0' swap='0' >
							<flowline >
								<command class_type='calculation' title='' >
									<exp exp='.Start[0] = 0' />
									<exp exp='.End[0] = (LED_Cols - 1)' />
								</command>
							</flowline>
							<flowline >
								<command class_type='calculation' title='' >
									<exp exp='.Start[0] = (LED_Cols - 1)' />
									<exp exp='.End[0] = 0' />
								</command>
							</flowline>
						</command>
						<command class_type='decision' title='If Y is negative' exp='.Y &lt; 0' swap='0' >
							<flowline >
								<command class_type='calculation' title='' >
									<exp exp='.Start[1] = 0' />
									<exp exp='.End[1] = (LED_Rows - 1)' />
								</command>
							</flowline>
							<flowline >
								<command class_type='calculation' title='' >
									<exp exp='.Start[1] = (LED_Rows - 1)' />
									<exp exp='.End[1] = 0' />
								</command>
							</flowline>
						</command>
						<command class_type='calculation' title='Calculation' >
							<exp exp='.CurrentCoord[0] = .Start[0]' />
							<exp exp='.CurrentCoord[1] = .Start[1]' />
						</command>
						<command class_type='loop' title='Loop' type='0' exp='1' >
							<flowline >
								<command class_type='calculation' title='Calculation' >
									<exp exp='.CurrentCoord[1] = .Start[1]' />
								</command>
								<command class_type='loop' title='Loop' type='0' exp='1' >
									<flowline >
										<command class_type='switch' title='Switch' textarea='36,25,36,25' exp='.DataMode' >
											<case >
												<flowline >
													<command class_type='calculation' title='Calculation' >
														<exp exp='.NewCoord[0] = .CurrentCoord[0] + .X' />
														<exp exp='.NewCoord[1] = .CurrentCoord[1] + .Y' />
													</command>
													<command class_type='decision' title='Decision' exp='(.NewCoord[0] &lt; LED_Cols) &amp;&amp; (.NewCoord[0] &gt;= 0)' swap='0' >
														<flowline >
															<command class_type='decision' title='Decision' exp='(.NewCoord[1] &lt; LED_Rows) &amp;&amp; (.NewCoord[1] &gt;= 0)' swap='0' >
																<flowline >
																	<command class_type='call' title='Get LED Index' macro='GetLEDIndex2D' >
																		<return exp='.Index' />
																		<argument exp='.CurrentCoord[0]' />
																		<argument exp='.CurrentCoord[1]' />
																	</command>
																	<command class_type='calculation' title='Calculation' >
																		<exp exp='.R = RGB[.Index][0]' />
																		<exp exp='.G = RGB[.Index][1]' />
																		<exp exp='.B = RGB[.Index][2]' />
																	</command>
																	<command class_type='call' title='Colour LED' disable='1' macro='GetLEDColour' >
																		<return exp='.R' />
																		<argument exp='.Index' />
																		<argument exp='0' />
																	</command>
																	<command class_type='call' title='Colour LED' disable='1' macro='GetLEDColour' >
																		<return exp='.G' />
																		<argument exp='.Index' />
																		<argument exp='1' />
																	</command>
																	<command class_type='call' title='Colour LED' disable='1' macro='GetLEDColour' >
																		<return exp='.B' />
																		<argument exp='.Index' />
																		<argument exp='2' />
																	</command>
																	<command class_type='call' title='Get LED Index' macro='GetLEDIndex2D' >
																		<return exp='.Index' />
																		<argument exp='.NewCoord[0]' />
																		<argument exp='.NewCoord[1]' />
																	</command>
																	<command class_type='calculation' title='Calculation' >
																		<exp exp='RGB[.Index][0] = .R' />
																		<exp exp='RGB[.Index][1] = .G' />
																		<exp exp='RGB[.Index][2] = .B' />
																	</command>
																	<command class_type='call' title='Colour LED' disable='1' macro='SetLEDColour' >
																		<argument exp='.Index' />
																		<argument exp='.R' />
																		<argument exp='.G' />
																		<argument exp='.B' />
																	</command>
																</flowline>
																<flowline />
															</command>
														</flowline>
														<flowline />
													</command>
													<command class_type='call' title='Get LED Index' macro='GetLEDIndex2D' >
														<return exp='.Index' />
														<argument exp='.CurrentCoord[0]' />
														<argument exp='.CurrentCoord[1]' />
													</command>
													<command class_type='call' title='Colour LED' macro='SetLEDColour' >
														<argument exp='.Index' />
														<argument exp='0' />
														<argument exp='0' />
														<argument exp='0' />
													</command>
												</flowline>
											</case>
											<case exp='1' >
												<flowline >
													<command class_type='calculation' title='Calculation' >
														<exp exp='.Index = 0' />
													</command>
												</flowline>
											</case>
											<case exp='2' >
												<flowline >
													<command class_type='calculation' title='Calculation' >
														<exp exp='.NewCoord[0] = .CurrentCoord[0] + .X' />
														<exp exp='.NewCoord[1] = .CurrentCoord[1] + .Y' />
													</command>
													<command class_type='decision' title='Decision' exp='(.NewCoord[0] &lt; LED_Cols) &amp;&amp; (.NewCoord[0] &gt;= 0)' swap='0' >
														<flowline >
															<command class_type='decision' title='Decision' exp='(.NewCoord[1] &lt; LED_Rows) &amp;&amp; (.NewCoord[1] &gt;= 0)' swap='0' >
																<flowline >
																	<command class_type='call' title='Get LED Index' macro='GetLEDIndex2D' >
																		<return exp='.Index' />
																		<argument exp='.CurrentCoord[0]' />
																		<argument exp='.CurrentCoord[1]' />
																	</command>
																	<command class_type='calculation' title='Calculation' >
																		<exp exp='.R = RGB[.Index][0]' />
																		<exp exp='.G = RGB[.Index][1]' />
																		<exp exp='.B = RGB[.Index][2]' />
																	</command>
																	<command class_type='call' title='Colour LED' disable='1' macro='GetLEDColour' >
																		<return exp='.R' />
																		<argument exp='.Index' />
																		<argument exp='0' />
																	</command>
																	<command class_type='call' title='Colour LED' disable='1' macro='GetLEDColour' >
																		<return exp='.G' />
																		<argument exp='.Index' />
																		<argument exp='1' />
																	</command>
																	<command class_type='call' title='Colour LED' disable='1' macro='GetLEDColour' >
																		<return exp='.B' />
																		<argument exp='.Index' />
																		<argument exp='2' />
																	</command>
																	<command class_type='call' title='Get LED Index' macro='GetLEDIndex2D' >
																		<return exp='.Index' />
																		<argument exp='.NewCoord[0]' />
																		<argument exp='.NewCoord[1]' />
																	</command>
																	<command class_type='calculation' title='Calculation' >
																		<exp exp='RGB[.Index][0] = .R' />
																		<exp exp='RGB[.Index][1] = .G' />
																		<exp exp='RGB[.Index][2] = .B' />
																	</command>
																	<command class_type='call' title='Colour LED' disable='1' macro='SetLEDColour' >
																		<argument exp='.Index' />
																		<argument exp='.R' />
																		<argument exp='.G' />
																		<argument exp='.B' />
																	</command>
																</flowline>
																<flowline />
															</command>
														</flowline>
														<flowline />
													</command>
												</flowline>
											</case>
										</command>
										<command class_type='decision' title='Decision' exp='.CurrentCoord[1] &gt; .End[1]' swap='0' >
											<flowline >
												<command class_type='calculation' title='Calculation' >
													<exp exp='.CurrentCoord[1] = .CurrentCoord[1] - 1' />
												</command>
											</flowline>
											<flowline >
												<command class_type='decision' title='Decision' exp='.CurrentCoord[1] &lt; .End[1]' swap='0' >
													<flowline >
														<command class_type='calculation' title='Calculation' >
															<exp exp='.CurrentCoord[1] = .CurrentCoord[1] + 1' />
														</command>
													</flowline>
													<flowline >
														<command class_type='goto' title='Goto Connection Point' labelid='1' labelname='' />
													</flowline>
												</command>
											</flowline>
										</command>
									</flowline>
								</command>
								<command class_type='label' title='Connection Point' labelid='1' labelname='B' />
								<command class_type='decision' title='Decision' exp='.CurrentCoord[0] &gt; .End[0]' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' >
											<exp exp='.CurrentCoord[0] = .CurrentCoord[0] - 1' />
										</command>
									</flowline>
									<flowline >
										<command class_type='decision' title='Decision' exp='.CurrentCoord[0] &lt; .End[0]' swap='0' >
											<flowline >
												<command class_type='calculation' title='Calculation' >
													<exp exp='.CurrentCoord[0] = .CurrentCoord[0] + 1' />
												</command>
											</flowline>
											<flowline >
												<command class_type='goto' title='Goto Connection Point' labelid='2' labelname='' />
											</flowline>
										</command>
									</flowline>
								</command>
							</flowline>
						</command>
						<command class_type='label' title='Connection Point' labelid='2' labelname='C' />
					</flowline>
				</macro>
				<macro >
					<flowline name='GetLEDIndex3D' description='Gets the index of a single LED in RAM as a 3D array.' statediag='0' >
						<return name='Return' type='u16' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='X' type='u16' description='LED Column to change the colour / Range: 0 to (LED Column - 1)' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Y' type='u16' description='LED Row to change the colour / Range: 0 to (LED Row - 1)' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Z' type='u16' description='LED Layer to change the colour / Range: 0 to (LED Layer - 1)' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='decision' title='Decision' exp='(.X &gt;= LED_Cols) || (.Y &gt;= LED_Rows) || (.Z &gt;= LED_Layers)' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' >
									<exp exp='.Return = LED_Count' />
								</command>
							</flowline>
							<flowline >
								<command class_type='decision' title='Decision' exp='sequence' swap='0' >
									<flowline >
										<command class_type='decision' title='Test the least significant bit to see which way we are flowing' exp='((.Z * LED_Rows) + .Y) &amp; 0x01' swap='0' >
											<flowline >
												<command class_type='comment' title='' comment='Reversed Direction' textarea='12,0,12,0' />
												<command class_type='decision' title='Decision' exp='FlipX' swap='0' >
													<flowline />
													<flowline >
														<command class_type='calculation' title='Calculation' >
															<exp exp='.X = LED_Cols - .X - 1' />
														</command>
													</flowline>
												</command>
											</flowline>
											<flowline >
												<command class_type='comment' title='' comment='Standard Direction' textarea='12,0,12,0' />
												<command class_type='decision' title='Decision' exp='FlipX' swap='0' >
													<flowline >
														<command class_type='calculation' title='Calculation' >
															<exp exp='.X = LED_Cols - .X - 1' />
														</command>
													</flowline>
													<flowline />
												</command>
											</flowline>
										</command>
									</flowline>
									<flowline >
										<command class_type='comment' title='' comment='Standard Direction' textarea='12,0,12,0' />
										<command class_type='decision' title='Decision' exp='FlipX' swap='0' >
											<flowline >
												<command class_type='calculation' title='Calculation' >
													<exp exp='.X = LED_Cols - .X - 1' />
												</command>
											</flowline>
											<flowline />
										</command>
									</flowline>
								</command>
								<command class_type='decision' title='Decision' exp='FlipY' swap='0' >
									<flowline >
										<command class_type='decision' title='Decision' exp='FlipZ' swap='0' >
											<flowline >
												<command class_type='calculation' title='Calculate index' >
													<exp exp='.Return = ((LED_Layers - .Z - 1) * (LED_Rows * LED_Cols)) + ((LED_Rows - .Y - 1) * LED_Cols) + .X' />
												</command>
											</flowline>
											<flowline >
												<command class_type='calculation' title='Calculate index' >
													<exp exp='.Return = (.Z * (LED_Rows * LED_Cols)) + ((LED_Rows - .Y - 1) * LED_Cols) + .X' />
												</command>
											</flowline>
										</command>
									</flowline>
									<flowline >
										<command class_type='decision' title='Decision' exp='FlipZ' swap='0' >
											<flowline >
												<command class_type='calculation' title='Calculate index' >
													<exp exp='.Return = ((LED_Layers - .Z - 1) * (LED_Rows * LED_Cols)) + (.Y * LED_Cols) + .X' />
												</command>
											</flowline>
											<flowline >
												<command class_type='calculation' title='Calculate index' >
													<exp exp='.Return = (.Z * (LED_Rows * LED_Cols)) + (.Y * LED_Cols) + .X' />
												</command>
											</flowline>
										</command>
									</flowline>
								</command>
							</flowline>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='RefreshSim' description='Clocks out the current colour data to the LEDs from the values stored in RAM' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<local name='Index' type='u16' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
						<local name='Handle' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='Dir' type='u8' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
						<local name='Offset' type='u16' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='StartIdx' type='u16' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='PanelID' type='s32' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
						<command class_type='sim' title='Built-in Function' macro='Component.GetPanel' >
							<return exp='.PanelID' />
							<argument exp='this' />
						</command>
						<command class_type='switch' title='Switch' textarea='36,25,36,25' exp='LED_Arrangement' >
							<case >
								<flowline >
									<command class_type='comment' title='' comment='1D' textarea='12,0,12,0' />
									<command class_type='loop' title='Loop' type='0' exp='.Index &lt; LED_Count' >
										<flowline >
											<command class_type='decision' title='Legacy panels - 3D mode' exp='.PanelID &lt; 0' swap='0' >
												<flowline >
													<command class_type='sim' title='Simulation' component='clone_matrix_3d' macro='GetHandleFor' >
														<return exp='.Handle' />
														<argument exp='.Index' />
													</command>
												</flowline>
												<flowline >
													<command class_type='sim' title='Simulation' component='clone_matrix_2d' macro='GetHandleFor' >
														<return exp='.Handle' />
														<argument exp='.Index' />
													</command>
												</flowline>
											</command>
											<command class_type='sim' title='Simulation' macro='Component.Property.SetColor' >
												<argument exp='.Handle' />
												<argument exp='RGB[.Index][0]' />
												<argument exp='RGB[.Index][1]' />
												<argument exp='RGB[.Index][2]' />
											</command>
											<command class_type='calculation' title='Calculation' >
												<exp exp='.Index = .Index + 1' />
											</command>
										</flowline>
									</command>
								</flowline>
							</case>
							<case exp='1' >
								<flowline >
									<command class_type='comment' title='' comment='2D' textarea='12,0,12,0' />
									<command class_type='loop' title='Loop' type='0' exp='.Index &lt; LED_Count' >
										<flowline >
											<command class_type='decision' title='Decision' exp='.Dir = 1' swap='0' >
												<flowline >
													<command class_type='decision' title='Legacy panels - 3D mode' exp='.PanelID &lt; 0' swap='0' >
														<flowline >
															<command class_type='sim' title='Simulation' component='clone_matrix_3d' macro='GetHandleFor' >
																<return exp='.Handle' />
																<argument exp='.StartIdx + .Offset' />
															</command>
														</flowline>
														<flowline >
															<command class_type='sim' title='Simulation' component='clone_matrix_2d' macro='GetHandleFor' >
																<return exp='.Handle' />
																<argument exp='.StartIdx + .Offset' />
															</command>
														</flowline>
													</command>
													<command class_type='calculation' title='Calculation' >
														<exp exp='.Offset = .Offset - 1' />
													</command>
												</flowline>
												<flowline >
													<command class_type='decision' title='Legacy panels - 3D mode' exp='.PanelID &lt; 0' swap='0' >
														<flowline >
															<command class_type='sim' title='Simulation' component='clone_matrix_3d' macro='GetHandleFor' >
																<return exp='.Handle' />
																<argument exp='.Index' />
															</command>
														</flowline>
														<flowline >
															<command class_type='sim' title='Simulation' component='clone_matrix_2d' macro='GetHandleFor' >
																<return exp='.Handle' />
																<argument exp='.Index' />
															</command>
														</flowline>
													</command>
												</flowline>
											</command>
											<command class_type='sim' title='Simulation' macro='Component.Property.SetColor' >
												<argument exp='.Handle' />
												<argument exp='RGB[.Index][0]' />
												<argument exp='RGB[.Index][1]' />
												<argument exp='RGB[.Index][2]' />
											</command>
											<command class_type='calculation' title='Calculation' >
												<exp exp='.Index = .Index + 1' />
											</command>
											<command class_type='decision' title='Decision' exp='sequence' swap='0' >
												<flowline >
													<command class_type='decision' title='Decision' exp='(.Index % LED_Cols) == 0' swap='0' >
														<flowline >
															<command class_type='calculation' title='Calculation' >
																<exp exp='.Dir = (.Dir + 1) &amp; 1' />
															</command>
															<command class_type='calculation' title='Calculation' >
																<exp exp='.Offset = LED_Cols - 1' />
															</command>
															<command class_type='calculation' title='Calculation' >
																<exp exp='.StartIdx = .Index' />
															</command>
														</flowline>
														<flowline />
													</command>
												</flowline>
												<flowline />
											</command>
										</flowline>
									</command>
								</flowline>
							</case>
							<case exp='2' >
								<flowline >
									<command class_type='comment' title='' comment='3D - Not right yet

When we move to the second layer we might have to count backwards for the entire layer' textarea='12,0,12,0' />
									<command class_type='loop' title='Loop' type='0' exp='.Index &lt; LED_Count' >
										<flowline >
											<command class_type='decision' title='Decision' exp='.Dir = 1' swap='0' >
												<flowline >
													<command class_type='decision' title='Legacy panels - 3D mode' exp='.PanelID &lt; 0' swap='0' >
														<flowline >
															<command class_type='sim' title='Simulation' component='clone_matrix_3d' macro='GetHandleFor' >
																<return exp='.Handle' />
																<argument exp='.StartIdx + .Offset' />
															</command>
														</flowline>
														<flowline >
															<command class_type='sim' title='Simulation' component='clone_matrix_2d' macro='GetHandleFor' >
																<return exp='.Handle' />
																<argument exp='.StartIdx + .Offset' />
															</command>
														</flowline>
													</command>
													<command class_type='calculation' title='Calculation' >
														<exp exp='.Offset = .Offset - 1' />
													</command>
												</flowline>
												<flowline >
													<command class_type='decision' title='Legacy panels - 3D mode' exp='.PanelID &lt; 0' swap='0' >
														<flowline >
															<command class_type='sim' title='Simulation' component='clone_matrix_3d' macro='GetHandleFor' >
																<return exp='.Handle' />
																<argument exp='.Index' />
															</command>
														</flowline>
														<flowline >
															<command class_type='sim' title='Simulation' component='clone_matrix_2d' macro='GetHandleFor' >
																<return exp='.Handle' />
																<argument exp='.Index' />
															</command>
														</flowline>
													</command>
												</flowline>
											</command>
											<command class_type='sim' title='Simulation' macro='Component.Property.SetColor' >
												<argument exp='.Handle' />
												<argument exp='RGB[.Index][0]' />
												<argument exp='RGB[.Index][1]' />
												<argument exp='RGB[.Index][2]' />
											</command>
											<command class_type='calculation' title='Calculation' >
												<exp exp='.Index = .Index + 1' />
											</command>
											<command class_type='decision' title='Decision' exp='sequence' swap='0' >
												<flowline >
													<command class_type='decision' title='Decision' exp='(.Index % LED_Cols) == 0' swap='0' >
														<flowline >
															<command class_type='calculation' title='Calculation' >
																<exp exp='.Dir = (.Dir + 1) &amp; 1' />
															</command>
															<command class_type='calculation' title='Calculation' >
																<exp exp='.Offset = LED_Cols - 1' />
															</command>
															<command class_type='calculation' title='Calculation' >
																<exp exp='.StartIdx = .Index' />
															</command>
														</flowline>
														<flowline />
													</command>
												</flowline>
												<flowline />
											</command>
										</flowline>
									</command>
								</flowline>
							</case>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Main' description='' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<local name='Version' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='sim' title='Built-in Function' macro='System.GetFCVersion' >
							<return exp='.Version' />
						</command>
						<command class_type='sim' title='Built-in Function' macro='Debug.Print' >
							<argument exp='.Version' />
						</command>
						<command class_type='call' title='Call Macro' macro='Initialise' />
						<command class_type='call' title='Call Macro' disable='1' macro='DrawLine2D' >
							<argument exp='0' />
							<argument exp='0' />
							<argument exp='0' />
							<argument exp='9' />
							<argument exp='255' />
							<argument exp='0' />
							<argument exp='0' />
						</command>
						<command class_type='call' title='Call Macro' disable='1' macro='RefreshSim' />
						<command class_type='loop' title='Loop' disable='1' type='2' exp='10' >
							<flowline >
								<command class_type='delay' title='Delay' disable='1' exp='1' type='2' />
								<command class_type='call' title='Call Macro' disable='1' macro='ShiftLEDs2D' >
									<argument exp='1' />
									<argument exp='0' />
									<argument exp='2' />
								</command>
								<command class_type='call' title='Call Macro' disable='1' macro='RefreshSim' />
							</flowline>
						</command>
						<command class_type='call' title='Call Macro' macro='Initialise' />
						<command class_type='call' title='Call Macro' macro='DrawLine2D' >
							<argument exp='0' />
							<argument exp='0' />
							<argument exp='9' />
							<argument exp='0' />
							<argument exp='255' />
							<argument exp='0' />
							<argument exp='0' />
						</command>
						<command class_type='call' title='Call Macro' macro='RefreshSim' />
						<command class_type='loop' title='Loop' type='2' exp='10' >
							<flowline >
								<command class_type='delay' title='Delay' exp='1' type='2' />
								<command class_type='call' title='Call Macro' macro='ShiftLEDs2D' >
									<argument exp='0' />
									<argument exp='1' />
									<argument exp='0' />
								</command>
								<command class_type='call' title='Call Macro' macro='RefreshSim' />
							</flowline>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='DrawCuboid3D' description='Draws a basic 3D cuboid onto the LEDs' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<param name='X1' type='u8' description='Start X pixel coordinate' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Y1' type='u8' description='Start Y pixel coordinate' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Z1' type='u8' description='Start Z pixel coordinate' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='X2' type='u8' description='End X pixel coordinate' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Y2' type='u8' description='End Y pixel coordinate' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Z2' type='u8' description='End Z pixel coordinate' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='DrawStyle' type='u8' description='Sets the draw style - 0=Soild, 1=Edge, 2=Corners' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='R' type='u8' description='Red Colour Channel' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='G' type='u8' description='Green Colour Channel' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='B' type='u8' description='White Colour Channel' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='YS' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='ZS' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='XS' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='Count' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='Index' type='u16' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='calculation' title='Calculation' >
							<exp exp='.XS = .X1' />
							<exp exp='.YS = .Y1' />
							<exp exp='.ZS = .Z1' />
						</command>
						<command class_type='loop' title='While X not Complete' type='0' exp='1' >
							<flowline >
								<command class_type='calculation' title='Calculation' >
									<exp exp='.Y1 = .YS' />
								</command>
								<command class_type='loop' title='While Y Not Complete' type='0' exp='1' >
									<flowline >
										<command class_type='calculation' title='Calculation' >
											<exp exp='.Z1 = .ZS' />
										</command>
										<command class_type='loop' title='While Z Not Complete' type='0' exp='1' >
											<flowline >
												<command class_type='switch' title='Switch' textarea='36,25,36,25' exp='.DrawStyle' >
													<case >
														<flowline >
															<command class_type='comment' title='' comment='Solid
' textarea='36,21,36,21' />
															<command class_type='call' title='Get LED Index' macro='GetLEDIndex3D' >
																<return exp='.Index' />
																<argument exp='.X1' />
																<argument exp='.Y1' />
																<argument exp='.Z1' />
															</command>
															<command class_type='call' title='Colour LED' macro='SetLEDColour' >
																<argument exp='.Index' />
																<argument exp='.R' />
																<argument exp='.G' />
																<argument exp='.B' />
															</command>
														</flowline>
													</case>
													<case exp='1' >
														<flowline >
															<command class_type='comment' title='' comment='Edge' textarea='36,21,36,21' />
															<command class_type='calculation' title='Calculation' >
																<exp exp='.Count = 0' />
															</command>
															<command class_type='decision' title='Are we on an edge of at least two axis?' exp='(.X1 = .XS) || (.X1 = .X2)' swap='0' >
																<flowline >
																	<command class_type='calculation' title='Calculation' >
																		<exp exp='.Count = .Count + 1' />
																	</command>
																</flowline>
																<flowline />
															</command>
															<command class_type='decision' title='Decision' exp='(.Y1 = .YS) || (.Y1 = .Y2)' swap='0' >
																<flowline >
																	<command class_type='calculation' title='Calculation' >
																		<exp exp='.Count = .Count + 1' />
																	</command>
																</flowline>
																<flowline />
															</command>
															<command class_type='decision' title='Decision' exp='(.Z1 = .ZS) || (.Z1 = .Z2)' swap='0' >
																<flowline >
																	<command class_type='calculation' title='Calculation' >
																		<exp exp='.Count = .Count + 1' />
																	</command>
																</flowline>
																<flowline />
															</command>
															<command class_type='decision' title='On at least 2 Axis?' exp='.Count &gt; 1' swap='0' >
																<flowline >
																	<command class_type='call' title='Get LED Index' macro='GetLEDIndex3D' >
																		<return exp='.Index' />
																		<argument exp='.X1' />
																		<argument exp='.Y1' />
																		<argument exp='.Z1' />
																	</command>
																	<command class_type='call' title='Colour LED' macro='SetLEDColour' >
																		<argument exp='.Index' />
																		<argument exp='.R' />
																		<argument exp='.G' />
																		<argument exp='.B' />
																	</command>
																</flowline>
																<flowline />
															</command>
														</flowline>
													</case>
													<case exp='2' >
														<flowline >
															<command class_type='comment' title='' comment='Corners
' textarea='36,21,36,21' />
															<command class_type='calculation' title='Calculation' >
																<exp exp='.Count = 0' />
															</command>
															<command class_type='decision' title='Are we on an edge of at least two axis?' exp='(.X1 = .XS) || (.X1 = .X2)' swap='0' >
																<flowline >
																	<command class_type='calculation' title='Calculation' >
																		<exp exp='.Count = .Count + 1' />
																	</command>
																</flowline>
																<flowline />
															</command>
															<command class_type='decision' title='Decision' exp='(.Y1 = .YS) || (.Y1 = .Y2)' swap='0' >
																<flowline >
																	<command class_type='calculation' title='Calculation' >
																		<exp exp='.Count = .Count + 1' />
																	</command>
																</flowline>
																<flowline />
															</command>
															<command class_type='decision' title='Decision' exp='(.Z1 = .ZS) || (.Z1 = .Z2)' swap='0' >
																<flowline >
																	<command class_type='calculation' title='Calculation' >
																		<exp exp='.Count = .Count + 1' />
																	</command>
																</flowline>
																<flowline />
															</command>
															<command class_type='decision' title='On at least 3 Axis?' exp='.Count &gt; 2' swap='0' >
																<flowline >
																	<command class_type='call' title='Get LED Index' macro='GetLEDIndex3D' >
																		<return exp='.Index' />
																		<argument exp='.X1' />
																		<argument exp='.Y1' />
																		<argument exp='.Z1' />
																	</command>
																	<command class_type='call' title='Colour LED' macro='SetLEDColour' >
																		<argument exp='.Index' />
																		<argument exp='.R' />
																		<argument exp='.G' />
																		<argument exp='.B' />
																	</command>
																</flowline>
																<flowline />
															</command>
														</flowline>
													</case>
												</command>
												<command class_type='decision' title='Decision' exp='.Z1 &gt; .Z2' swap='0' >
													<flowline >
														<command class_type='calculation' title='Calculation' >
															<exp exp='.Z1 = .Z1 - 1' />
														</command>
													</flowline>
													<flowline >
														<command class_type='decision' title='Decision' exp='.Z1 &lt; .Z2' swap='0' >
															<flowline >
																<command class_type='calculation' title='Calculation' >
																	<exp exp='.Z1 = .Z1 + 1' />
																</command>
															</flowline>
															<flowline >
																<command class_type='goto' title='Goto Connection Point' labelid='0' labelname='' />
															</flowline>
														</command>
													</flowline>
												</command>
											</flowline>
										</command>
										<command class_type='label' title='Connection Point' labelid='0' labelname='A' />
										<command class_type='decision' title='Decision' exp='.Y1 &gt; .Y2' swap='0' >
											<flowline >
												<command class_type='calculation' title='Calculation' >
													<exp exp='.Y1 = .Y1 - 1' />
												</command>
											</flowline>
											<flowline >
												<command class_type='decision' title='Decision' exp='.Y1 &lt; .Y2' swap='0' >
													<flowline >
														<command class_type='calculation' title='Calculation' >
															<exp exp='.Y1 = .Y1 + 1' />
														</command>
													</flowline>
													<flowline >
														<command class_type='goto' title='Goto Connection Point' labelid='1' labelname='' />
													</flowline>
												</command>
											</flowline>
										</command>
									</flowline>
								</command>
								<command class_type='label' title='Connection Point' labelid='1' labelname='B' />
								<command class_type='decision' title='Decision' exp='.X1 &gt; .X2' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' >
											<exp exp='.X1 = .X1 - 1' />
										</command>
									</flowline>
									<flowline >
										<command class_type='decision' title='Decision' exp='.X1 &lt; .X2' swap='0' >
											<flowline >
												<command class_type='calculation' title='Calculation' >
													<exp exp='.X1 = .X1 + 1' />
												</command>
											</flowline>
											<flowline >
												<command class_type='goto' title='Goto Connection Point' labelid='2' labelname='' />
											</flowline>
										</command>
									</flowline>
								</command>
							</flowline>
						</command>
						<command class_type='label' title='Connection Point' labelid='2' labelname='C' />
					</flowline>
				</macro>
				<macro >
					<flowline name='Initialise' description='Inisialises the RGB colour RAM to 0,0,0 = LED Off and clocks out the data to 
initialise all the LED ICs in the chain.' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<command class_type='native' title='C Code' ccode='#if defined (MX_CAL_ESP32)' language='C' />
						<command class_type='call' title='Component Macro' component='ESP32_RMT1' macro='Initialise' />
						<command class_type='native' title='C Code' ccode='#else' language='C' />
						<command class_type='decision' title='Decision' exp='InvertData' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' >
									<exp exp='MOSI = 1' />
								</command>
							</flowline>
							<flowline >
								<command class_type='calculation' title='Calculation' >
									<exp exp='MOSI = 0' />
								</command>
							</flowline>
						</command>
						<command class_type='delay' title='Delay' exp='1' type='1' />
						<command class_type='native' title='C Code' ccode='#endif' language='C' />
						<command class_type='call' title='Call Macro' macro='SetAllLEDColour' >
							<argument exp='0' />
							<argument exp='0' />
							<argument exp='0' />
						</command>
						<command class_type='call' title='Call Macro' macro='Refresh' />
					</flowline>
				</macro>
				<macro >
					<flowline name='ShiftLEDs3D' description='Shifts the contents of the display by the number of vertices specified
***Please Note that Wrap mode is currently unavailable***' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<param name='X' type='s16' description='Number of pixels to shift the display -1 to 1 / 0 = No Shift' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Y' type='s16' description='Number of pixels to shift the display -1 to 1 / 0 = No Shift' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Z' type='s16' description='Number of pixels to shift the display -1 to 1 / 0 = No Shift' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='DataMode' type='u8' description='0=ResetToZero, 1=WrapAroundDisplay, 2=Smear' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='Start' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='3' />
						</local>
						<local name='End' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='3' />
						</local>
						<local name='CurrentCoord' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='3' />
						</local>
						<local name='NewCoord' type='s16' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' >
							<array size='3' />
						</local>
						<local name='Index' type='u16' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='R' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='G' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='B' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='decision' title='If X is negative' exp='.X &lt; 0' swap='0' >
							<flowline >
								<command class_type='calculation' title='' >
									<exp exp='.Start[0] = 0' />
									<exp exp='.End[0] = (LED_Cols - 1)' />
								</command>
							</flowline>
							<flowline >
								<command class_type='calculation' title='' >
									<exp exp='.Start[0] = (LED_Cols - 1)' />
									<exp exp='.End[0] = 0' />
								</command>
							</flowline>
						</command>
						<command class_type='decision' title='If Y is negative' exp='.Y &lt; 0' swap='0' >
							<flowline >
								<command class_type='calculation' title='' >
									<exp exp='.Start[1] = 0' />
									<exp exp='.End[1] = (LED_Rows - 1)' />
								</command>
							</flowline>
							<flowline >
								<command class_type='calculation' title='' >
									<exp exp='.Start[1] = (LED_Rows - 1)' />
									<exp exp='.End[1] = 0' />
								</command>
							</flowline>
						</command>
						<command class_type='decision' title='If z is negative' exp='.Z &lt; 0' swap='0' >
							<flowline >
								<command class_type='calculation' title='' >
									<exp exp='.Start[2] = 0' />
									<exp exp='.End[2] = (LED_Layers - 1)' />
								</command>
							</flowline>
							<flowline >
								<command class_type='calculation' title='' >
									<exp exp='.Start[2] = (LED_Layers - 1)' />
									<exp exp='.End[2] = 0' />
								</command>
							</flowline>
						</command>
						<command class_type='calculation' title='Calculation' >
							<exp exp='.CurrentCoord[0] = .Start[0]' />
							<exp exp='.CurrentCoord[1] = .Start[1]' />
							<exp exp='.CurrentCoord[2] = .Start[2]' />
						</command>
						<command class_type='loop' title='Loop' type='0' exp='1' >
							<flowline >
								<command class_type='calculation' title='Calculation' >
									<exp exp='.CurrentCoord[1] = .Start[1]' />
								</command>
								<command class_type='loop' title='Loop' type='0' exp='1' >
									<flowline >
										<command class_type='calculation' title='Calculation' >
											<exp exp='.CurrentCoord[2] = .Start[2]' />
										</command>
										<command class_type='loop' title='Loop' type='0' exp='1' >
											<flowline >
												<command class_type='switch' title='Switch' textarea='36,25,36,25' exp='.DataMode' >
													<case >
														<flowline >
															<command class_type='calculation' title='Calculation' >
																<exp exp='.NewCoord[0] = .CurrentCoord[0] + .X' />
																<exp exp='.NewCoord[1] = .CurrentCoord[1] + .Y' />
																<exp exp='.NewCoord[2] = .CurrentCoord[2] + .Z' />
															</command>
															<command class_type='decision' title='Decision' exp='(.NewCoord[0] &lt; LED_Cols) &amp;&amp; (.NewCoord[0] &gt;= 0)' swap='0' >
																<flowline >
																	<command class_type='decision' title='Decision' exp='(.NewCoord[1] &lt; LED_Rows) &amp;&amp; (.NewCoord[1] &gt;= 0)' swap='0' >
																		<flowline >
																			<command class_type='decision' title='Decision' exp='(.NewCoord[2] &lt; LED_Layers) &amp;&amp; (.NewCoord[2] &gt;= 0)' swap='0' >
																				<flowline >
																					<command class_type='call' title='Get LED Index' macro='GetLEDIndex3D' >
																						<return exp='.Index' />
																						<argument exp='.CurrentCoord[0]' />
																						<argument exp='.CurrentCoord[1]' />
																						<argument exp='.CurrentCoord[2]' />
																					</command>
																					<command class_type='calculation' title='Calculation' >
																						<exp exp='.R = RGB[.Index][0]' />
																						<exp exp='.G = RGB[.Index][1]' />
																						<exp exp='.B = RGB[.Index][2]' />
																					</command>
																					<command class_type='call' title='Colour LED' disable='1' macro='GetLEDColour' >
																						<return exp='.R' />
																						<argument exp='.Index' />
																						<argument exp='0' />
																					</command>
																					<command class_type='call' title='Colour LED' disable='1' macro='GetLEDColour' >
																						<return exp='.G' />
																						<argument exp='.Index' />
																						<argument exp='1' />
																					</command>
																					<command class_type='call' title='Colour LED' disable='1' macro='GetLEDColour' >
																						<return exp='.B' />
																						<argument exp='.Index' />
																						<argument exp='2' />
																					</command>
																					<command class_type='call' title='Get LED Index' macro='GetLEDIndex3D' >
																						<return exp='.Index' />
																						<argument exp='.NewCoord[0]' />
																						<argument exp='.NewCoord[1]' />
																						<argument exp='.NewCoord[2]' />
																					</command>
																					<command class_type='calculation' title='Calculation' >
																						<exp exp='RGB[.Index][0] = .R' />
																						<exp exp='RGB[.Index][1] = .G' />
																						<exp exp='RGB[.Index][2] = .B' />
																					</command>
																					<command class_type='call' title='Colour LED' disable='1' macro='SetLEDColour' >
																						<argument exp='.Index' />
																						<argument exp='.R' />
																						<argument exp='.G' />
																						<argument exp='.B' />
																					</command>
																				</flowline>
																				<flowline />
																			</command>
																		</flowline>
																		<flowline />
																	</command>
																</flowline>
																<flowline />
															</command>
															<command class_type='call' title='Get LED Index' macro='GetLEDIndex3D' >
																<return exp='.Index' />
																<argument exp='.CurrentCoord[0]' />
																<argument exp='.CurrentCoord[1]' />
																<argument exp='.CurrentCoord[2]' />
															</command>
															<command class_type='call' title='Colour LED' macro='SetLEDColour' >
																<argument exp='.Index' />
																<argument exp='0' />
																<argument exp='0' />
																<argument exp='0' />
															</command>
														</flowline>
													</case>
													<case exp='1' >
														<flowline >
															<command class_type='calculation' title='Calculation' >
																<exp exp='.Index = 0' />
															</command>
														</flowline>
													</case>
													<case exp='2' >
														<flowline >
															<command class_type='calculation' title='Calculation' >
																<exp exp='.NewCoord[0] = .CurrentCoord[0] + .X' />
																<exp exp='.NewCoord[1] = .CurrentCoord[1] + .Y' />
																<exp exp='.NewCoord[2] = .CurrentCoord[2] + .Z' />
															</command>
															<command class_type='decision' title='Decision' exp='(.NewCoord[0] &lt; LED_Cols) &amp;&amp; (.NewCoord[0] &gt;= 0)' swap='0' >
																<flowline >
																	<command class_type='decision' title='Decision' exp='(.NewCoord[1] &lt; LED_Rows) &amp;&amp; (.NewCoord[1] &gt;= 0)' swap='0' >
																		<flowline >
																			<command class_type='decision' title='Decision' exp='(.NewCoord[2] &lt; LED_Layers) &amp;&amp; (.NewCoord[2] &gt;= 0)' swap='0' >
																				<flowline >
																					<command class_type='call' title='Get LED Index' macro='GetLEDIndex3D' >
																						<return exp='.Index' />
																						<argument exp='.CurrentCoord[0]' />
																						<argument exp='.CurrentCoord[1]' />
																						<argument exp='.CurrentCoord[2]' />
																					</command>
																					<command class_type='calculation' title='Calculation' >
																						<exp exp='.R = RGB[.Index][0]' />
																						<exp exp='.G = RGB[.Index][1]' />
																						<exp exp='.B = RGB[.Index][2]' />
																					</command>
																					<command class_type='call' title='Colour LED' disable='1' macro='GetLEDColour' >
																						<return exp='.R' />
																						<argument exp='.Index' />
																						<argument exp='0' />
																					</command>
																					<command class_type='call' title='Colour LED' disable='1' macro='GetLEDColour' >
																						<return exp='.G' />
																						<argument exp='.Index' />
																						<argument exp='1' />
																					</command>
																					<command class_type='call' title='Colour LED' disable='1' macro='GetLEDColour' >
																						<return exp='.B' />
																						<argument exp='.Index' />
																						<argument exp='2' />
																					</command>
																					<command class_type='call' title='Get LED Index' macro='GetLEDIndex3D' >
																						<return exp='.Index' />
																						<argument exp='.NewCoord[0]' />
																						<argument exp='.NewCoord[1]' />
																						<argument exp='.NewCoord[2]' />
																					</command>
																					<command class_type='calculation' title='Calculation' >
																						<exp exp='RGB[.Index][0] = .R' />
																						<exp exp='RGB[.Index][1] = .G' />
																						<exp exp='RGB[.Index][2] = .B' />
																					</command>
																					<command class_type='call' title='Colour LED' disable='1' macro='SetLEDColour' >
																						<argument exp='.Index' />
																						<argument exp='.R' />
																						<argument exp='.G' />
																						<argument exp='.B' />
																					</command>
																				</flowline>
																				<flowline />
																			</command>
																		</flowline>
																		<flowline />
																	</command>
																</flowline>
																<flowline />
															</command>
														</flowline>
													</case>
												</command>
												<command class_type='decision' title='Decision' exp='.CurrentCoord[2] &gt; .End[2]' swap='0' >
													<flowline >
														<command class_type='calculation' title='Calculation' >
															<exp exp='.CurrentCoord[2] = .CurrentCoord[2] - 1' />
														</command>
													</flowline>
													<flowline >
														<command class_type='decision' title='Decision' exp='.CurrentCoord[2] &lt; .End[2]' swap='0' >
															<flowline >
																<command class_type='calculation' title='Calculation' >
																	<exp exp='.CurrentCoord[2] = .CurrentCoord[2] + 1' />
																</command>
															</flowline>
															<flowline >
																<command class_type='goto' title='Goto Connection Point' labelid='0' labelname='' />
															</flowline>
														</command>
													</flowline>
												</command>
											</flowline>
										</command>
										<command class_type='label' title='Connection Point' labelid='0' labelname='A' />
										<command class_type='decision' title='Decision' exp='.CurrentCoord[1] &gt; .End[1]' swap='0' >
											<flowline >
												<command class_type='calculation' title='Calculation' >
													<exp exp='.CurrentCoord[1] = .CurrentCoord[1] - 1' />
												</command>
											</flowline>
											<flowline >
												<command class_type='decision' title='Decision' exp='.CurrentCoord[1] &lt; .End[1]' swap='0' >
													<flowline >
														<command class_type='calculation' title='Calculation' >
															<exp exp='.CurrentCoord[1] = .CurrentCoord[1] + 1' />
														</command>
													</flowline>
													<flowline >
														<command class_type='goto' title='Goto Connection Point' labelid='1' labelname='' />
													</flowline>
												</command>
											</flowline>
										</command>
									</flowline>
								</command>
								<command class_type='label' title='Connection Point' labelid='1' labelname='B' />
								<command class_type='decision' title='Decision' exp='.CurrentCoord[0] &gt; .End[0]' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' >
											<exp exp='.CurrentCoord[0] = .CurrentCoord[0] - 1' />
										</command>
									</flowline>
									<flowline >
										<command class_type='decision' title='Decision' exp='.CurrentCoord[0] &lt; .End[0]' swap='0' >
											<flowline >
												<command class_type='calculation' title='Calculation' >
													<exp exp='.CurrentCoord[0] = .CurrentCoord[0] + 1' />
												</command>
											</flowline>
											<flowline >
												<command class_type='goto' title='Goto Connection Point' labelid='2' labelname='' />
											</flowline>
										</command>
									</flowline>
								</command>
							</flowline>
						</command>
						<command class_type='label' title='Connection Point' labelid='2' labelname='C' />
					</flowline>
				</macro>
			</macros>
			<component class_type='ref' guid='b295124a-85ec-4fae-943f-347bb2c50311' vmin='0' vmaj='1' codename='shape_sphere1' panelId='-1' x='0' y='0' z='0' xsz='3.125' ysz='3.125' zsz='3.125' xang='0' yang='0' zang='0' xquat='0' yquat='0' zquat='0' wquat='1' visible='0' scadavisible='1' interactive='0' solid='0' layer='0' poslock='0' ancTop='0' ancBottom='0' ancLeft='0' ancRight='0' ancMinX='0' ancMinY='0' comp2dType='0' >
				<resources />
				<properties />
				<values >
					<value target='Color' data='1975743' />
					<value target='Outline' data='0' />
					<value target='Thickness' data='0' />
					<value target='Image' data='' />
				</values>
				<events />
				<apis />
				<variables />
				<macros />
			</component>
			<component class_type='GdiShape' codename='Shape1' panelId='-1' x='0' y='0' z='0' xsz='12.5' ysz='12.5' zsz='0' xang='0' yang='0' zang='0' xquat='0' yquat='0' zquat='0' wquat='1' visible='1' scadavisible='1' interactive='1' solid='1' layer='1' poslock='8' ancTop='0' ancBottom='0' ancLeft='0' ancRight='0' ancMinX='0' ancMinY='0' comp2dType='46' >
				<resources />
				<properties />
				<values >
					<value target='nType' data='  1' />
					<value target='iSubStyle' data='0' />
					<value target='iRounding' data='25' />
					<value target='colFill' data='9868950' />
					<value target='colFillGradient' data='16777215' />
					<value target='nGradientStyle' data='0' />
					<value target='nFillOpacity' data='1.0' />
					<value target='nStyle' data='0' />
					<value target='bFixedScale' data='1' />
					<value target='fThickness' data='1.00000' />
					<value target='iOutlineSize' data='2' />
					<value target='colOutline' data='0' />
					<value target='colOutlineGradient' data='0' />
					<value target='nOutlineStyle' data='0' />
					<value target='nOutlineOpacity' data='1.0' />
					<value target='bTooltipEnable' data='0' />
					<value target='sTooltipText' data='' />
					<value target='sTooltipDesc' data='' />
				</values>
				<events />
				<apis />
				<variables />
				<macros />
			</component>
			<component class_type='ref' guid='9d67e3dc-ef9b-4d4d-b294-19c176eefab1' vmin='1' vmaj='1' codename='clone_matrix_3d' panelId='-1' x='0' y='0' z='0' xsz='0.0001' ysz='0.0001' zsz='0.0001' xang='0' yang='0' zang='0' xquat='0' yquat='0' zquat='0' wquat='1' visible='1' scadavisible='1' interactive='1' solid='1' layer='1' poslock='0' ancTop='0' ancBottom='0' ancLeft='0' ancRight='0' ancMinX='0' ancMinY='0' comp2dType='0' >
				<resources />
				<properties />
				<values >
					<value target='target_object' data='shape_sphere1' />
					<value target='hide_target' data='1' />
					<value target='x_count' data='9' />
					<value target='x_spacing' data='5' />
					<value target='OldX' data='9' />
					<value target='SpaX' data='5' />
					<value target='y_count' data='1' />
					<value target='y_spacing' data='5' />
					<value target='OldY' data='1' />
					<value target='SpaY' data='5' />
					<value target='z_count' data='1' />
					<value target='z_spacing' data='5' />
					<value target='OldZ' data='1' />
					<value target='SpaZ' data='5' />
					<value target='target_visibility' data='1' />
					<value target='target_solidity' data='1' />
					<value target='target_interactive' data='1' />
				</values>
				<events />
				<apis />
				<variables />
				<macros />
			</component>
			<component class_type='ref' guid='f88f79ae-0240-418c-820a-e2bcdb406007' vmin='0' vmaj='2' codename='ESP32_RMT1' panelId='-1' x='0' y='0' z='0' xsz='0.0001' ysz='0.0001' zsz='0.0001' xang='0' yang='0' zang='0' xquat='0' yquat='0' zquat='0' wquat='1' visible='0' scadavisible='1' interactive='0' solid='0' layer='1' poslock='0' ancTop='0' ancBottom='0' ancLeft='0' ancRight='0' ancMinX='0' ancMinY='0' comp2dType='0' >
				<resources />
				<properties />
				<values >
					<value target='Instance' data='1' />
					<value target='Mode' data='000' />
					<value target='Pin' data='$PORTA.2' />
					<value target='ClkDiv' data='2' />
					<value target='MemBlockNum' data='1' />
					<value target='BuffSize' data='64' />
					<value target='TxLoopEn' data='0' />
					<value target='TxCarrierEn' data='0' />
					<value target='TxCarrierFreq' data='4800' />
					<value target='TxCarrierDuty' data='50' />
					<value target='TxCarrierLevel' data='1' />
					<value target='TxIdleOutput' data='1' />
					<value target='TxIdleLevel' data='0' />
					<value target='RxFilterEn' data='0' />
					<value target='RxFilterTicks' data='0' />
					<value target='RxIdleThresh' data='2' />
				</values>
				<events />
				<apis />
				<variables />
				<macros />
			</component>
			<component class_type='ref' guid='9d67e3dc-ef9b-4d4d-b294-19c176eefab1' vmin='1' vmaj='1' codename='clone_matrix_2d' panelId='-1' x='0' y='0' z='0' xsz='0.0001' ysz='0.0001' zsz='0.0001' xang='0' yang='0' zang='0' xquat='0' yquat='0' zquat='0' wquat='1' visible='1' scadavisible='1' interactive='1' solid='1' layer='1' poslock='0' ancTop='0' ancBottom='0' ancLeft='0' ancRight='0' ancMinX='0' ancMinY='0' comp2dType='0' >
				<resources />
				<properties />
				<values >
					<value target='target_object' data='Shape1' />
					<value target='hide_target' data='1' />
					<value target='x_count' data='8' />
					<value target='x_spacing' data='5' />
					<value target='OldX' data='8' />
					<value target='SpaX' data='5' />
					<value target='y_count' data='1' />
					<value target='y_spacing' data='10.000000' />
					<value target='OldY' data='1' />
					<value target='SpaY' data='10.000000' />
					<value target='z_count' data='1' />
					<value target='z_spacing' data='10.000000' />
					<value target='OldZ' data='1' />
					<value target='SpaZ' data='10.000000' />
					<value target='target_visibility' data='1' />
					<value target='target_solidity' data='1' />
					<value target='target_interactive' data='1' />
				</values>
				<events />
				<apis />
				<variables />
				<macros />
			</component>
		</component>
	</components>
	<scadaresourcelookup />
	<keymap />
	<panel2d shadows='0' lighting='2' brightness='0' >
		<background rgb='5767167' img='' style='0' />
		<camera xe='11.8498' ye='20.8106' ze='310.852' xt='11.8498' yt='20.8106' zt='0' xquat='0' yquat='0' zquat='0' wquat='1' />
		<viewport dx='527' dy='782' zoom='205.136' fix_topleft='0' />
		<page x='1000' y='1000' show='0' rgb='16777215' />
		<winpos ID='7005' RectRecentFloat='1554,205,1920,1050' RectRecentDocked='942,141,1489,1013' RecentFrameAlignment='16384' RecentRowIndex='0' IsFloating='0' MRUWidth='32767' PinState='0' IsMaximized='0' IsVisible='0' />
	</panel2d>
	<panel3d shadows='0' lighting='2' brightness='0' perspective='1' >
		<background rgb='8409120' img='' style='0' />
		<table rgb='7360576' img='' style='0' size='28' />
		<camera xe='-236.064' ye='-240.831' ze='243.551' xt='5.22099' yt='0.523585' zt='2.278' xquat='-0.424765' yquat='0.175888' zquat='0.339818' wquat='0.820464' />
		<camerakey0 xe='0' ye='0' ze='300' xt='0' yt='0' zt='0' xquat='0' yquat='0' zquat='0' wquat='1' />
		<camerakey1 xe='-3.67394e-14' ye='0' ze='-300' xt='0' yt='0' zt='0' xquat='0' yquat='1' zquat='0' wquat='6.12323e-17' />
		<camerakey2 xe='0' ye='-300' ze='6.66134e-14' xt='0' yt='0' zt='0' xquat='-0.707107' yquat='0' zquat='0' wquat='0.707107' />
		<camerakey3 xe='-3.67394e-14' ye='300' ze='6.66134e-14' xt='0' yt='0' zt='0' xquat='-4.32978e-17' yquat='0.707107' zquat='0.707107' wquat='4.32978e-17' />
		<camerakey4 xe='-300' ye='-6.66134e-14' ze='6.66134e-14' xt='0' yt='0' zt='0' xquat='-0.5' yquat='0.5' zquat='0.5' wquat='0.5' />
		<camerakey5 xe='300' ye='-6.66134e-14' ze='6.66134e-14' xt='0' yt='0' zt='0' xquat='-0.5' yquat='-0.5' zquat='-0.5' wquat='0.5' />
		<camerakey6 xe='-173.205' ye='-173.205' ze='173.205' xt='0' yt='0' zt='0' xquat='-0.424708' yquat='0.17592' zquat='0.339851' wquat='0.820473' />
		<winpos ID='7004' RectRecentFloat='0,425,654,1002' RectRecentDocked='1180,141,1489,1013' RecentFrameAlignment='16384' RecentRowIndex='0' IsFloating='0' MRUWidth='32767' PinState='0' IsMaximized='0' IsVisible='0' />
	</panel3d>
	<panels2d count='0' />
	<layout >
		<view type='0' name='Ev_AddHeader' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAAjwQAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Main' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAAjwQAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Delay_T0H' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAAjwQAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Delay_T0L' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAAjwQAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Delay_T1H' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAAjwQAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Delay_T1L' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAAjwQAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='RefreshSim' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAAjwQAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Initialise' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAAjwQAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Ev_AddVar' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAAjwQAAGMDAAA' zoom='85' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Ev_Property' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAAjwQAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='SetAllLEDColour' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAAjwQAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='SetBrightnessByte' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAAjwQAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='SetBrightness' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAAjwQAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='DrawCuboid3D' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAAjwQAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='DrawLine2D' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAAjwQAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='DrawLine3D' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAAjwQAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='DrawRectangle2D' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAAjwQAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='SetLEDColour' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAAjwQAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='GetLEDIndex2D' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAAjwQAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='GetLEDIndex3D' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAAjwQAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='OutputHigh' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAAjwQAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='OutputLow' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAAjwQAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Refresh' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAAjwQAAGMDAAA' zoom='60' scrollx='0' scrolly='804' flags='0' />
		<view type='0' name='GetLEDColour' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAAjwQAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='ShiftLEDs1D' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAAjwQAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='ShiftLEDs2D' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAAjwQAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='ShiftLEDs3D' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAAjwQAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Ev_Initialise' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAAjwQAAGMDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
	</layout>
</document>
</root>
