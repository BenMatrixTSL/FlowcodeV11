<root>
<document scada='0' schema='103' license='10,BenR,C9TN1M' title='' description='' fcversion='655618' target='PIC.16F.16F877A' >
	<config data='!0,3f72%0,2%2,0%3,0%6,1%7,0%9,3%b,1%8,1%d,1' clkspd='19660800' simspd='1' usewdt='0' constif='0' Use3V3='0' />
	<plugins >
		<dll_models enabled='1' />
	</plugins>
	<supplement use='0' head='' body='' />
	<debug />
	<traces />
	<ghost >
		<FK2 >
			<data name='FK2D0' port='4294967295' pin='4294967295' />
			<data name='FK2D1' port='4294967295' pin='4294967295' />
			<data name='FK2D2' port='4294967295' pin='4294967295' />
			<data name='FK2D3' port='4294967295' pin='4294967295' />
			<data name='FK2D4' port='4294967295' pin='4294967295' />
			<data name='FK2D5' port='4294967295' pin='4294967295' />
			<data name='FK2D6' port='4294967295' pin='4294967295' />
			<data name='FK2D7' port='4294967295' pin='4294967295' />
			<data name='FK2D8' port='4294967295' pin='4294967295' />
			<data name='FK2D9' port='4294967295' pin='4294967295' />
			<data name='FK2D10' port='4294967295' pin='4294967295' />
			<data name='FK2D11' port='4294967295' pin='4294967295' />
			<data name='FK2D12' port='4294967295' pin='4294967295' />
			<data name='FK2D13' port='4294967295' pin='4294967295' />
			<data name='FK2D14' port='4294967295' pin='4294967295' />
			<data name='FK2D15' port='4294967295' pin='4294967295' />
			<data name='FK2A0' port='4294967295' pin='4294967295' />
			<data name='FK2A1' port='4294967295' pin='4294967295' />
			<data name='FK2A2' port='4294967295' pin='4294967295' />
			<data name='FK2A3' port='4294967295' pin='4294967295' />
			<data name='FK2A4' port='4294967295' pin='4294967295' />
			<data name='FK2A5' port='4294967295' pin='4294967295' />
		</FK2>
		<ICD >
			<data name='AnalogPrescaleValue' value='19' />
			<data name='DigitalSampleRate' value='100000' />
			<data name='BreakpointCount' value='8' />
			<data name='CallStackDepthCount' value='8' />
			<data name='ClockPort' value='1' />
			<data name='ClockPin' value='6' />
			<data name='DataPort' value='1' />
			<data name='DataPin' value='7' />
			<data name='UseDefaultPins' value='1' />
			<data name='WrapEnabled' value='1' />
			<data name='CommsDelayOverridden' value='0' />
			<data name='CommsDelay' value='9' />
			<data name='CalculatedCommsDelay' value='9' />
			<data name='AnalogEB2PrescaleValue' value='2' />
			<data name='DigitalEB2SampleRate' value='100000' />
		</ICD>
		<pins >
			<digital A='0' B='0' C='0' D='0' E='0' F='0' G='0' H='0' I='0' J='0' K='0' L='0' M='0' N='0' O='0' P='0' Q='0' R='0' S='0' T='0' U='0' V='0' W='0' X='0' Y='0' Z='0' />
			<analog A='0' B='0' C='0' D='0' E='0' F='0' G='0' H='0' I='0' J='0' K='0' L='0' M='0' N='0' O='0' P='0' Q='0' R='0' S='0' T='0' U='0' V='0' W='0' X='0' Y='0' Z='0' />
		</pins>
	</ghost>
	<components >
		<settings autoimg='0' center='1' unitscale='1' fixedscale='0' fixedx='0' fixedy='0' fixedz='0' headcode='0' />
		<definition guid='faf668b1-a0e6-426f-b1ef-9d4f8e54d784' vstate='40' vmin='2' vmaj='1' srcleaf='Stepper Motor Base.fcfx' visiblename='Stepper Motor Template' description='Enables the creation of a stepper motor component by specifying objects for its appearance.
&apos;Attach to...&apos; property should be exposed in any components buit from this -
this sets a target object to be joined to the motor shaft.
The target can then be rotated around the axis with a custom gear ration, or moved linearly
according to the pitch of a given lead screw.' category='Mechatronics' category2='' category3='' bIs2dOnly='1' bIs3dOnly='0' catenable='0' author='Matrix Ltd' manuname='' manucode='' sysinfo='5247791' keywords='' dynamic='1' scadaCompatible='0' embeddedCompatible='1' showmacros='1' iconpath='..\..\icons\components\Stepper Base Icon.PNG' />
		<component class_type='root' codename='stepper_base' panelId='-1' x='0' y='0' z='0' xsz='1' ysz='1' zsz='1' xang='0' yang='0' zang='0' xquat='0' yquat='0' zquat='0' wquat='1' visible='1' scadavisible='1' interactive='1' solid='1' layer='0' poslock='0' comp2dType='0' macronames='$(type)_$(module)__$(macro)' >
			<resources />
			<properties >
				<property name='Connections' hidden='0' >
					<property name='Driver' target='Driver' typeid='16' hidden='0' locked='0' info='' filter='000Transistor / FET
001Step &amp; Direction' />
					<property name='Coil A' target='Coil_1' typeid='5' hidden='0' locked='0' info='Chip pin to which the first motor coil is connected.' />
					<property name='Coil /A' target='Coil_2' typeid='5' hidden='0' locked='0' info='Chip pin to which the second motor coil is connected.' />
					<property name='Coil B' target='Coil_3' typeid='5' hidden='0' locked='0' info='Chip pin to which the third motor coil is connected.' />
					<property name='Coil /B' target='Coil_4' typeid='5' hidden='0' locked='0' info='Chip pin to which the fourth motor coil is connected.' />
					<property name='Step' target='StepPin' typeid='5' hidden='1' locked='0' info='Pin used to output to the driver IC step pin.' />
					<property name='Direction' target='DirectionPin' typeid='5' hidden='1' locked='0' info='Pin used to output to the driver IC direction pin.' />
					<property name='Enable' target='EnablePin' typeid='5' hidden='1' locked='0' info='Pin used to enable the motor driver IC' />
					<property name='Enable State' target='EnableState' typeid='16' hidden='1' locked='0' info='State of output pin to enable the motor output.' filter='000Active Low
001Active High' />
					<property name='Pulse Width' target='PulseWidth' typeid='21' hidden='1' locked='0' info='Number of microseconds to wait after changing the state of the Step output pin.
Default: 1uS
Range: 0 - 65535uS' />
				</property>
				<property name='Motor Setup' hidden='0' >
					<property name='Winding Type' target='Winding_Type' typeid='16' hidden='0' locked='0' info='The polarity settings of the motor windings.
Refer to the data-sheet for your chosen hardware to determine this value.' filter='000bipolar/unipolar +ve
001unipolar -ve' />
					<property name='Step Type' target='Step_Type' typeid='16' hidden='0' locked='0' info='Trade accuracy against torque by changing the type of stepping.
Refer to the data-sheet for your chosen hardware to determine which modes your device supports.' filter='000Full Step
001Half Step
002Wave' />
					<property name='Steps Per Revolution' target='Steps_Per_Rev' typeid='14' hidden='0' locked='0' info='The number of steps it takes for the motor shaft to turn a full circle (360 degrees).
Refer to the data-sheet for your chosen hardware to determine this value.' />
					<property name='Angle Increment' target='Angle' typeid='15' hidden='0' locked='1' info='Amount of change in the shaft angle when the IncrementStep / DecrementStep functions are called.' />
				</property>
				<property name='Motor Simulation' hidden='0' >
					<property name='Rotating Part' target='moving_part' typeid='17' hidden='0' locked='0' info='Select a panel object here that will represent the moving part of the motor - for example, an
output shaft or actuator.' />
					<property name='Rotation Centre' target='axis' typeid='17' hidden='0' locked='0' info='Select a panel object to be the centre of rotation of the &apos;Rotating Part&apos;.  If non is chosen, the
&apos;Rotating Part&apos; will revove around its own axes.' />
					<property name='Rotate Around' target='rot_axis' typeid='16' hidden='0' locked='0' info='The axis of the &apos;Rotaion Centre&apos; object around which the &apos;Rotating Part&apos; will rotate.' filter='000X Axis
001Y Axis
002Z Axis' />
				</property>
				<property name='Coil Simulation' hidden='0' >
					<property name='Waveforms' target='Waveforms' typeid='7' hidden='0' locked='0' info='Allows waveforms to be auto generated on the data recorder window.' />
					<property name='Coil Simulation' target='coils_enable' typeid='7' hidden='0' locked='0' info='Turn coil simulation on and off.' />
					<property name='Coil 1' target='coil1_object' typeid='17' hidden='0' locked='0' info='Choose a panel object to represent the first coil.  The simulation will automatically change this
object&apos;s color to visualise when it is energised.' />
					<property name='Coil 2' target='coil2_object' typeid='17' hidden='0' locked='0' info='Choose a panel object to represent the second coil.  The simulation will automatically change this
object&apos;s color to visualise when it is energised.' />
					<property name='Coil 3' target='coil3_object' typeid='17' hidden='0' locked='0' info='Choose a panel object to represent the third coil.  The simulation will automatically change this
object&apos;s color to visualise when it is energised.' />
					<property name='Coil 4' target='coil4_object' typeid='17' hidden='0' locked='0' info='Choose a panel object to represent the fourth coil.  The simulation will automatically change this
object&apos;s color to visualise when it is energised.' />
					<property name='Colour Non Active Coil' target='colour_non_act' typeid='1' hidden='0' locked='0' info='Make coil object this colour when they are NOT energised.' />
					<property name='Colour Active Coil' target='colour_act' typeid='1' hidden='0' locked='0' info='Make the coil objects this colour when they ARE energised,.' />
				</property>
				<property name='Target Object' folder='property_1' hidden='0' >
					<property name='Gear Ratio' target='gear_ratio' typeid='15' hidden='0' locked='0' info='Set a non-zero value here to make the target object rotate whenever the motor spins.  The target
will revolve around the same axis as the motor&apos;s own &apos;Moving Part&apos; (e.g. drive shaft).
A value of 1.00 make the target spin at the same speed as the motor.  Choose other values
to set the ratio of a &apos;virtual gearbox&apos; to change the speed of the target&apos;s movement.' />
					<property name='X Linear Pitch' target='x_pitch' typeid='15' hidden='0' locked='0' info='Set this to a non-zero value to move the target object linearly along its X-Axis whenever the motor spins.
The value is the distance to move (world units) per complete rotation of the motor shaft - i.e. it
simulates a typical linear drive that uses a lead-screw, with the property value equal to the
screw pitch.' />
					<property name='Y Linear Pitch' target='y_pitch' typeid='15' hidden='0' locked='0' info='Set this to a non-zero value to move the target object linearly along its Y-Axis whenever the motor spins.
The value is the distance to move (world units) per complete rotation of the motor shaft - i.e. it
simulates a typical linear drive that uses a lead-screw, with the property value equal to the
screw pitch.' />
					<property name='Z Linear Pitch' target='z_pitch' typeid='15' hidden='0' locked='0' info='Set this to a non-zero value to move the target object linearly along its Z-Axis whenever the motor spins.
The value is the distance to move (world units) per complete rotation of the motor shaft - i.e. it
simulates a typical linear drive that uses a lead-screw, with the property value equal to the
screw pitch.' />
					<property name='Connecting Object' target='ConnHandle' typeid='21' hidden='1' locked='0' info='' />
				</property>
			</properties>
			<values >
				<value target='Driver' data='000' />
				<value target='Coil_1' data='$PORTA.0' />
				<value target='Coil_2' data='$PORTA.1' />
				<value target='Coil_3' data='$PORTA.2' />
				<value target='Coil_4' data='$PORTA.3' />
				<value target='StepPin' data='$PORTA.0' />
				<value target='DirectionPin' data='$PORTA.1' />
				<value target='EnablePin' data='$PORTA.2' />
				<value target='EnableState' data='000' />
				<value target='PulseWidth' data='1' />
				<value target='Winding_Type' data='000' />
				<value target='Step_Type' data='001' />
				<value target='Steps_Per_Rev' data='100' />
				<value target='Angle' data='1.800000' />
				<value target='moving_part' data='' />
				<value target='axis' data='' />
				<value target='rot_axis' data='002' />
				<value target='Waveforms' data='1' />
				<value target='coils_enable' data='0' />
				<value target='coil1_object' data='' />
				<value target='coil2_object' data='' />
				<value target='coil3_object' data='' />
				<value target='coil4_object' data='' />
				<value target='colour_non_act' data='0' />
				<value target='colour_act' data='255' />
				<value target='gear_ratio' data='1.000000' />
				<value target='x_pitch' data='0.000000' />
				<value target='y_pitch' data='0.000000' />
				<value target='z_pitch' data='0.000000' />
				<value target='ConnHandle' data='0' />
			</values>
			<events >
				<event class='Connection' event='PinChange' target='prv_pin_change' />
				<event class='Compile' event='AddVar' target='Ev_AddVar' />
				<event class='Components' event='Initialise' target='prv_init' />
				<event class='Simulation' event='Stop' target='Ev_Stop' />
				<event class='Simulation' event='Start' target='Ev_Start' />
				<event class='Components' event='Property' target='prv_property_change' />
			</events>
			<apis >
				<api name='IncrementStep' alt='Sim_IncrementStep' type='1' proto='1' />
				<api name='DecrementStep' alt='Sim_DecrementStep' type='1' proto='1' />
				<api name='SetTarget' alt='' type='2' proto='1' />
				<api name='EnableMotor' alt='EnableMotor' type='1' proto='1' />
				<api name='DisableMotor' alt='DisableMotor' type='1' proto='1' />
			</apis>
			<variables >
				<variable public='0' >
					<def class_type='variable' name='ScGroup' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
				</variable>
				<variable public='0' >
					<def class_type='variable' name='enabled' type='u8' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
				</variable>
				<variable public='0' >
					<def class_type='variable' name='step_phase' type='u8' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
				</variable>
				<variable public='0' >
					<def class_type='variable' name='false' type='b1' description='' isconst='1' isHidden='0' isinit='1' usrinit='0' setinit='0' />
				</variable>
				<variable public='0' >
					<def class_type='variable' name='target_start_pos' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
				</variable>
				<variable public='0' >
					<def class_type='variable' name='Total_Z' type='f32' description='' isconst='0' isHidden='0' isinit='1' usrinit='0.0' setinit='0.0' />
				</variable>
				<variable public='0' >
					<def class_type='variable' name='Total_Y' type='f32' description='' isconst='0' isHidden='0' isinit='1' usrinit='0.0' setinit='0.0' />
				</variable>
				<variable public='0' >
					<def class_type='variable' name='Total_X' type='f32' description='' isconst='0' isHidden='0' isinit='1' usrinit='0.0' setinit='0.0' />
				</variable>
				<variable public='0' >
					<def class_type='variable' name='target_handle' type='h32' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
				</variable>
				<variable public='0' >
					<def class_type='variable' name='Total_Angle' type='f32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0.0' setinit='' />
				</variable>
				<variable public='0' >
					<def class_type='variable' name='dummy' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
				</variable>
				<variable public='0' >
					<def class_type='variable' name='rollover' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
				</variable>
				<variable public='0' >
					<def class_type='variable' name='moving_start_pos' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
				</variable>
				<variable public='0' >
					<def class_type='variable' name='ScC4' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
				</variable>
				<variable public='0' >
					<def class_type='variable' name='ScC3' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
				</variable>
				<variable public='0' >
					<def class_type='variable' name='ScC2' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
				</variable>
				<variable public='0' >
					<def class_type='variable' name='ScC1' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
				</variable>
				<variable public='0' >
					<def class_type='variable' name='true' type='b1' description='' isconst='1' isHidden='0' isinit='1' usrinit='1' setinit='1' />
				</variable>
			</variables>
			<macros >
				<macro >
					<flowline name='prv_pin_change' description='Sent during simulation if a connected port pin changes' statediag='0' >
						<return name='Return' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='value' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='coils_enable = 1' swap='0' >
							<flowline >
								<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='Driver = 0' swap='0' >
									<flowline />
									<flowline >
										<command class_type='call' title='Call Component Macro' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' component='lut' macro='GetInt' >
											<return exp='.value' />
											<argument exp='step_phase' />
										</command>
									</flowline>
								</command>
								<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='coil1_object != 0 AND coil1_object != this' swap='0' >
									<flowline >
										<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='Driver = 0' swap='0' >
											<flowline >
												<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='Coil_1' swap='0' >
													<flowline >
														<command class_type='sim' title='Panel' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.SetValue' >
															<argument exp='coil1_object' />
															<argument exp='&quot;Color&quot;' />
															<argument exp='colour_act' />
														</command>
													</flowline>
													<flowline >
														<command class_type='sim' title='Panel' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.SetValue' >
															<argument exp='coil1_object' />
															<argument exp='&quot;Color&quot;' />
															<argument exp='colour_non_act' />
														</command>
													</flowline>
												</command>
											</flowline>
											<flowline >
												<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='.value &amp; 1' swap='0' >
													<flowline >
														<command class_type='sim' title='Panel' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.SetValue' >
															<argument exp='coil1_object' />
															<argument exp='&quot;Color&quot;' />
															<argument exp='colour_act' />
														</command>
													</flowline>
													<flowline >
														<command class_type='sim' title='Panel' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.SetValue' >
															<argument exp='coil1_object' />
															<argument exp='&quot;Color&quot;' />
															<argument exp='colour_non_act' />
														</command>
													</flowline>
												</command>
											</flowline>
										</command>
									</flowline>
									<flowline />
								</command>
								<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='coil2_object != 0 AND coil2_object != this' swap='0' >
									<flowline >
										<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='Driver = 0' swap='0' >
											<flowline >
												<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='Coil_2' swap='0' >
													<flowline >
														<command class_type='sim' title='Panel' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.SetValue' >
															<argument exp='coil2_object' />
															<argument exp='&quot;Color&quot;' />
															<argument exp='colour_act' />
														</command>
													</flowline>
													<flowline >
														<command class_type='sim' title='Panel' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.SetValue' >
															<argument exp='coil2_object' />
															<argument exp='&quot;Color&quot;' />
															<argument exp='colour_non_act' />
														</command>
													</flowline>
												</command>
											</flowline>
											<flowline >
												<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='.value &amp; 2' swap='0' >
													<flowline >
														<command class_type='sim' title='Panel' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.SetValue' >
															<argument exp='coil2_object' />
															<argument exp='&quot;Color&quot;' />
															<argument exp='colour_act' />
														</command>
													</flowline>
													<flowline >
														<command class_type='sim' title='Panel' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.SetValue' >
															<argument exp='coil2_object' />
															<argument exp='&quot;Color&quot;' />
															<argument exp='colour_non_act' />
														</command>
													</flowline>
												</command>
											</flowline>
										</command>
									</flowline>
									<flowline />
								</command>
								<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='coil3_object != 0 AND coil3_object != this' swap='0' >
									<flowline >
										<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='Driver = 0' swap='0' >
											<flowline >
												<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='Coil_3' swap='0' >
													<flowline >
														<command class_type='sim' title='Panel' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.SetValue' >
															<argument exp='coil3_object' />
															<argument exp='&quot;Color&quot;' />
															<argument exp='colour_act' />
														</command>
													</flowline>
													<flowline >
														<command class_type='sim' title='Panel' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.SetValue' >
															<argument exp='coil3_object' />
															<argument exp='&quot;Color&quot;' />
															<argument exp='colour_non_act' />
														</command>
													</flowline>
												</command>
											</flowline>
											<flowline >
												<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='.value &amp; 4' swap='0' >
													<flowline >
														<command class_type='sim' title='Panel' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.SetValue' >
															<argument exp='coil3_object' />
															<argument exp='&quot;Color&quot;' />
															<argument exp='colour_act' />
														</command>
													</flowline>
													<flowline >
														<command class_type='sim' title='Panel' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.SetValue' >
															<argument exp='coil3_object' />
															<argument exp='&quot;Color&quot;' />
															<argument exp='colour_non_act' />
														</command>
													</flowline>
												</command>
											</flowline>
										</command>
									</flowline>
									<flowline />
								</command>
								<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='coil4_object != 0 AND coil4_object != this' swap='0' >
									<flowline >
										<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='Driver = 0' swap='0' >
											<flowline >
												<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='Coil_4' swap='0' >
													<flowline >
														<command class_type='sim' title='Panel' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.SetValue' >
															<argument exp='coil4_object' />
															<argument exp='&quot;Color&quot;' />
															<argument exp='colour_act' />
														</command>
													</flowline>
													<flowline >
														<command class_type='sim' title='Panel' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.SetValue' >
															<argument exp='coil4_object' />
															<argument exp='&quot;Color&quot;' />
															<argument exp='colour_non_act' />
														</command>
													</flowline>
												</command>
											</flowline>
											<flowline >
												<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='.value &amp; 8' swap='0' >
													<flowline >
														<command class_type='sim' title='Panel' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.SetValue' >
															<argument exp='coil4_object' />
															<argument exp='&quot;Color&quot;' />
															<argument exp='colour_act' />
														</command>
													</flowline>
													<flowline >
														<command class_type='sim' title='Panel' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.SetValue' >
															<argument exp='coil4_object' />
															<argument exp='&quot;Color&quot;' />
															<argument exp='colour_non_act' />
														</command>
													</flowline>
												</command>
											</flowline>
										</command>
									</flowline>
									<flowline />
								</command>
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Sim_IncrementStep' description='' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<local name='angle' type='f32' description='' isconst='0' isHidden='0' isinit='1' usrinit='0.0' setinit='0.0' />
						<local name='linear' type='f32' description='' isconst='0' isHidden='0' isinit='1' usrinit='0.0' setinit='0.0' />
						<local name='value' type='u8' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
						<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='enabled' swap='0' >
							<flowline >
								<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='Step_Type = 0' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
											<exp exp='.angle = FLOAT 360.0 / Steps_Per_Rev' />
											<exp exp='.linear = FLOAT 1.0 / Steps_Per_Rev' />
										</command>
									</flowline>
									<flowline >
										<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
											<exp exp='.angle = FLOAT 180.0 / Steps_Per_Rev' />
											<exp exp='.linear = FLOAT 0.5 / Steps_Per_Rev' />
										</command>
									</flowline>
								</command>
								<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
									<exp exp='Total_Angle = Total_Angle + .angle' />
									<exp exp='Total_X = Total_X + (x_pitch * .linear)' />
									<exp exp='Total_Y = Total_Y + (y_pitch * .linear)' />
									<exp exp='Total_Z = Total_Z + (z_pitch * .linear)' />
								</command>
								<command class_type='call' title='Call Macro' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='prv_MoveObjects' />
								<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
									<exp exp='step_phase = (step_phase + 1)' />
								</command>
								<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='step_phase &gt;= rollover' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
											<exp exp='step_phase = 0' />
										</command>
									</flowline>
									<flowline />
								</command>
								<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='Driver = 0' swap='0' >
									<flowline >
										<command class_type='call' title='Call Component Macro' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' component='lut' macro='GetInt' >
											<return exp='.value' />
											<argument exp='step_phase' />
										</command>
										<command class_type='call' title='Call Macro' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Output_Step' >
											<argument exp='.value' />
										</command>
									</flowline>
									<flowline >
										<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
											<exp exp='DirectionPin = 1' />
										</command>
										<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
											<exp exp='StepPin = 1' />
										</command>
										<command class_type='delay' title='Delay' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='100' type='0' />
										<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
											<exp exp='StepPin = 0' />
										</command>
									</flowline>
								</command>
								<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='ConnHandle' swap='0' >
									<flowline >
										<command class_type='sim' title='Call Component Macro' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' component='CouplingDummy1' macro='Rotate' >
											<argument exp='Angle' />
										</command>
									</flowline>
									<flowline />
								</command>
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Ev_Stop' description='Broadcast to all components that simulation has stopped' statediag='0' >
						<return name='Return' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Panel.Position.Set' >
							<argument exp='moving_part' />
							<argument exp='moving_start_pos' />
						</command>
						<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Panel.Position.Set' >
							<argument exp='target_handle' />
							<argument exp='target_start_pos' />
						</command>
						<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
							<exp exp='Total_Angle = 0.0' />
							<exp exp='Total_X = 0.0' />
							<exp exp='Total_Y = 0.0' />
							<exp exp='Total_Z = 0.0' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='IncrementStep' description='Move the motor forward by one step.' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<local name='value' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='enabled' swap='0' >
							<flowline >
								<command class_type='decision' title='Transistor / FET Output Mode' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='driver = 0' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
											<exp exp='step_phase = (step_phase + 1)' />
										</command>
										<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='step_phase &gt;= rollover' swap='0' >
											<flowline >
												<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
													<exp exp='step_phase = 0' />
												</command>
											</flowline>
											<flowline />
										</command>
										<command class_type='call' title='Call Component Macro' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' component='lut' macro='GetInt' >
											<return exp='.value' />
											<argument exp='step_phase' />
										</command>
										<command class_type='call' title='Call Macro' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Output_Step' >
											<argument exp='.value' />
										</command>
									</flowline>
									<flowline >
										<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
											<exp exp='DirectionPin = 1' />
										</command>
										<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
											<exp exp='StepPin = 1' />
										</command>
										<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='PulseWidth' swap='0' >
											<flowline >
												<command class_type='delay' title='Delay' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='PulseWidth' type='0' />
											</flowline>
											<flowline />
										</command>
										<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
											<exp exp='StepPin = 0' />
										</command>
										<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='PulseWidth' swap='0' >
											<flowline >
												<command class_type='delay' title='Delay' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='PulseWidth' type='0' />
											</flowline>
											<flowline />
										</command>
									</flowline>
								</command>
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='SetTarget' description='Assign a panel object to be moved by the motor.
Once linked, the object will respond to the &apos;Motor Simulation&apos; properties, and it
will be moved whenever the motor is stepped.' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<param name='target' type='h32' description='An object to be moved by the motor.' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
							<exp exp='target_handle = .target' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='DecrementStep' description='Move the motor backwards by one step.' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<local name='value' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='enabled' swap='0' >
							<flowline >
								<command class_type='decision' title='Transistor / FET Output Mode' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='driver = 0' swap='0' >
									<flowline >
										<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='step_phase = 0' swap='0' >
											<flowline >
												<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
													<exp exp='step_phase = rollover' />
												</command>
											</flowline>
											<flowline />
										</command>
										<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
											<exp exp='step_phase = (step_phase - 1)' />
										</command>
										<command class_type='call' title='Call Component Macro' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' component='lut' macro='GetInt' >
											<return exp='.value' />
											<argument exp='step_phase' />
										</command>
										<command class_type='call' title='Call Macro' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Output_Step' >
											<argument exp='.value' />
										</command>
									</flowline>
									<flowline >
										<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
											<exp exp='DirectionPin = 0' />
										</command>
										<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
											<exp exp='StepPin = 1' />
										</command>
										<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='PulseWidth' swap='0' >
											<flowline >
												<command class_type='delay' title='Delay' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='PulseWidth' type='0' />
											</flowline>
											<flowline />
										</command>
										<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
											<exp exp='StepPin = 0' />
										</command>
										<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='PulseWidth' swap='0' >
											<flowline >
												<command class_type='delay' title='Delay' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='PulseWidth' type='0' />
											</flowline>
											<flowline />
										</command>
									</flowline>
								</command>
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='EnableMotor' description='Turn on the motor.  This must be done before it will respond to any other macros.' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<local name='value' type='u8' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
						<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
							<exp exp='enabled = 1' />
						</command>
						<command class_type='decision' title='Transistor / FET Output Mode' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='driver = 0' swap='0' >
							<flowline >
								<command class_type='call' title='Call Component Macro' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' component='lut' macro='GetInt' >
									<return exp='.value' />
									<argument exp='step_phase' />
								</command>
								<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='.value &amp; 0x01' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
											<exp exp='Coil_1 = 1' />
										</command>
									</flowline>
									<flowline >
										<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
											<exp exp='Coil_1 = 0' />
										</command>
									</flowline>
								</command>
								<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='.value &amp; 0x02' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
											<exp exp='Coil_2 = 1' />
										</command>
									</flowline>
									<flowline >
										<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
											<exp exp='Coil_2 = 0' />
										</command>
									</flowline>
								</command>
								<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='.value &amp; 0x04' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
											<exp exp='Coil_3 = 1' />
										</command>
									</flowline>
									<flowline >
										<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
											<exp exp='Coil_3 = 0' />
										</command>
									</flowline>
								</command>
								<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='.value &amp; 0x08' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
											<exp exp='Coil_4 = 1' />
										</command>
									</flowline>
									<flowline >
										<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
											<exp exp='Coil_4 = 0' />
										</command>
									</flowline>
								</command>
							</flowline>
							<flowline >
								<command class_type='calculation' title='Assign Enabled State to Enable Pin' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
									<exp exp='EnablePin = EnableState' />
								</command>
							</flowline>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Output_Step' description='' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<param name='Pattern' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='.Pattern &amp; 0x01' swap='0' >
							<flowline >
								<command class_type='calculation' title='Set Pin High' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
									<exp exp='Coil_1 = 1' />
								</command>
							</flowline>
							<flowline >
								<command class_type='calculation' title='Set Pin Low' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
									<exp exp='Coil_1 = 0' />
								</command>
							</flowline>
						</command>
						<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='.Pattern &amp; 0x02' swap='0' >
							<flowline >
								<command class_type='calculation' title='Set Pin High' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
									<exp exp='Coil_2 = 1' />
								</command>
							</flowline>
							<flowline >
								<command class_type='calculation' title='Set Pin Low' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
									<exp exp='Coil_2 = 0' />
								</command>
							</flowline>
						</command>
						<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='.Pattern &amp; 0x04' swap='0' >
							<flowline >
								<command class_type='calculation' title='Set Pin High' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
									<exp exp='Coil_3 = 1' />
								</command>
							</flowline>
							<flowline >
								<command class_type='calculation' title='Set Pin Low' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
									<exp exp='Coil_3 = 0' />
								</command>
							</flowline>
						</command>
						<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='.Pattern &amp; 0x08' swap='0' >
							<flowline >
								<command class_type='calculation' title='Set Pin High' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
									<exp exp='Coil_4 = 1' />
								</command>
							</flowline>
							<flowline >
								<command class_type='calculation' title='Set Pin Low' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
									<exp exp='Coil_4 = 0' />
								</command>
							</flowline>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='prv_init' description='Initialisation routine for the component' statediag='0' >
						<return name='Return' type='u32' description='Non-zero to prevent initialisation' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Panel.Position.Get' >
							<return exp='moving_start_pos' />
							<argument exp='moving_part' />
						</command>
						<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Panel.Position.Get' >
							<return exp='target_start_pos' />
							<argument exp='target_handle' />
						</command>
						<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
							<exp exp='Total_Angle = 0.0' />
							<exp exp='Total_X = 0.0' />
							<exp exp='Total_Y = 0.0' />
							<exp exp='Total_Z = 0.0' />
						</command>
						<command class_type='switch' title='Switch' textarea='36,25,36,25' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='Step_Type' >
							<case >
								<flowline >
									<command class_type='sim' title='Built-in Function' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.SetValue' >
										<argument exp='lut' />
										<argument exp='&quot;intfixed&quot;' />
										<argument exp='&quot;0x09,0x05,0x06,0x0A&quot;' />
									</command>
									<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='1' />
									<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='0' />
									<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='1' />
									<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='0' />
									<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='1' />
									<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='0' />
									<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='1' />
									<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='0' />
									<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
										<exp exp='rollover = 4' />
									</command>
								</flowline>
							</case>
							<case exp='1' >
								<flowline >
									<command class_type='sim' title='Built-in Function' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.SetValue' >
										<argument exp='lut' />
										<argument exp='&quot;intfixed&quot;' />
										<argument exp='&quot;0x09,0x01,0x05,0x04,0x06,0x02,0x0A,0x08&quot;' />
									</command>
									<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='1' />
									<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='0' />
									<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='1' />
									<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='0' />
									<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='1' />
									<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='0' />
									<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
										<exp exp='rollover = 8' />
									</command>
								</flowline>
							</case>
							<case exp='2' >
								<flowline >
									<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='1' />
									<command class_type='sim' title='Built-in Function' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.SetValue' >
										<argument exp='lut' />
										<argument exp='&quot;intfixed&quot;' />
										<argument exp='&quot;0x06,0x0e,0x0a,0x0b,0x09,0x0d,0x05,0x07&quot;' />
									</command>
									<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='0' />
									<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='1' />
									<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='0' />
									<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='1' />
									<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='0' />
									<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
										<exp exp='rollover = 8' />
									</command>
								</flowline>
							</case>
						</command>
						<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
							<exp exp='enabled = 0' />
							<exp exp='step_phase = 0' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Sim_DecrementStep' description='' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<local name='value' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='angle' type='f32' description='Angle to turn by' isconst='0' isHidden='0' isinit='0' usrinit='0.0' setinit='' />
						<local name='linear' type='f32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0.0' setinit='' />
						<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='enabled' swap='0' >
							<flowline >
								<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='Step_Type = 0' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
											<exp exp='.angle = FLOAT -360.0 / Steps_Per_Rev' />
											<exp exp='.linear = FLOAT -1.0 / Steps_Per_Rev' />
										</command>
									</flowline>
									<flowline >
										<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
											<exp exp='.angle = FLOAT -180.0 / Steps_Per_Rev' />
											<exp exp='.linear = FLOAT -0.5 / Steps_Per_Rev' />
										</command>
									</flowline>
								</command>
								<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
									<exp exp='Total_Angle = Total_Angle + .angle' />
									<exp exp='Total_X = Total_X + (x_pitch * .linear)' />
									<exp exp='Total_Y = Total_Y + (y_pitch * .linear)' />
									<exp exp='Total_Z = Total_Z + (z_pitch * .linear)' />
								</command>
								<command class_type='call' title='Call Macro' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='prv_MoveObjects' />
								<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='step_phase = 0' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
											<exp exp='step_phase = rollover' />
										</command>
									</flowline>
									<flowline />
								</command>
								<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
									<exp exp='step_phase = (step_phase - 1)' />
								</command>
								<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='Driver = 0' swap='0' >
									<flowline >
										<command class_type='call' title='Call Component Macro' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' component='lut' macro='GetInt' >
											<return exp='.value' />
											<argument exp='step_phase' />
										</command>
										<command class_type='call' title='Call Macro' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Output_Step' >
											<argument exp='.value' />
										</command>
									</flowline>
									<flowline >
										<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
											<exp exp='DirectionPin = 0' />
										</command>
										<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
											<exp exp='StepPin = 1' />
										</command>
										<command class_type='delay' title='Delay' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='100' type='0' />
										<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
											<exp exp='StepPin = 0' />
										</command>
									</flowline>
								</command>
								<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='ConnHandle' swap='0' >
									<flowline >
										<command class_type='sim' title='Call Component Macro' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' component='CouplingDummy1' macro='Rotate' >
											<argument exp='-Angle' />
										</command>
									</flowline>
									<flowline />
								</command>
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Ev_AddVar' description='Sent to a component to allow dynamic amendment of global constant declarations' statediag='0' >
						<return name='Return' type='u32' description='Non-zero to include definition - initialised on call' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='VarName' type='T8' description='The original Flowcode variable' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</param>
						<param name='ExpandName' type='T8' description='The expanded variable name' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</param>
						<param name='Expansion' type='T8*' description='The expanded string to inline to the code' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</param>
						<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
							<exp exp='.Return = 0' />
						</command>
						<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='Compare$ (.VarName,&quot;rollover&quot;,1) = 0' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
									<exp exp='.Expansion = Left$ (.Expansion, Length$ (.Expansion) - 2)' />
								</command>
								<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
									<exp exp='.Expansion = .Expansion + &quot; = &quot;' />
								</command>
								<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='Step_Type = 0' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
											<exp exp='.Expansion = .Expansion + &quot;4;&quot;' />
										</command>
									</flowline>
									<flowline >
										<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
											<exp exp='.Expansion = .Expansion + &quot;8;&quot;' />
										</command>
									</flowline>
								</command>
								<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
									<exp exp='.Expansion = .Expansion + &quot;\n&quot;' />
								</command>
								<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
									<exp exp='.Return = 1' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='Compare$ (.VarName,&quot;enabled&quot;,1) = 0' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
									<exp exp='.Return = 1' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='Compare$ (.VarName,&quot;step_phase&quot;,1) = 0' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
									<exp exp='.Return = 1' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='Compare$ (.VarName,&quot;dummy&quot;,1) = 0' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
									<exp exp='.Return = 1' />
								</command>
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='prv_property_change' description='Sent when a property has been changed by the User' statediag='0' >
						<return name='Return' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='TempStr' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='Port' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='BitBase' type='u16' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
						<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='Driver = 0' swap='0' >
							<flowline >
								<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.SetVisible' >
									<argument exp='this' />
									<argument exp='&quot;Coil_1&quot;' />
									<argument exp='1' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.SetVisible' >
									<argument exp='this' />
									<argument exp='&quot;Coil_2&quot;' />
									<argument exp='1' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.SetVisible' >
									<argument exp='this' />
									<argument exp='&quot;Coil_3&quot;' />
									<argument exp='1' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.SetVisible' >
									<argument exp='this' />
									<argument exp='&quot;Coil_4&quot;' />
									<argument exp='1' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.SetVisible' >
									<argument exp='this' />
									<argument exp='&quot;StepPin&quot;' />
									<argument exp='0' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.SetVisible' >
									<argument exp='this' />
									<argument exp='&quot;DirectionPin&quot;' />
									<argument exp='0' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.SetVisible' >
									<argument exp='this' />
									<argument exp='&quot;EnablePin&quot;' />
									<argument exp='0' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.SetVisible' >
									<argument exp='this' />
									<argument exp='&quot;EnableState&quot;' />
									<argument exp='0' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.SetVisible' >
									<argument exp='this' />
									<argument exp='&quot;PulseWidth&quot;' />
									<argument exp='0' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.GetValue' >
									<return exp='.TempStr' />
									<argument exp='this' />
									<argument exp='&quot;Coil_1&quot;' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.SetValue' >
									<argument exp='this' />
									<argument exp='&quot;StepPin&quot;' />
									<argument exp='.TempStr' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.GetValue' >
									<return exp='.TempStr' />
									<argument exp='this' />
									<argument exp='&quot;Coil_2&quot;' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.SetValue' >
									<argument exp='this' />
									<argument exp='&quot;DirectionPin&quot;' />
									<argument exp='.TempStr' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.GetValue' >
									<return exp='.TempStr' />
									<argument exp='this' />
									<argument exp='&quot;Coil_3&quot;' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.SetValue' >
									<argument exp='this' />
									<argument exp='&quot;EnablePin&quot;' />
									<argument exp='.TempStr' />
								</command>
								<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='Waveforms' swap='0' >
									<flowline >
										<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Tree.GetName' >
											<return exp='.TempStr' />
											<argument exp='this' />
										</command>
										<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='DataRecorder.AddGroup' >
											<return exp='ScGroup' />
											<argument exp='.TempStr' />
										</command>
										<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='DataRecorder.AddStream' >
											<return exp='ScC1' />
											<argument exp='ScGroup' />
											<argument exp='&quot;Coil 1 - &quot; + ::Component.Property.GetValue(this, &quot;Coil_1&quot;)' />
										</command>
										<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='DataRecorder.AddStream' >
											<return exp='ScC2' />
											<argument exp='ScGroup' />
											<argument exp='&quot;Coil 2 - &quot; + ::Component.Property.GetValue(this, &quot;Coil_2&quot;)' />
										</command>
										<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='DataRecorder.AddStream' >
											<return exp='ScC3' />
											<argument exp='ScGroup' />
											<argument exp='&quot;Coil 3 - &quot; + ::Component.Property.GetValue(this, &quot;Coil_3&quot;)' />
										</command>
										<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='DataRecorder.AddStream' >
											<return exp='ScC4' />
											<argument exp='ScGroup' />
											<argument exp='&quot;Coil 4 - &quot; + ::Component.Property.GetValue(this, &quot;Coil_4&quot;)' />
										</command>
										<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Connection.DecodePort' >
											<return exp='.Port' />
											<argument exp='::Component.Property.GetValue(this, this::Coil_1)' />
											<argument exp='0' />
											<argument exp='.BitBase' />
											<argument exp='1' />
										</command>
										<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='DataRecorder.AddPort' >
											<argument exp='ScC1' />
											<argument exp='.Port' />
											<argument exp='1 &lt;&lt; .BitBase' />
											<argument exp='1' />
											<argument exp='0' />
										</command>
										<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Connection.DecodePort' >
											<return exp='.Port' />
											<argument exp='::Component.Property.GetValue(this, this::Coil_2)' />
											<argument exp='0' />
											<argument exp='.BitBase' />
											<argument exp='1' />
										</command>
										<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='DataRecorder.AddPort' >
											<argument exp='ScC2' />
											<argument exp='.Port' />
											<argument exp='1 &lt;&lt; .BitBase' />
											<argument exp='1' />
											<argument exp='0' />
										</command>
										<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Connection.DecodePort' >
											<return exp='.Port' />
											<argument exp='::Component.Property.GetValue(this, this::Coil_3)' />
											<argument exp='0' />
											<argument exp='.BitBase' />
											<argument exp='1' />
										</command>
										<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='DataRecorder.AddPort' >
											<argument exp='ScC3' />
											<argument exp='.Port' />
											<argument exp='1 &lt;&lt; .BitBase' />
											<argument exp='1' />
											<argument exp='0' />
										</command>
										<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Connection.DecodePort' >
											<return exp='.Port' />
											<argument exp='::Component.Property.GetValue(this, this::Coil_4)' />
											<argument exp='0' />
											<argument exp='.BitBase' />
											<argument exp='1' />
										</command>
										<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='DataRecorder.AddPort' >
											<argument exp='ScC4' />
											<argument exp='.Port' />
											<argument exp='1 &lt;&lt; .BitBase' />
											<argument exp='1' />
											<argument exp='0' />
										</command>
									</flowline>
									<flowline >
										<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
											<exp exp='ScGroup = 0' />
											<exp exp='ScC1 = 0' />
											<exp exp='ScC2 = 0' />
											<exp exp='ScC3 = 0' />
											<exp exp='ScC4 = 0' />
										</command>
									</flowline>
								</command>
							</flowline>
							<flowline >
								<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.SetVisible' >
									<argument exp='this' />
									<argument exp='&quot;Coil_1&quot;' />
									<argument exp='0' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.SetVisible' >
									<argument exp='this' />
									<argument exp='&quot;Coil_2&quot;' />
									<argument exp='0' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.SetVisible' >
									<argument exp='this' />
									<argument exp='&quot;Coil_3&quot;' />
									<argument exp='0' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.SetVisible' >
									<argument exp='this' />
									<argument exp='&quot;Coil_4&quot;' />
									<argument exp='0' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.SetVisible' >
									<argument exp='this' />
									<argument exp='&quot;StepPin&quot;' />
									<argument exp='1' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.SetVisible' >
									<argument exp='this' />
									<argument exp='&quot;DirectionPin&quot;' />
									<argument exp='1' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.SetVisible' >
									<argument exp='this' />
									<argument exp='&quot;EnablePin&quot;' />
									<argument exp='1' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.SetVisible' >
									<argument exp='this' />
									<argument exp='&quot;EnableState&quot;' />
									<argument exp='1' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.SetVisible' >
									<argument exp='this' />
									<argument exp='&quot;PulseWidth&quot;' />
									<argument exp='1' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.GetValue' >
									<return exp='.TempStr' />
									<argument exp='this' />
									<argument exp='&quot;StepPin&quot;' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.SetValue' >
									<argument exp='this' />
									<argument exp='&quot;Coil_1&quot;' />
									<argument exp='.TempStr' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.SetValue' >
									<argument exp='this' />
									<argument exp='&quot;Coil_2&quot;' />
									<argument exp='.TempStr' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.GetValue' >
									<return exp='.TempStr' />
									<argument exp='this' />
									<argument exp='&quot;DirectionPin&quot;' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.SetValue' >
									<argument exp='this' />
									<argument exp='&quot;Coil_3&quot;' />
									<argument exp='.TempStr' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.SetValue' >
									<argument exp='this' />
									<argument exp='&quot;Coil_4&quot;' />
									<argument exp='.TempStr' />
								</command>
								<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='Waveforms' swap='0' >
									<flowline >
										<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Tree.GetName' >
											<return exp='.TempStr' />
											<argument exp='this' />
										</command>
										<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='DataRecorder.AddGroup' >
											<return exp='ScGroup' />
											<argument exp='.TempStr' />
										</command>
										<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='DataRecorder.AddStream' >
											<return exp='ScC1' />
											<argument exp='ScGroup' />
											<argument exp='&quot;Step - &quot; + ::Component.Property.GetValue(this, &quot;StepPin&quot;)' />
										</command>
										<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='DataRecorder.AddStream' >
											<return exp='ScC2' />
											<argument exp='ScGroup' />
											<argument exp='&quot;Direction - &quot; + ::Component.Property.GetValue(this, &quot;DirectionPin&quot;)' />
										</command>
										<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
											<exp exp='ScC3 = 0' />
											<exp exp='ScC4 = 0' />
										</command>
										<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Connection.DecodePort' >
											<return exp='.Port' />
											<argument exp='::Component.Property.GetValue(this, this::StepPin)' />
											<argument exp='0' />
											<argument exp='.BitBase' />
											<argument exp='1' />
										</command>
										<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='DataRecorder.AddPort' >
											<argument exp='ScC1' />
											<argument exp='.Port' />
											<argument exp='1 &lt;&lt; .BitBase' />
											<argument exp='1' />
											<argument exp='0' />
										</command>
										<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Connection.DecodePort' >
											<return exp='.Port' />
											<argument exp='::Component.Property.GetValue(this, this::DirectionPin)' />
											<argument exp='0' />
											<argument exp='.BitBase' />
											<argument exp='1' />
										</command>
										<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='DataRecorder.AddPort' >
											<argument exp='ScC2' />
											<argument exp='.Port' />
											<argument exp='1 &lt;&lt; .BitBase' />
											<argument exp='1' />
											<argument exp='0' />
										</command>
									</flowline>
									<flowline >
										<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
											<exp exp='ScGroup = 0' />
											<exp exp='ScC1 = 0' />
											<exp exp='ScC2 = 0' />
											<exp exp='ScC3 = 0' />
											<exp exp='ScC4 = 0' />
										</command>
									</flowline>
								</command>
							</flowline>
						</command>
						<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='moving_part = this' swap='0' >
							<flowline >
								<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.SetValue' >
									<argument exp='this' />
									<argument exp='&quot;moving_part&quot;' />
									<argument exp='0' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='coil1_object = this' swap='0' >
							<flowline >
								<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.SetValue' >
									<argument exp='this' />
									<argument exp='&quot;coil1_object&quot;' />
									<argument exp='0' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='coil2_object = this' swap='0' >
							<flowline >
								<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.SetValue' >
									<argument exp='this' />
									<argument exp='&quot;coil2_object&quot;' />
									<argument exp='0' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='coil3_object = this' swap='0' >
							<flowline >
								<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.SetValue' >
									<argument exp='this' />
									<argument exp='&quot;coil3_object&quot;' />
									<argument exp='0' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='coil4_object = this' swap='0' >
							<flowline >
								<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.SetValue' >
									<argument exp='this' />
									<argument exp='&quot;coil4_object&quot;' />
									<argument exp='0' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Panel.Position.Get' >
							<return exp='moving_start_pos' />
							<argument exp='moving_part' />
						</command>
						<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Panel.Position.Get' >
							<return exp='target_start_pos' />
							<argument exp='target_handle' />
						</command>
						<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='coil1_object != 0' swap='0' >
							<flowline >
								<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.SetVisible' >
									<argument exp='coil1_object' />
									<argument exp='coils_enable' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.SetSolid' >
									<argument exp='coil1_object' />
									<argument exp='coils_enable' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.SetInteractive' >
									<argument exp='coil1_object' />
									<argument exp='coils_enable' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='coil2_object != 0' swap='0' >
							<flowline >
								<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.SetVisible' >
									<argument exp='coil2_object' />
									<argument exp='coils_enable' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.SetSolid' >
									<argument exp='coil2_object' />
									<argument exp='coils_enable' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.SetInteractive' >
									<argument exp='coil2_object' />
									<argument exp='coils_enable' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='coil3_object != 0' swap='0' >
							<flowline >
								<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.SetVisible' >
									<argument exp='coil3_object' />
									<argument exp='coils_enable' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.SetSolid' >
									<argument exp='coil3_object' />
									<argument exp='coils_enable' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.SetInteractive' >
									<argument exp='coil3_object' />
									<argument exp='coils_enable' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='coil4_object != 0' swap='0' >
							<flowline >
								<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.SetVisible' >
									<argument exp='coil4_object' />
									<argument exp='coils_enable' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.SetSolid' >
									<argument exp='coil4_object' />
									<argument exp='coils_enable' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.SetInteractive' >
									<argument exp='coil4_object' />
									<argument exp='coils_enable' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='switch' title='Switch' textarea='36,25,36,25' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='Step_Type' >
							<case >
								<flowline >
									<command class_type='sim' title='Built-in Function' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.SetValue' >
										<argument exp='lut' />
										<argument exp='&quot;intfixed&quot;' />
										<argument exp='&quot;0x09,0x05,0x06,0x0A&quot;' />
									</command>
									<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='1' />
									<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='0' />
									<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='1' />
									<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='0' />
									<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='1' />
									<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='0' />
									<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='1' />
									<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='0' />
									<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
										<exp exp='rollover = 4' />
									</command>
								</flowline>
							</case>
							<case exp='1' >
								<flowline >
									<command class_type='sim' title='Built-in Function' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.SetValue' >
										<argument exp='lut' />
										<argument exp='&quot;intfixed&quot;' />
										<argument exp='&quot;0x09,0x01,0x05,0x04,0x06,0x02,0x0A,0x08&quot;' />
									</command>
									<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='1' />
									<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='0' />
									<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='1' />
									<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='0' />
									<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='1' />
									<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='0' />
									<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
										<exp exp='rollover = 8' />
									</command>
								</flowline>
							</case>
							<case exp='2' >
								<flowline >
									<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='1' />
									<command class_type='sim' title='Built-in Function' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.SetValue' >
										<argument exp='lut' />
										<argument exp='&quot;intfixed&quot;' />
										<argument exp='&quot;0x06,0x0e,0x0a,0x0b,0x09,0x0d,0x05,0x07&quot;' />
									</command>
									<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='0' />
									<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='1' />
									<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='0' />
									<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='1' />
									<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='0' />
									<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
										<exp exp='rollover = 8' />
									</command>
								</flowline>
							</case>
						</command>
						<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='Step_Type' swap='0' >
							<flowline >
								<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.SetValue' >
									<argument exp='this' />
									<argument exp='&quot;Angle&quot;' />
									<argument exp='360.0 / FLOAT (Steps_Per_Rev * 2)' />
								</command>
							</flowline>
							<flowline >
								<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.SetValue' >
									<argument exp='this' />
									<argument exp='&quot;Angle&quot;' />
									<argument exp='360.0 / FLOAT Steps_Per_Rev' />
								</command>
							</flowline>
						</command>
						<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='ConnHandle' swap='0' >
							<flowline >
								<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='System.RedirectMacros' >
									<argument exp='CouplingDummy1' />
									<argument exp='ConnHandle' />
								</command>
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='DisableMotor' description='Turn off the motor.  It will no longer respond to any other macros.' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
							<exp exp='enabled = 0' />
						</command>
						<command class_type='decision' title='Transistor / FET Output Mode' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='driver = 0' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
									<exp exp='Coil_1 = 0' />
									<exp exp='Coil_2 = 0' />
									<exp exp='Coil_3 = 0' />
									<exp exp='Coil_4 = 0' />
								</command>
								<command class_type='calculation' title='Convert pins to inputs' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
									<exp exp='dummy = Coil_1' />
									<exp exp='dummy = Coil_2' />
									<exp exp='dummy = Coil_3' />
									<exp exp='dummy = Coil_4' />
								</command>
							</flowline>
							<flowline >
								<command class_type='calculation' title='Assign Disabled State to Enable Pin' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
									<exp exp='EnablePin = 1 - EnableState' />
								</command>
							</flowline>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Ev_Start' description='Broadcast to all components that simulation is starting' statediag='0' >
						<return name='Return' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='call' title='Call Macro' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='prv_init' />
					</flowline>
				</macro>
				<macro >
					<flowline name='Main' description='' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<command class_type='call' title='Call Macro' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='EnableMotor' />
						<command class_type='loop' title='Loop' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' type='0' exp='1' >
							<flowline >
								<command class_type='loop' title='Loop' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' type='2' exp='200' >
									<flowline >
										<command class_type='call' title='Call Macro' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='IncrementStep' />
										<command class_type='delay' title='Delay' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='20' type='1' />
									</flowline>
								</command>
								<command class_type='loop' title='Loop' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' type='2' exp='200' >
									<flowline >
										<command class_type='call' title='Call Macro' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='DecrementStep' />
										<command class_type='delay' title='Delay' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='20' type='1' />
									</flowline>
								</command>
							</flowline>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='prv_MoveObjects' description='' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<local name='new_moving_position' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='new_target_position' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='moving_part != 0 AND moving_part != this' swap='0' >
							<flowline >
								<command class_type='sim' title='Call Macro' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Panel.Position.Get' >
									<return exp='.new_moving_position' />
									<argument exp='moving_start_pos' />
								</command>
								<command class_type='switch' title='Switch' textarea='36,25,36,25' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='rot_axis' >
									<case >
										<flowline >
											<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='1' />
											<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='0' />
											<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='1' />
											<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='0' />
											<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='1' />
											<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='0' />
											<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='1' />
											<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='0' />
										</flowline>
									</case>
									<case exp='0' >
										<flowline >
											<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='1' />
											<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='0' />
											<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='1' />
											<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='0' />
											<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='1' />
											<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='0' />
											<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Panel.Position.RotateAlong' >
												<argument exp='.new_moving_position' />
												<argument exp='axis' />
												<argument exp='axis' />
												<argument exp='Total_Angle % 360.0' />
												<argument exp='0' />
												<argument exp='0' />
											</command>
										</flowline>
									</case>
									<case exp='1' >
										<flowline >
											<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='1' />
											<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='0' />
											<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='1' />
											<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='0' />
											<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='1' />
											<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='0' />
											<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Panel.Position.RotateAlong' >
												<argument exp='.new_moving_position' />
												<argument exp='axis' />
												<argument exp='axis' />
												<argument exp='0' />
												<argument exp='Total_Angle % 360.0' />
												<argument exp='0' />
											</command>
										</flowline>
									</case>
									<case exp='2' >
										<flowline >
											<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='1' />
											<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='0' />
											<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='1' />
											<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='0' />
											<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='1' />
											<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='0' />
											<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Panel.Position.RotateAlong' >
												<argument exp='.new_moving_position' />
												<argument exp='axis' />
												<argument exp='axis' />
												<argument exp='0' />
												<argument exp='0' />
												<argument exp='Total_Angle % 360.0' />
											</command>
										</flowline>
									</case>
								</command>
								<command class_type='sim' title='Call Macro' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Panel.Position.Set' >
									<argument exp='moving_part' />
									<argument exp='.new_moving_position' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='target_handle != 0 AND target_handle != this' swap='0' >
							<flowline >
								<command class_type='sim' title='Call Macro' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Panel.Position.Get' >
									<return exp='.new_target_position' />
									<argument exp='target_start_pos' />
								</command>
								<command class_type='sim' title='Call Macro' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Panel.Position.MoveBy' >
									<argument exp='.new_target_position' />
									<argument exp='Total_X' />
									<argument exp='Total_Y' />
									<argument exp='Total_Z' />
								</command>
								<command class_type='switch' title='Switch' textarea='36,25,36,25' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='rot_axis' >
									<case >
										<flowline >
											<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='1' />
											<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='0' />
											<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='1' />
											<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='0' />
											<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='1' />
											<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='0' />
											<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='1' />
											<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='0' />
										</flowline>
									</case>
									<case exp='0' >
										<flowline >
											<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='1' />
											<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='0' />
											<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='1' />
											<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='0' />
											<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='1' />
											<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='0' />
											<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Panel.Position.RotateAlong' >
												<argument exp='.new_target_position' />
												<argument exp='axis' />
												<argument exp='axis' />
												<argument exp='(Total_Angle * gear_ratio) % 360.0' />
												<argument exp='0' />
												<argument exp='0' />
											</command>
										</flowline>
									</case>
									<case exp='1' >
										<flowline >
											<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='1' />
											<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='0' />
											<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='1' />
											<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='0' />
											<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='1' />
											<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='0' />
											<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Panel.Position.RotateAlong' >
												<argument exp='.new_target_position' />
												<argument exp='axis' />
												<argument exp='axis' />
												<argument exp='0' />
												<argument exp='(Total_Angle * gear_ratio) % 360.0' />
												<argument exp='0' />
											</command>
										</flowline>
									</case>
									<case exp='2' >
										<flowline >
											<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='1' />
											<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='0' />
											<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='1' />
											<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='0' />
											<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='1' />
											<command class_type='block' title='' hide='1' cmdcolor='2763429' cmdcolor_sec='2763429' cmdcolor_txt='8355711' cmdgradient='0' cmdopacity='1' start='0' />
											<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Panel.Position.RotateAlong' >
												<argument exp='.new_target_position' />
												<argument exp='axis' />
												<argument exp='axis' />
												<argument exp='0' />
												<argument exp='0' />
												<argument exp='(Total_Angle * gear_ratio) % 360.0' />
											</command>
										</flowline>
									</case>
								</command>
								<command class_type='sim' title='Call Macro' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Panel.Position.Set' >
									<argument exp='target_handle' />
									<argument exp='.new_target_position' />
								</command>
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
			</macros>
			<component class_type='ref' guid='dfb4d07a-3d70-45d5-83ef-07e3c95d86ab' vmin='7' vmaj='1' codename='lut' panelId='-1' x='0' y='0' z='0' xsz='0.000123885' ysz='0.000123885' zsz='0.000123885' xang='0' yang='0' zang='0' xquat='0' yquat='0' zquat='0' wquat='1' visible='0' scadavisible='1' interactive='0' solid='1' layer='1' poslock='0' comp2dType='0' >
				<resources />
				<properties />
				<values >
					<value target='Enabled' data='1' />
					<value target='StorageType' data='000' />
					<value target='Sign' data='000' />
					<value target='intfixed' data='' />
					<value target='floatfixed' data='' />
					<value target='NumVals' data='0' />
					<value target='EmbedIntoC' data='1' />
				</values>
				<events />
				<apis />
				<variables />
				<macros />
			</component>
			<component class_type='ref' guid='53f26532-bd9d-4e78-a19e-8c198271492a' vmin='0' vmaj='1' codename='CouplingDummy1' panelId='-1' x='0' y='0' z='0' xsz='3.125e-05' ysz='3.125e-05' zsz='0' xang='0' yang='0' zang='0' xquat='0' yquat='0' zquat='0' wquat='1' visible='0' scadavisible='1' interactive='0' solid='1' layer='1' poslock='0' comp2dType='0' >
				<resources />
				<properties />
				<values />
				<events />
				<apis />
				<variables />
				<macros />
			</component>
			<component class_type='ref' guid='58be670e-18fb-477e-ab09-61fde14b23ec' vmin='0' vmaj='1' codename='LibraryComponent1' panelId='-1' x='0' y='0' z='0' xsz='100' ysz='100' zsz='100' xang='0' yang='0' zang='0' xquat='0' yquat='0' zquat='0' wquat='1' visible='1' scadavisible='1' interactive='1' solid='0' layer='1' poslock='1' comp2dType='0' >
				<resources />
				<properties />
				<values >
					<value target='Text::sText' data='Stepper 
Motor
Template' />
					<value target='Name' data='' />
					<value target='Peripheral::sText' data='' />
					<value target='Text::nVerticalAlignment' data='002' />
					<value target='ShowComms' data='0' />
					<value target='InputIcon::CommsType' data='255' />
					<value target='InputIcon::LinkTo' data='0' />
					<value target='IconsOnRight' data='0' />
					<value target='OutputIcon::CommsType' data='255' />
					<value target='OutputIcon::LinkTo' data='0' />
					<value target='InputIcon1::CommsType' data='255' />
					<value target='ConsoleHandle' data='0' />
					<value target='Upgraded' data='0' />
				</values>
				<events />
				<apis />
				<variables />
				<macros />
			</component>
		</component>
	</components>
	<scadaresourcelookup />
	<keymap />
	<panel2d shadows='0' lighting='0' brightness='0' >
		<background rgb='9737364' img='' style='0' />
		<camera xe='37.9876' ye='1.6322' ze='996.264' xt='37.9876' yt='1.6322' zt='0' xquat='0' yquat='0' zquat='0' wquat='1' />
		<viewport dx='514' dy='790' zoom='62.4272' fix_topleft='0' />
		<page x='1000' y='1000' show='0' rgb='0' />
		<winpos ID='7005' RectRecentFloat='-1409,-980,-238,-106' RectRecentDocked='821,141,1355,1021' RecentFrameAlignment='16384' RecentRowIndex='0' IsFloating='0' MRUWidth='32767' PinState='0' IsMaximized='0' IsVisible='1' />
	</panel2d>
	<panel3d shadows='0' lighting='0' brightness='0' perspective='1' >
		<background rgb='8409120' img='' style='0' />
		<table rgb='7360576' img='' style='0' size='25' />
		<camera xe='1.0372' ye='-1.29435' ze='43.2913' xt='1.0372' yt='-1.29435' zt='7.67943' xquat='0' yquat='0' zquat='0' wquat='1' />
		<camerakey0 xe='0' ye='0' ze='300' xt='0' yt='0' zt='0' xquat='0' yquat='0' zquat='0' wquat='1' />
		<camerakey1 xe='-3.67394e-14' ye='0' ze='-300' xt='0' yt='0' zt='0' xquat='0' yquat='1' zquat='0' wquat='6.12323e-17' />
		<camerakey2 xe='0' ye='-300' ze='6.66134e-14' xt='0' yt='0' zt='0' xquat='-0.707107' yquat='0' zquat='0' wquat='0.707107' />
		<camerakey3 xe='-3.67394e-14' ye='300' ze='6.66134e-14' xt='0' yt='0' zt='0' xquat='-4.32978e-17' yquat='0.707107' zquat='0.707107' wquat='4.32978e-17' />
		<camerakey4 xe='-300' ye='-6.66134e-14' ze='6.66134e-14' xt='0' yt='0' zt='0' xquat='-0.5' yquat='0.5' zquat='0.5' wquat='0.5' />
		<camerakey5 xe='300' ye='-6.66134e-14' ze='6.66134e-14' xt='0' yt='0' zt='0' xquat='-0.5' yquat='-0.5' zquat='-0.5' wquat='0.5' />
		<camerakey6 xe='-173.205' ye='-173.205' ze='173.205' xt='0' yt='0' zt='0' xquat='-0.424708' yquat='0.17592' zquat='0.339851' wquat='0.820473' />
		<winpos ID='7004' RectRecentFloat='1488,72,1930,916' RectRecentDocked='0,0,281,450' RecentFrameAlignment='16384' RecentRowIndex='0' IsFloating='0' MRUWidth='32767' PinState='0' IsMaximized='0' IsVisible='0' />
	</panel3d>
	<panels2d count='0' />
	<layout >
		<view type='0' name='Ev_AddVar' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAADAIAAGsDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='prv_property_change' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAADAIAAGsDAAA' zoom='70' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Sim_DecrementStep' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAADAIAAGsDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='DecrementStep' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAADAIAAGsDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Sim_IncrementStep' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAADAIAAGsDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='IncrementStep' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAADAIAAGsDAAA' zoom='70' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='EnableMotor' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAADAIAAGsDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='DisableMotor' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAADAIAAGsDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='prv_MoveObjects' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAADAIAAGsDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='prv_pin_change' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAADAIAAGsDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Output_Step' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAADAIAAGsDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='prv_init' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAADAIAAGsDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Ev_Start' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAADAIAAGsDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Main' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAADAIAAGsDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Ev_Stop' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAADAIAAGsDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='SetTarget' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAADAIAAGsDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
	</layout>
</document>
</root>
