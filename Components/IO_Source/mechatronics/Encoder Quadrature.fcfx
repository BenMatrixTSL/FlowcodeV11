<root>
<document scada='0' schema='103' license='10,BenR,C9TN1M' title='' description='' fcversion='655618' target='PIC.16F.16F88' >
	<config data='!0,3f62!10,3ffe%0,2%2,0%3,0%5,1%6,1%7,0%8,1%9,3%b,1%c,1%d,1%10,0%11,1' clkspd='19660800' simspd='1' usewdt='0' constif='0' Use3V3='0' />
	<plugins >
		<dll_models enabled='1' />
	</plugins>
	<supplement use='0' head='' body='' />
	<debug />
	<traces />
	<ghost >
		<FK2 >
			<data name='FK2D0' port='4294967295' pin='4294967295' />
			<data name='FK2D1' port='4294967295' pin='4294967295' />
			<data name='FK2D2' port='4294967295' pin='4294967295' />
			<data name='FK2D3' port='4294967295' pin='4294967295' />
			<data name='FK2D4' port='4294967295' pin='4294967295' />
			<data name='FK2D5' port='4294967295' pin='4294967295' />
			<data name='FK2D6' port='4294967295' pin='4294967295' />
			<data name='FK2D7' port='4294967295' pin='4294967295' />
			<data name='FK2D8' port='4294967295' pin='4294967295' />
			<data name='FK2D9' port='4294967295' pin='4294967295' />
			<data name='FK2D10' port='4294967295' pin='4294967295' />
			<data name='FK2D11' port='4294967295' pin='4294967295' />
			<data name='FK2D12' port='4294967295' pin='4294967295' />
			<data name='FK2D13' port='4294967295' pin='4294967295' />
			<data name='FK2D14' port='4294967295' pin='4294967295' />
			<data name='FK2D15' port='4294967295' pin='4294967295' />
			<data name='FK2A0' port='4294967295' pin='4294967295' />
			<data name='FK2A1' port='4294967295' pin='4294967295' />
			<data name='FK2A2' port='4294967295' pin='4294967295' />
			<data name='FK2A3' port='4294967295' pin='4294967295' />
			<data name='FK2A4' port='4294967295' pin='4294967295' />
			<data name='FK2A5' port='4294967295' pin='4294967295' />
		</FK2>
		<ICD >
			<data name='AnalogPrescaleValue' value='19' />
			<data name='DigitalSampleRate' value='100000' />
			<data name='BreakpointCount' value='8' />
			<data name='CallStackDepthCount' value='8' />
			<data name='ClockPort' value='1' />
			<data name='ClockPin' value='6' />
			<data name='DataPort' value='1' />
			<data name='DataPin' value='7' />
			<data name='UseDefaultPins' value='1' />
			<data name='WrapEnabled' value='1' />
			<data name='CommsDelayOverridden' value='0' />
			<data name='CommsDelay' value='9' />
			<data name='CalculatedCommsDelay' value='9' />
			<data name='AnalogEB2PrescaleValue' value='2' />
			<data name='DigitalEB2SampleRate' value='100000' />
		</ICD>
		<pins >
			<digital A='0' B='0' C='0' D='0' E='0' F='0' G='0' H='0' I='0' J='0' K='0' L='0' M='0' N='0' O='0' P='0' Q='0' R='0' S='0' T='0' U='0' V='0' W='0' X='0' Y='0' Z='0' />
			<analog A='0' B='0' C='0' D='0' E='0' F='0' G='0' H='0' I='0' J='0' K='0' L='0' M='0' N='0' O='0' P='0' Q='0' R='0' S='0' T='0' U='0' V='0' W='0' X='0' Y='0' Z='0' />
		</pins>
	</ghost>
	<components >
		<settings autoimg='0' center='1' unitscale='0' fixedscale='0' fixedx='1' fixedy='1' fixedz='1' headcode='0' />
		<definition guid='3531a68d-7686-44b7-a3a5-67afda8467dc' vstate='40' vmin='5' vmaj='1' srcleaf='Encoder Quadrature.fcfx' visiblename='Quadrature Encoder' description='Quadrature Encoder component implements a rotary encoder connected to two pins.
Quadrature Encoders provides incremental positioning rather than absolute positioning.
' category='General Input' category2='' category3='' bIs2dOnly='0' bIs3dOnly='1' catenable='1' author='Matrix TSL' manuname='' manucode='' sysinfo='5272431' keywords='' dynamic='1' scadaCompatible='0' embeddedCompatible='1' showmacros='1' iconpath='..\..\icons\components\FC5 PiC QuadEnc.png' />
		<component class_type='root' codename='QuadEncoder' panelId='-1' x='0' y='0' z='0' xsz='1' ysz='1' zsz='1' xang='0' yang='0' zang='0' xquat='0' yquat='0' zquat='0' wquat='1' visible='1' scadavisible='1' interactive='1' solid='1' layer='0' poslock='1' comp2dType='0' >
			<resources >
				<file name='knob_ptr_black_body.mesh' source='meshes\knob_ptr_black_body.mesh' />
			</resources>
			<properties >
				<property name='Count Variable' folder='property_3' hidden='0' >
					<property name='Variable Type' target='VarType' typeid='16' hidden='0' locked='0' info='Selects the size of the encoder count variable depending on the number of encoder counts required to be stored.
The 16 bit variable counter is accessed via the ReadCounter and WriteCounter functions.
The 32 bit variable counter is accessed via the ReadCounter32 and WriteCounter32 functions.' filter='00016-bit
00132-bit' />
				</property>
				<property name='Encoder Resolution' folder='property_2' hidden='0' >
					<property name='Post Scaler' target='Divider' typeid='16' hidden='0' locked='0' info='Encoders with a mechanical click will often have 4 transitions per click.
1:1 would provide the maximum output resolution.
1:4 would provide the encoder click count.' filter='0011:1
0041:4' />
					<property name='Edges Per Revolution' target='EdgesPerRev' typeid='21' hidden='0' locked='0' info='Number of signal transitions per revolution.
E.g. for a 360 degree encoder you would likely get 360 x 4 = 1440 transitions and an accuracy of 0.25 degrees.' />
					<property name='Resolution' target='Resolution' typeid='15' hidden='0' locked='1' info='The resolution of the encoder in degrees' />
				</property>
				<property name='Connections' hidden='0' >
					<property name='A' target='pin_a' typeid='5' hidden='0' locked='0' info='Input pin A' />
					<property name='B' target='pin_b' typeid='5' hidden='0' locked='0' info='Input Pin B
' />
				</property>
				<property name='Simulation' folder='property_1' hidden='0' >
					<property name='Repeat Rate' target='reprate' typeid='16' hidden='0' locked='0' info='Simulated repeat rate when clicking and rotating the encoder' filter='350Slow
150Medium
075Fast' />
					<property name='Rotation Increment' target='RotInc' typeid='15' hidden='0' locked='0' info='Number of degrees to rotate when performing a single quadrature pin transition.' />
					<property name='Scope Traces' target='ScopeTraces' typeid='7' hidden='0' locked='0' info='' />
				</property>
				<property name='IsActuator' target='IsActuator' typeid='7' hidden='1' locked='0' info='' />
			</properties>
			<values >
				<value target='VarType' data='000' />
				<value target='Divider' data='001' />
				<value target='EdgesPerRev' data='1440' />
				<value target='Resolution' data='0.250000' />
				<value target='pin_a' data='$PORTB0.0' />
				<value target='pin_b' data='$PORTB0.1' />
				<value target='reprate' data='075' />
				<value target='RotInc' data='2' />
				<value target='ScopeTraces' data='0' />
				<value target='IsActuator' data='1' />
			</values>
			<events >
				<event class='Mouse' event='Click' target='Ev_Click' />
				<event class='Components' event='Initialise' target='Ev_Initialise' />
				<event class='Simulation' event='Stop' target='Ev_SimStop' />
				<event class='Components' event='Property' target='Ev_Property' />
				<event class='Mouse' event='Release' target='Ev_Release' />
				<event class='System' event='Timer' target='Ev_Timer' />
			</events>
			<apis >
				<api name='CheckForChanges' alt='CheckForChanges' type='1' proto='1' />
				<api name='Disable' alt='Disable' type='1' proto='1' />
				<api name='WriteCounter32' alt='WriteCounter32' type='1' proto='1' />
				<api name='Enable' alt='Enable' type='1' proto='1' />
				<api name='Rotate' alt='' type='2' proto='1' />
				<api name='ReadCounter' alt='ReadCounter' type='1' proto='1' />
				<api name='WriteCounter' alt='WriteCounter' type='1' proto='1' />
				<api name='ResetCounter' alt='ResetCounter' type='1' proto='1' />
				<api name='ReadCounter32' alt='ReadCounter32' type='1' proto='1' />
			</apis>
			<variables >
				<variable public='0' >
					<def class_type='variable' name='ScopeHandleB' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
				</variable>
				<variable public='0' >
					<def class_type='variable' name='ScopeHandleA' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
				</variable>
				<variable public='0' >
					<def class_type='variable' name='sim_RotAccum' type='f32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0.0' setinit='' />
				</variable>
				<variable public='0' >
					<def class_type='variable' name='Encoder_Count' type='s16' description='A counter for the encoder position' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
				</variable>
				<variable public='0' >
					<def class_type='variable' name='Encoder_Mask' type='u8' description='Mask of the pin state for the encoder' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
				</variable>
				<variable public='0' >
					<def class_type='variable' name='sim_Click_Count' type='u8' description='Counter for simulation of clicks' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
				</variable>
				<variable public='0' >
					<def class_type='variable' name='Encoder_Count_Long' type='s32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
				</variable>
				<variable public='0' >
					<def class_type='variable' name='Encoder_Enabled' type='u8' description='True if enabled, else false' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
				</variable>
				<variable public='0' >
					<def class_type='variable' name='sim_Moving' type='u32' description='Handle of component that is moving in simulation' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
				</variable>
				<variable public='0' >
					<def class_type='variable' name='ScopeGroup' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
				</variable>
			</variables>
			<macros >
				<macro >
					<flowline name='Ev_Timer' description='Called back on the panel command System.TimerStart' statediag='0' >
						<return name='Return' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='TimerID' type='u32' description='The identifier passed to the System.TimerStart panel command' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='sim' title='Set repeat timer' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='System.TimerStart' >
							<argument exp='0' />
							<argument exp='reprate' />
						</command>
						<command class_type='call' title='Call Macro' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Prv_MoveAround' />
					</flowline>
				</macro>
				<macro >
					<flowline name='Ev_Initialise' description='Initialisation routine for the component once the component is linked to its parent' statediag='0' >
						<return name='Return' type='u32' description='Non-zero to prevent initialisation' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='call' title='Call Macro' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Ev_Property' />
					</flowline>
				</macro>
				<macro >
					<flowline name='CheckForChanges' description='Polling function to check changes and update internal counter.
Returns 1 for chaged, 0 for no change, 255 for error' statediag='0' >
						<return name='Return' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='maskcheck' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='p1' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='p2' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='calculation' title='Mark success' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
							<exp exp='.Return = 0' />
						</command>
						<command class_type='decision' title='If enabled' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='Encoder_Enabled' swap='0' >
							<flowline >
								<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='pin_a' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
											<exp exp='.p1 = 1' />
										</command>
									</flowline>
									<flowline >
										<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
											<exp exp='.p1 = 0' />
										</command>
									</flowline>
								</command>
								<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='pin_b' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
											<exp exp='.p2 = 2' />
										</command>
									</flowline>
									<flowline >
										<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
											<exp exp='.p2 = 0' />
										</command>
									</flowline>
								</command>
								<command class_type='calculation' title='Set up mask correctly' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
									<exp exp='.maskcheck = .p1 | .p2' />
									<exp exp='' />
								</command>
								<command class_type='decision' title='Check no change' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='.maskcheck = Encoder_Mask' swap='0' >
									<flowline >
										<command class_type='goto' title='Goto Connection Point' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' labelid='0' labelname='' />
									</flowline>
									<flowline />
								</command>
								<command class_type='decision' title='Check corruption' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='.maskcheck == ((~Encoder_Mask) &amp; 0x03)' swap='0' >
									<flowline >
										<command class_type='calculation' title='Reset Encoder mask for next operation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
											<exp exp='Encoder_Mask = .maskcheck' />
										</command>
										<command class_type='calculation' title='Corrupted' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
											<exp exp='.Return = 255' />
										</command>
										<command class_type='goto' title='Goto Connection Point' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' labelid='0' labelname='' />
									</flowline>
									<flowline />
								</command>
								<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='VarType = 0' swap='0' >
									<flowline >
										<command class_type='switch' title='Switch' textarea='219,65,219,65' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='.maskcheck' >
											<case >
												<flowline />
											</case>
											<case exp='0' >
												<flowline >
													<command class_type='decision' title='If moved up' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='Encoder_Mask == 2' swap='0' >
														<flowline >
															<command class_type='calculation' title='Increment' textshow='0' textarea='36,0,37,1' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
																<exp exp='Encoder_Count = Encoder_Count + 1' />
															</command>
														</flowline>
														<flowline >
															<command class_type='calculation' title='Decrement' textshow='0' textarea='36,0,37,1' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
																<exp exp='Encoder_Count = Encoder_Count - 1' />
															</command>
														</flowline>
													</command>
												</flowline>
											</case>
											<case exp='1' >
												<flowline >
													<command class_type='decision' title='If moved up' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='Encoder_Mask == 0' swap='0' >
														<flowline >
															<command class_type='calculation' title='Increment' textshow='0' textarea='36,0,37,1' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
																<exp exp='Encoder_Count = Encoder_Count + 1' />
															</command>
														</flowline>
														<flowline >
															<command class_type='calculation' title='Decrement' textshow='0' textarea='36,0,37,1' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
																<exp exp='Encoder_Count = Encoder_Count - 1' />
															</command>
														</flowline>
													</command>
												</flowline>
											</case>
											<case exp='2' >
												<flowline >
													<command class_type='decision' title='If moved up' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='Encoder_Mask == 3' swap='0' >
														<flowline >
															<command class_type='calculation' title='Increment' textshow='0' textarea='36,0,37,1' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
																<exp exp='Encoder_Count = Encoder_Count + 1' />
															</command>
														</flowline>
														<flowline >
															<command class_type='calculation' title='Decrement' textshow='0' textarea='36,0,37,1' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
																<exp exp='Encoder_Count = Encoder_Count - 1' />
															</command>
														</flowline>
													</command>
												</flowline>
											</case>
											<case exp='3' >
												<flowline >
													<command class_type='decision' title='If moved up' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='Encoder_Mask == 1' swap='0' >
														<flowline >
															<command class_type='calculation' title='Increment' textshow='0' textarea='36,0,37,1' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
																<exp exp='Encoder_Count = Encoder_Count + 1' />
															</command>
														</flowline>
														<flowline >
															<command class_type='calculation' title='Decrement' textshow='0' textarea='36,0,37,1' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
																<exp exp='Encoder_Count = Encoder_Count - 1' />
															</command>
														</flowline>
													</command>
												</flowline>
											</case>
										</command>
									</flowline>
									<flowline />
								</command>
								<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='VarType = 1' swap='0' >
									<flowline >
										<command class_type='switch' title='Switch' textarea='219,65,219,65' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='.maskcheck' >
											<case >
												<flowline />
											</case>
											<case exp='0' >
												<flowline >
													<command class_type='decision' title='If moved up' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='Encoder_Mask == 2' swap='0' >
														<flowline >
															<command class_type='calculation' title='Increment' textshow='0' textarea='36,0,37,1' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
																<exp exp='Encoder_Count_Long = Encoder_Count_Long + 1' />
															</command>
														</flowline>
														<flowline >
															<command class_type='calculation' title='Decrement' textshow='0' textarea='36,0,37,1' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
																<exp exp='Encoder_Count_Long = Encoder_Count_Long - 1' />
															</command>
														</flowline>
													</command>
												</flowline>
											</case>
											<case exp='1' >
												<flowline >
													<command class_type='decision' title='If moved up' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='Encoder_Mask == 0' swap='0' >
														<flowline >
															<command class_type='calculation' title='Increment' textshow='0' textarea='36,0,37,1' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
																<exp exp='Encoder_Count_Long = Encoder_Count_Long + 1' />
															</command>
														</flowline>
														<flowline >
															<command class_type='calculation' title='Decrement' textshow='0' textarea='36,0,37,1' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
																<exp exp='Encoder_Count_Long = Encoder_Count_Long - 1' />
															</command>
														</flowline>
													</command>
												</flowline>
											</case>
											<case exp='2' >
												<flowline >
													<command class_type='decision' title='If moved up' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='Encoder_Mask == 3' swap='0' >
														<flowline >
															<command class_type='calculation' title='Increment' textshow='0' textarea='36,0,37,1' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
																<exp exp='Encoder_Count_Long = Encoder_Count_Long + 1' />
															</command>
														</flowline>
														<flowline >
															<command class_type='calculation' title='Decrement' textshow='0' textarea='36,0,37,1' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
																<exp exp='Encoder_Count_Long = Encoder_Count_Long - 1' />
															</command>
														</flowline>
													</command>
												</flowline>
											</case>
											<case exp='3' >
												<flowline >
													<command class_type='decision' title='If moved up' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='Encoder_Mask == 1' swap='0' >
														<flowline >
															<command class_type='calculation' title='Increment' textshow='0' textarea='36,0,37,1' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
																<exp exp='Encoder_Count_Long = Encoder_Count_Long + 1' />
															</command>
														</flowline>
														<flowline >
															<command class_type='calculation' title='Decrement' textshow='0' textarea='36,0,37,1' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
																<exp exp='Encoder_Count_Long = Encoder_Count_Long - 1' />
															</command>
														</flowline>
													</command>
												</flowline>
											</case>
										</command>
									</flowline>
									<flowline />
								</command>
								<command class_type='calculation' title='Reset Encoder mask for next operation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
									<exp exp='Encoder_Mask = .maskcheck' />
								</command>
								<command class_type='calculation' title='Mark success' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
									<exp exp='.Return = 1' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='label' title='Connection Point' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' labelid='0' labelname='A' />
					</flowline>
				</macro>
				<macro >
					<flowline name='Ev_SimStop' description='Broadcast to all components that simulation has stopped' statediag='0' >
						<return name='Return' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='calculation' title='Clear moving counter' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
							<exp exp='sim_Moving = 0' />
						</command>
						<command class_type='sim' title='Panel' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='System.TimerStop' >
							<argument exp='0' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Disable' description='Disables the use of the quad encoder
Once this ist called, the read functions will return zeros until the next Enable() call' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<command class_type='calculation' title='Disable encoder' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
							<exp exp='Encoder_Enabled = 0' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='WriteCounter32' description='Sets the value of the internal count variable.
Range: -2147483648 to 2147483647' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<param name='Value' type='s32' description='Range: -2147483648 to 2147483647' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='VarType = 1' swap='0' >
							<flowline >
								<command class_type='calculation' title='Get counter' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
									<exp exp='Encoder_Count_Long = .Value' />
								</command>
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Enable' description='Enables the use of the quad encoder
If this is not called, the read functions will return zeros' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<local name='p1' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='p2' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='pin_a' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
									<exp exp='.p1 = 1' />
								</command>
							</flowline>
							<flowline >
								<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
									<exp exp='.p1 = 0' />
								</command>
							</flowline>
						</command>
						<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='pin_b' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
									<exp exp='.p2 = 2' />
								</command>
							</flowline>
							<flowline >
								<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
									<exp exp='.p2 = 0' />
								</command>
							</flowline>
						</command>
						<command class_type='calculation' title='Set up mask correctly' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
							<exp exp='Encoder_Mask = .p1 | .p2' />
							<exp exp='' />
						</command>
						<command class_type='calculation' title='Enable encoder' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
							<exp exp='Encoder_Enabled = 1' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Rotate' description='Simulation Rotate function to allow accurate rotation during simulation.
Automatically called by any attached coupling or gearbox component.' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<param name='Angle' type='f32' description='Amount to rotate the shaft input in degrees' isconst='0' isHidden='0' isinit='0' usrinit='0.0' setinit='' />
						<local name='mask' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='sim' title='Rotate around Z axis' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Panel.Position.RotateZ' >
							<argument exp='Knob' />
							<argument exp='Knob' />
							<argument exp='.Angle' />
						</command>
						<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='.Angle &gt; 0.0' swap='0' >
							<flowline >
								<command class_type='calculation' title='Inc counter' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
									<exp exp='sim_Click_Count = sim_Click_Count + 1' />
								</command>
							</flowline>
							<flowline >
								<command class_type='calculation' title='Dec counter' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
									<exp exp='sim_Click_Count = sim_Click_Count - 1' />
								</command>
							</flowline>
						</command>
						<command class_type='calculation' title='Set pins' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
							<exp exp='// Pattern for pins is 0, 1, 3, 2' />
							<exp exp='.mask = sim_Click_Count &amp; 3' />
							<exp exp='' />
						</command>
						<command class_type='switch' title='Switch' textarea='36,25,36,25' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='.mask' >
							<case >
								<flowline >
									<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
										<exp exp='pin_a = 0' />
										<exp exp='pin_b = 0' />
									</command>
								</flowline>
							</case>
							<case exp='1' >
								<flowline >
									<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
										<exp exp='pin_a = 1' />
										<exp exp='pin_b = 0' />
									</command>
								</flowline>
							</case>
							<case exp='2' >
								<flowline >
									<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
										<exp exp='pin_a = 1' />
										<exp exp='pin_b = 1' />
									</command>
								</flowline>
							</case>
							<case exp='3' >
								<flowline >
									<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
										<exp exp='pin_a = 0' />
										<exp exp='pin_b = 1' />
									</command>
								</flowline>
							</case>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Ev_Property' description='Sent when a property has been changed by the User' statediag='0' >
						<return name='Return' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='ix' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='val' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='f' type='f32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0.0' setinit='' />
						<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
							<exp exp='.f = 360.0 / FLOAT (FLOAT EdgesPerRev / FLOAT Divider)' />
						</command>
						<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.SetValue' >
							<argument exp='this' />
							<argument exp='&quot;Resolution&quot;' />
							<argument exp='.f' />
						</command>
						<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='ScopeTraces' swap='0' >
							<flowline >
								<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='DataRecorder.AddGroup' >
									<return exp='ScopeGroup' />
									<argument exp='&quot;Quad Encoder&quot;' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='DataRecorder.AddStream' >
									<return exp='ScopeHandleA' />
									<argument exp='ScopeGroup' />
									<argument exp='&quot;Pin A&quot;' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='DataRecorder.AddStream' >
									<return exp='ScopeHandleB' />
									<argument exp='ScopeGroup' />
									<argument exp='&quot;Pin B&quot;' />
								</command>
								<command class_type='sim' title='Get the connection value' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.GetValue' >
									<return exp='.val' />
									<argument exp='this' />
									<argument exp='&quot;pin_a&quot;' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='DataRecorder.AddPort' >
									<argument exp='ScopeHandleA' />
									<argument exp='.val' />
									<argument exp='-1' />
									<argument exp='1' />
									<argument exp='0' />
								</command>
								<command class_type='sim' title='Get the connection value' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Component.Property.GetValue' >
									<return exp='.val' />
									<argument exp='this' />
									<argument exp='&quot;pin_b&quot;' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='DataRecorder.AddPort' >
									<argument exp='ScopeHandleB' />
									<argument exp='.val' />
									<argument exp='-1' />
									<argument exp='1' />
									<argument exp='0' />
								</command>
							</flowline>
							<flowline >
								<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
									<exp exp='ScopeGroup = 0' />
									<exp exp='ScopeHandleA = 0' />
									<exp exp='ScopeHandleB = 0' />
								</command>
							</flowline>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='ReadCounter' description='Reads the current dial counter
This is a counter from -32768 to 32767' statediag='0' >
						<return name='Return' type='s16' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='VarType = 0' swap='0' >
							<flowline >
								<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='Divider &gt; 1' swap='0' >
									<flowline >
										<command class_type='calculation' title='Get counter with divider' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
											<exp exp='.Return = Encoder_Count / Divider' />
										</command>
									</flowline>
									<flowline >
										<command class_type='calculation' title='Get counter' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
											<exp exp='.Return = Encoder_Count' />
										</command>
									</flowline>
								</command>
							</flowline>
							<flowline >
								<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
									<exp exp='.Return = 0' />
								</command>
							</flowline>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='WriteCounter' description='Sets the value of the internal count variable.
Range: -32768 to 32767' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<param name='Value' type='s16' description='Range: -32768 to 32767' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='VarType = 0' swap='0' >
							<flowline >
								<command class_type='calculation' title='Get counter' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
									<exp exp='Encoder_Count = .Value' />
								</command>
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='ResetCounter' description='Resets the current dial counter to zero
' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='VarType = 0' swap='0' >
							<flowline >
								<command class_type='calculation' title='Reset counter' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
									<exp exp='Encoder_Count = 0' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='VarType = 1' swap='0' >
							<flowline >
								<command class_type='calculation' title='Reset counter' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
									<exp exp='Encoder_Count_Long = 0' />
								</command>
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Ev_Release' description='Sent when the mouse is released on a child of the component during simulation' statediag='0' >
						<return name='Return' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Component' type='u32' description='The component clicked on' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='X' type='f32' description='X coordinate relative to &apos;Component&apos;' isconst='0' isHidden='0' isinit='0' usrinit='0.0' setinit='' />
						<param name='Y' type='f32' description='Y coordinate relative to &apos;Component&apos;' isconst='0' isHidden='0' isinit='0' usrinit='0.0' setinit='' />
						<param name='Z' type='f32' description='Z coordinate relative to &apos;Component&apos;' isconst='0' isHidden='0' isinit='0' usrinit='0.0' setinit='' />
						<command class_type='calculation' title='Clear moving counter' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
							<exp exp='sim_Moving = 0' />
						</command>
						<command class_type='sim' title='Panel' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='System.TimerStop' >
							<argument exp='0' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Prv_MoveAround' description='Moves around the dial' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<local name='mask' type='u8' description='A counter incrementing in sequence { 0, 1, 3, 2 }' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
							<exp exp='.mask = 0' />
						</command>
						<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='sim_Moving == right' swap='0' >
							<flowline >
								<command class_type='sim' title='Rotate around Z axis' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Panel.Position.RotateZ' >
									<argument exp='Knob' />
									<argument exp='Knob' />
									<argument exp='-RotInc' />
								</command>
								<command class_type='calculation' title='Inc counter' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
									<exp exp='sim_Click_Count = sim_Click_Count + 1' />
								</command>
								<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
									<exp exp='.mask = 1' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='sim_Moving == left' swap='0' >
							<flowline >
								<command class_type='sim' title='Rotate around Z axis' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Panel.Position.RotateZ' >
									<argument exp='Knob' />
									<argument exp='Knob' />
									<argument exp='RotInc' />
								</command>
								<command class_type='calculation' title='Dec counter' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
									<exp exp='sim_Click_Count = sim_Click_Count - 1' />
								</command>
								<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
									<exp exp='.mask = 1' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='.mask' swap='0' >
							<flowline >
								<command class_type='calculation' title='Set pins' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
									<exp exp='// Pattern for pins is 0, 1, 3, 2' />
									<exp exp='.mask = sim_Click_Count &amp; 3' />
									<exp exp='' />
								</command>
								<command class_type='switch' title='Switch' textarea='36,25,36,25' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='.mask' >
									<case >
										<flowline >
											<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
												<exp exp='pin_a = 0' />
												<exp exp='pin_b = 0' />
											</command>
										</flowline>
									</case>
									<case exp='1' >
										<flowline >
											<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
												<exp exp='pin_a = 1' />
												<exp exp='pin_b = 0' />
											</command>
										</flowline>
									</case>
									<case exp='2' >
										<flowline >
											<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
												<exp exp='pin_a = 1' />
												<exp exp='pin_b = 1' />
											</command>
										</flowline>
									</case>
									<case exp='3' >
										<flowline >
											<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
												<exp exp='pin_a = 0' />
												<exp exp='pin_b = 1' />
											</command>
										</flowline>
									</case>
								</command>
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='ReadCounter32' description='Reads the current dial counter as a 32-bit value
This is a counter from -2147483648 to 2147483647' statediag='0' >
						<return name='Return' type='s32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='VarType = 1' swap='0' >
							<flowline >
								<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='Divider &gt; 1' swap='0' >
									<flowline >
										<command class_type='calculation' title='Get counter with divider' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
											<exp exp='.Return = Encoder_Count_Long / Divider' />
										</command>
									</flowline>
									<flowline >
										<command class_type='calculation' title='Get counter' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
											<exp exp='.Return = Encoder_Count_Long' />
										</command>
									</flowline>
								</command>
							</flowline>
							<flowline >
								<command class_type='calculation' title='Calculation' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
									<exp exp='.Return = 0' />
								</command>
							</flowline>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Main' description='' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<command class_type='comment' title='' comment='Component Version Information;
6, 1.5, 26-11-24, BR, Updated tooltip for CheckForChanges macro;' textarea='12,0,12,0' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' />
						<command class_type='loop' title='Loop' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' type='0' exp='1' >
							<flowline />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Ev_Click' description='Sent when the mouse is dragged on a child of the component during simulation' statediag='0' >
						<return name='Return' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Component' type='u32' description='The component being dragged' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='X' type='f32' description='X coordinate relative to &apos;Component&apos;' isconst='0' isHidden='0' isinit='0' usrinit='0.0' setinit='' />
						<param name='Y' type='f32' description='Y coordinate relative to &apos;Component&apos;' isconst='0' isHidden='0' isinit='0' usrinit='0.0' setinit='' />
						<param name='Z' type='f32' description='Z coordinate relative to &apos;Component&apos;' isconst='0' isHidden='0' isinit='0' usrinit='0.0' setinit='' />
						<local name='rads' type='f32' description='Radians' isconst='0' isHidden='0' isinit='0' usrinit='0.0' setinit='' />
						<local name='deg' type='f32' description='Degrees of rotation' isconst='0' isHidden='0' isinit='0' usrinit='0.0' setinit='' />
						<command class_type='calculation' title='Clear moving counter' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
							<exp exp='sim_Moving = 0' />
						</command>
						<command class_type='sim' title='Panel' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='System.TimerStop' >
							<argument exp='0' />
						</command>
						<command class_type='decision' title='Decision' cmdcolor='16098537' cmdcolor_sec='9519237' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' exp='(.Component = left) || (.Component = right)' swap='0' >
							<flowline >
								<command class_type='sim' title='Set repeat timer' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='System.TimerStart' >
									<argument exp='0' />
									<argument exp='reprate' />
								</command>
								<command class_type='calculation' title='Set up moving counter' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' >
									<exp exp='sim_Moving = .Component' />
								</command>
								<command class_type='call' title='Call Macro' cmdcolor='16772726' cmdcolor_sec='13404690' cmdcolor_txt='8355711' cmdgradient='1' cmdopacity='1' macro='Prv_MoveAround' />
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
			</macros>
			<component class_type='shape' codename='Knob' panelId='-1' x='0' y='0' z='0' xsz='18' ysz='18' zsz='18' xang='0' yang='0' zang='0' xquat='0' yquat='0' zquat='0' wquat='1' visible='1' scadavisible='1' interactive='1' solid='1' layer='0' poslock='0' comp2dType='0' >
				<resources />
				<properties />
				<values >
					<value target='Shape' data='201' />
					<value target='Color' data='15790320' />
					<value target='Outline' data='0' />
					<value target='Thickness' data='0' />
					<value target='Image' data='' />
					<value target='Model' data='this:knob_ptr_black_body.mesh' />
					<value target='Unit' data='1' />
				</values>
				<events />
				<apis />
				<variables />
				<macros />
			</component>
			<component class_type='shape' codename='right' panelId='-1' x='3' y='12' z='-8.5' xsz='4' ysz='4' zsz='1' xang='0' yang='0' zang='-90' xquat='0' yquat='0' zquat='-0.707107' wquat='0.707107' visible='1' scadavisible='1' interactive='1' solid='1' layer='0' poslock='0' comp2dType='0' >
				<resources />
				<properties />
				<values >
					<value target='Shape' data='9' />
					<value target='Color' data='7895160' />
					<value target='Outline' data='0' />
					<value target='Thickness' data='0.100000' />
					<value target='Image' data='' />
					<value target='Model' data='' />
					<value target='Unit' data='' />
				</values>
				<events />
				<apis />
				<variables />
				<macros />
			</component>
			<component class_type='shape' codename='left' panelId='-1' x='-3' y='12' z='-8.5' xsz='4' ysz='4' zsz='1' xang='0' yang='0' zang='90' xquat='0' yquat='0' zquat='0.707107' wquat='0.707107' visible='1' scadavisible='1' interactive='1' solid='1' layer='0' poslock='0' comp2dType='0' >
				<resources />
				<properties />
				<values >
					<value target='Shape' data='9' />
					<value target='Color' data='7895160' />
					<value target='Outline' data='0' />
					<value target='Thickness' data='0.100000' />
					<value target='Image' data='' />
					<value target='Model' data='' />
					<value target='Unit' data='' />
				</values>
				<events />
				<apis />
				<variables />
				<macros />
			</component>
			<component class_type='ref' guid='c87d4bfd-6d1b-45ea-83b4-63250326b329' vmin='0' vmaj='1' codename='Shaft' panelId='-1' x='0' y='0' z='0' xsz='0.01' ysz='0.01' zsz='0.01' xang='0' yang='0' zang='0' xquat='0' yquat='0' zquat='0' wquat='1' visible='1' scadavisible='1' interactive='1' solid='1' layer='0' poslock='0' comp2dType='0' >
				<resources />
				<properties />
				<values >
					<value target='Color' data='1975743' />
					<value target='Outline' data='0' />
					<value target='Thickness' data='0' />
					<value target='Image' data='' />
				</values>
				<events />
				<apis />
				<variables />
				<macros />
			</component>
		</component>
	</components>
	<scadaresourcelookup />
	<keymap />
	<panel2d shadows='2' lighting='0' brightness='0' >
		<background rgb='9737364' img='' style='0' />
		<camera xe='-314.8' ye='-247.624' ze='3406.06' xt='-314.8' yt='-247.624' zt='0' xquat='0' yquat='0' zquat='0' wquat='1' />
		<viewport dx='469' dy='304' zoom='16.6612' fix_topleft='0' />
		<page x='1000' y='1000' show='0' rgb='0' />
		<winpos ID='7005' RectRecentFloat='1454,566,1931,901' RectRecentDocked='0,0,469,304' RecentFrameAlignment='16384' RecentRowIndex='0' IsFloating='0' MRUWidth='32767' PinState='0' IsMaximized='0' IsVisible='0' />
	</panel2d>
	<panel3d shadows='0' lighting='0' brightness='0' perspective='1' >
		<background rgb='8410112' img='' style='0' />
		<table rgb='16384' img='' style='0' size='0' />
		<camera xe='-1.19878' ye='-1.65363' ze='73.0157' xt='-1.19878' yt='-1.65363' zt='0.281766' xquat='0' yquat='0' zquat='0' wquat='1' />
		<camerakey0 xe='0' ye='0' ze='300' xt='0' yt='0' zt='0' xquat='0' yquat='0' zquat='0' wquat='1' />
		<camerakey1 xe='-3.67394e-14' ye='0' ze='-300' xt='0' yt='0' zt='0' xquat='0' yquat='1' zquat='0' wquat='6.12323e-17' />
		<camerakey2 xe='0' ye='-300' ze='6.66134e-14' xt='0' yt='0' zt='0' xquat='-0.707107' yquat='0' zquat='0' wquat='0.707107' />
		<camerakey3 xe='-3.67394e-14' ye='300' ze='6.66134e-14' xt='0' yt='0' zt='0' xquat='-4.32978e-17' yquat='0.707107' zquat='0.707107' wquat='4.32978e-17' />
		<camerakey4 xe='-300' ye='-6.66134e-14' ze='6.66134e-14' xt='0' yt='0' zt='0' xquat='-0.5' yquat='0.5' zquat='0.5' wquat='0.5' />
		<camerakey5 xe='300' ye='-6.66134e-14' ze='6.66134e-14' xt='0' yt='0' zt='0' xquat='-0.5' yquat='-0.5' zquat='-0.5' wquat='0.5' />
		<camerakey6 xe='-173.205' ye='-173.205' ze='173.205' xt='0' yt='0' zt='0' xquat='-0.424708' yquat='0.17592' zquat='0.339851' wquat='0.820473' />
		<winpos ID='7004' RectRecentFloat='434,382,973,918' RectRecentDocked='881,141,1355,1015' RecentFrameAlignment='16384' RecentRowIndex='0' IsFloating='0' MRUWidth='32767' PinState='0' IsMaximized='0' IsVisible='1' />
	</panel3d>
	<panels2d count='0' />
	<layout >
		<view type='0' name='Rotate' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAAzwEAAGUDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Prv_MoveAround' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAAzwEAAGUDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='WriteCounter32' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAAzwEAAGUDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='WriteCounter' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAAzwEAAGUDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='ReadCounter32' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAAzwEAAGUDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='ReadCounter' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAAzwEAAGUDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Ev_Timer' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAAzwEAAGUDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Ev_Click' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAAzwEAAGUDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Ev_Release' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAAzwEAAGUDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Ev_SimStop' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAAzwEAAGUDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='CheckForChanges' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAAzwEAAGUDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Enable' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAAzwEAAGUDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Ev_Property' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAAzwEAAGUDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Ev_Initialise' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAAzwEAAGUDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Main' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAAzwEAAGUDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='ResetCounter' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAAzwEAAGUDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Disable' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAAzwEAAGUDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
	</layout>
</document>
</root>
