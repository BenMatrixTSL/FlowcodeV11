<root>
<document scada='0' schema='103' license='10,CompMaker,WNV3JN' title='' description='' fcversion='655364' target='PIC.16F.16F1937' >
	<config data='!0,fe2!10,1eff%0,2%3,0%5,1%6,1%7,1%8,1%9,3%b,1%c,0%d,0%10,3%14,3%18,0%19,1%1a,1%1c,1%1d,0' clkspd='19660800' simspd='1' usewdt='0' constif='0' Use3V3='0' />
	<plugins >
		<dll_models enabled='1' />
	</plugins>
	<supplement use='0' head='' body='' />
	<debug />
	<traces />
	<ghost >
		<FK2 >
			<data name='FK2D0' port='4294967295' pin='4294967295' />
			<data name='FK2D1' port='4294967295' pin='4294967295' />
			<data name='FK2D2' port='4294967295' pin='4294967295' />
			<data name='FK2D3' port='4294967295' pin='4294967295' />
			<data name='FK2D4' port='4294967295' pin='4294967295' />
			<data name='FK2D5' port='4294967295' pin='4294967295' />
			<data name='FK2D6' port='4294967295' pin='4294967295' />
			<data name='FK2D7' port='4294967295' pin='4294967295' />
			<data name='FK2D8' port='4294967295' pin='4294967295' />
			<data name='FK2D9' port='4294967295' pin='4294967295' />
			<data name='FK2D10' port='4294967295' pin='4294967295' />
			<data name='FK2D11' port='4294967295' pin='4294967295' />
			<data name='FK2D12' port='4294967295' pin='4294967295' />
			<data name='FK2D13' port='4294967295' pin='4294967295' />
			<data name='FK2D14' port='4294967295' pin='4294967295' />
			<data name='FK2D15' port='4294967295' pin='4294967295' />
			<data name='FK2A0' port='4294967295' pin='4294967295' />
			<data name='FK2A1' port='4294967295' pin='4294967295' />
			<data name='FK2A2' port='4294967295' pin='4294967295' />
			<data name='FK2A3' port='4294967295' pin='4294967295' />
			<data name='FK2A4' port='4294967295' pin='4294967295' />
			<data name='FK2A5' port='4294967295' pin='4294967295' />
		</FK2>
		<ICD >
			<data name='AnalogPrescaleValue' value='19' />
			<data name='DigitalSampleRate' value='100000' />
			<data name='BreakpointCount' value='8' />
			<data name='CallStackDepthCount' value='8' />
			<data name='ClockPort' value='1' />
			<data name='ClockPin' value='6' />
			<data name='DataPort' value='1' />
			<data name='DataPin' value='7' />
			<data name='UseDefaultPins' value='1' />
			<data name='WrapEnabled' value='1' />
			<data name='CommsDelayOverridden' value='0' />
			<data name='CommsDelay' value='9' />
			<data name='CalculatedCommsDelay' value='9' />
			<data name='AnalogEB2PrescaleValue' value='2' />
			<data name='DigitalEB2SampleRate' value='100000' />
		</ICD>
		<pins >
			<digital A='0' B='0' C='0' D='0' E='0' F='0' G='0' H='0' I='0' J='0' K='0' L='0' M='0' N='0' O='0' P='0' Q='0' R='0' S='0' T='0' U='0' V='0' W='0' X='0' Y='0' Z='0' />
			<analog A='0' B='0' C='0' D='0' E='0' F='0' G='0' H='0' I='0' J='0' K='0' L='0' M='0' N='0' O='0' P='0' Q='0' R='0' S='0' T='0' U='0' V='0' W='0' X='0' Y='0' Z='0' />
		</pins>
	</ghost>
	<components >
		<settings autoimg='0' center='1' unitscale='0' fixedscale='0' fixedx='1' fixedy='1' fixedz='1' headcode='0' />
		<definition guid='df96ffa1-4d36-453a-8877-758f68a2676c' vstate='40' vmin='0' vmaj='1' srcleaf='BBCWeatherForecast.fcfx' visiblename='BBC Weather Forecast' description='Easily allows you to collect observed weather metrics for your area using
the BBC Weather data service. 
Supports temperature and humidity etc. for your selected area. 
Also available are Wind Direction, Wind Speed and Air Pressure but please note these 
are not always available depending on your selected area. 
This component is used for data gathering from the internet.' category='Comms: IoT/Cloud' category2='' category3='' bIs2dOnly='1' bIs3dOnly='0' catenable='1' author='MatrixTSL' manuname='' manucode='' sysinfo='1052939' keywords='' dynamic='1' scadaCompatible='1' embeddedCompatible='1' showmacros='1' iconpath='..\..\icons\components\Weather.png' />
		<component class_type='root' codename='BBCWeatherForecast' panelId='-1' x='0' y='0' z='0' xsz='1' ysz='1' zsz='1' xang='0' yang='0' zang='0' xquat='0' yquat='0' zquat='0' wquat='1' visible='1' scadavisible='1' interactive='1' solid='1' layer='0' poslock='0' comp2dType='0' >
			<resources />
			<properties >
				<property name='Network Comms Component' target='NetworkCommsComp' typeid='17' hidden='1' locked='0' info='Network Communications component to use as the bridge to the TCP/IP network.' />
				<property name='LinkTo' target='LibraryComponent1::OutputIcon::LinkTo' typeid='16' hidden='0' locked='0' info='' filter='000' />
				<property name='BBC IP Address' target='IPAddr' typeid='10' hidden='0' locked='0' info='IP Address linked to the following URL: weather-broker-cdn.api.bbci.co.uk' />
				<property name='Location Code' target='Location' typeid='10' hidden='0' locked='0' info='BBC code for your area. 
In a web browser go to www.bbc.co.uk/weather/
Then type in your city in the search bar and your code will be shown at the end of the URL.
For example Manchester in the UK = 2643123
In the UK you can also use the first half of your post code, e.g. HX1' />
				<property name='Receive Timeout' target='RxTimeout' typeid='21' hidden='0' locked='0' info='Maximum time to wait for valid incoming data.' />
			</properties>
			<values >
				<value target='NetworkCommsComp' data='' />
				<value target='LibraryComponent1::OutputIcon::LinkTo' data='000' />
				<value target='IPAddr' data='104.82.74.185' />
				<value target='Location' data='2643123' />
				<value target='RxTimeout' data='200' />
			</values>
			<events >
				<event class='Components' event='Initialise' target='Ev_Initialise' />
				<event class='System' event='LoadComplete' target='Ev_LoadComplete' />
				<event class='Components' event='Renamed' target='Ev_Renamed' />
				<event class='Components' event='Property' target='Ev_Property' />
			</events>
			<apis >
				<api name='GetDaySummary' alt='GetDaySummary' type='1' proto='1' />
				<api name='GetMaxTemperature' alt='GetMaxTemperature' type='1' proto='1' />
				<api name='GetVisibility' alt='GetVisibility' type='1' proto='1' />
				<api name='GetMinTemperature' alt='GetMinTemperature' type='1' proto='1' />
				<api name='GetWindDirection' alt='GetWindDirection' type='1' proto='1' />
				<api name='RequestData' alt='RequestData' type='1' proto='1' />
				<api name='GetPollution' alt='GetPollution' type='1' proto='1' />
				<api name='GetSunset' alt='GetSunset' type='1' proto='1' />
				<api name='GetHumidity' alt='GetHumidity' type='1' proto='1' />
				<api name='GetDayName' alt='GetDayName' type='1' proto='1' />
				<api name='GetWindSpeed' alt='GetWindSpeed' type='1' proto='1' />
				<api name='SetLocationCode' alt='SetLocationCode' type='1' proto='1' />
				<api name='GetSunrise' alt='GetSunrise' type='1' proto='1' />
				<api name='GetPressure' alt='GetPressure' type='1' proto='1' />
				<api name='SetForecastDay' alt='SetForecastDay' type='1' proto='1' />
				<api name='GetUVRisk' alt='GetUVRisk' type='1' proto='1' />
				<api name='GetLocationName' alt='GetLocationName' type='1' proto='1' />
				<api name='Initialise' alt='Initialise' type='1' proto='1' />
			</apis>
			<variables >
				<variable public='0' >
					<def class_type='variable' name='Visibility' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
						<array size='3' />
						<array size='10' />
					</def>
				</variable>
				<variable public='0' >
					<def class_type='variable' name='DayName' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
						<array size='3' />
						<array size='10' />
					</def>
				</variable>
				<variable public='0' >
					<def class_type='variable' name='Pressure' type='u16' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' >
						<array size='3' />
					</def>
				</variable>
				<variable public='0' >
					<def class_type='variable' name='UVRisk' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
						<array size='3' />
					</def>
				</variable>
				<variable public='0' >
					<def class_type='variable' name='Sunrise' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
						<array size='3' />
						<array size='12' />
					</def>
				</variable>
				<variable public='0' >
					<def class_type='variable' name='false' type='b1' description='' isconst='1' isHidden='0' isinit='1' usrinit='0' setinit='0' />
				</variable>
				<variable public='0' >
					<def class_type='variable' name='SelectedDay' type='u8' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
				</variable>
				<variable public='0' >
					<def class_type='variable' name='MinTemp' type='s16' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' >
						<array size='3' />
						<array size='2' />
					</def>
				</variable>
				<variable public='0' >
					<def class_type='variable' name='Pollution' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
						<array size='3' />
						<array size='10' />
					</def>
				</variable>
				<variable public='0' >
					<def class_type='variable' name='LocationVar' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
						<array size='10' />
					</def>
				</variable>
				<variable public='0' >
					<def class_type='variable' name='Description' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
						<array size='3' />
						<array size='30' />
					</def>
				</variable>
				<variable public='0' >
					<def class_type='variable' name='SunSet' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
						<array size='3' />
						<array size='12' />
					</def>
				</variable>
				<variable public='0' >
					<def class_type='variable' name='Buffer' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
						<array size='8192' />
					</def>
				</variable>
				<variable public='0' >
					<def class_type='variable' name='WindDirection' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
						<array size='3' />
						<array size='30' />
					</def>
				</variable>
				<variable public='0' >
					<def class_type='variable' name='LocationName' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
						<array size='30' />
					</def>
				</variable>
				<variable public='0' >
					<def class_type='variable' name='WindSpeed' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
						<array size='3' />
					</def>
				</variable>
				<variable public='0' >
					<def class_type='variable' name='MaxTemp' type='s16' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' >
						<array size='3' />
						<array size='2' />
					</def>
				</variable>
				<variable public='0' >
					<def class_type='variable' name='Humidity' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
						<array size='3' />
					</def>
				</variable>
				<variable public='0' >
					<def class_type='variable' name='true' type='b1' description='' isconst='1' isHidden='0' isinit='1' usrinit='1' setinit='1' />
				</variable>
			</variables>
			<macros >
				<macro >
					<flowline name='GetMaxTemperature' description='Reads the forecast maximum temperature in the selected scale for the selected day.' statediag='0' >
						<return name='Return' type='s16' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Scale' type='b1' description='0 = Celcius, 1 = Farenheit' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='StrData' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='4' />
						</local>
						<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
							<exp exp='.Return = MaxTemp[SelectedDay][.Scale]' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='GetVisibility' description='Reads the forecast visibility for the selected day.' statediag='0' >
						<return name='Return' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='2000' />
						</return>
						<command class_type='calculation' title='Copy string to return' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
							<exp exp='.Return = Visibility[SelectedDay]' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='GetDaySummary' description='Gets the summary of the currently selected day as a string.' statediag='0' >
						<return name='Return' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='2000' />
						</return>
						<command class_type='calculation' title='Copy string to return' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
							<exp exp='.Return = Description[SelectedDay]' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='ParseString' description='' statediag='0' >
						<return name='Return' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='2000' />
						</return>
						<param name='terminator' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='RxStr' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='2' />
						</local>
						<local name='RxLen' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='RxPtr' type='u8' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
						<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
							<exp exp='.RxStr[0] = &apos;0&apos;' />
						</command>
						<command class_type='loop' title='Loop' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' type='0' exp='.RxStr[0] != .terminator' >
							<flowline >
								<command class_type='call' title='Receive a single character' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' component='NetworkComms1' macro='Receive' >
									<return exp='.RxLen' />
									<argument exp='.RxStr' />
									<argument exp='1' />
									<argument exp='RxTimeout' />
								</command>
								<command class_type='decision' title='Decision' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='.RxLen' swap='0' >
									<flowline >
										<command class_type='decision' title='Decision' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='.RxStr[0] != .terminator' swap='0' >
											<flowline >
												<command class_type='calculation' title='Add latest char to running total' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
													<exp exp='.Return[.RxPtr] = .RxStr[0]' />
												</command>
												<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
													<exp exp='.RxPtr = .RxPtr + 1' />
												</command>
											</flowline>
											<flowline />
										</command>
									</flowline>
									<flowline >
										<command class_type='goto' title='Jump out of loop' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' labelid='0' labelname='' />
									</flowline>
								</command>
							</flowline>
						</command>
						<command class_type='label' title='Connection Point' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' labelid='0' labelname='A' />
						<command class_type='calculation' title='Terminate String' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
							<exp exp='.Return[.RxPtr] = 0' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Ev_Initialise' description='Initialisation routine for the component once the component is linked to its parent' statediag='0' >
						<return name='Return' type='u32' description='Non-zero to prevent initialisation' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='tempStr' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<command class_type='call' title='Call Macro' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Ev_Property' />
					</flowline>
				</macro>
				<macro >
					<flowline name='ParseNumber' description='' statediag='0' >
						<return name='Return' type='s16' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='RxStr' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='2' />
						</local>
						<local name='RxLen' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='neg' type='b1' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
						<command class_type='calculation' title='Reset Val' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
							<exp exp='.Return = 0' />
						</command>
						<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
							<exp exp='.RxStr[0] = &apos;0&apos;' />
						</command>
						<command class_type='loop' title='Loop' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' type='0' exp='((.RxStr[0] &gt;= &apos;0&apos;) &amp;&amp; (.RxStr[0] &lt;= &apos;9&apos;)) || (.RxStr[0] == &apos;-&apos;)' >
							<flowline >
								<command class_type='decision' title='Decision' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='.RxStr[0] = &apos;-&apos;' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
											<exp exp='.neg = 1' />
										</command>
									</flowline>
									<flowline >
										<command class_type='calculation' title='Add latest char to running total' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
											<exp exp='.Return = .Return * 10' />
											<exp exp='.Return = .Return + (.RxStr[0] - &apos;0&apos;)' />
										</command>
									</flowline>
								</command>
								<command class_type='call' title='Receive a single character' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' component='NetworkComms1' macro='Receive' >
									<return exp='.RxLen' />
									<argument exp='.RxStr' />
									<argument exp='1' />
									<argument exp='RxTimeout' />
								</command>
								<command class_type='decision' title='Decision' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='.RxLen' swap='0' >
									<flowline />
									<flowline >
										<command class_type='goto' title='Jump out of loop' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' labelid='0' labelname='' />
									</flowline>
								</command>
							</flowline>
						</command>
						<command class_type='label' title='Connection Point' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' labelid='0' labelname='A' />
						<command class_type='decision' title='Decision' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='.neg' swap='0' >
							<flowline >
								<command class_type='calculation' title='Convert number to negative' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
									<exp exp='.Return = 0 - .Return' />
								</command>
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='GetMinTemperature' description='Reads the forecast minimum temperature in the selected scale for the selected day.' statediag='0' >
						<return name='Return' type='s16' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Scale' type='b1' description='0 = Celcius, 1 = Farenheit' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='StrData' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='4' />
						</local>
						<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
							<exp exp='.Return = MinTemp[SelectedDay][.Scale]' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='GetWindDirection' description='Reads the forecast wind direction as a string for the selected day.' statediag='0' >
						<return name='Return' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='2000' />
						</return>
						<local name='Idx' type='u16' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='StrIdx' type='u8' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
						<command class_type='calculation' title='Assign Return String' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
							<exp exp='.Return = WindDirection[SelectedDay]' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='RequestData' description='Requests data about your selected location from the BBC weather service.
Returns true if the request was successful.
Must be called before trying to call any of the GetXXX macros.' statediag='0' >
						<return name='Return' type='b1' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='Request' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='100' />
						</local>
						<local name='Result' type='b1' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='RxLen' type='u16' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='ArrayIdx' type='u8' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
						<command class_type='calculation' title='Failed to get data - default' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
							<exp exp='.Return = 0' />
						</command>
						<command class_type='call' title='Open Socket' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' component='NetworkComms1' macro='SocketOpen' >
							<return exp='.Result' />
						</command>
						<command class_type='decision' title='Socket Opened' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='.Result' swap='0' >
							<flowline >
								<command class_type='call' title='Connect to server' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' component='NetworkComms1' macro='Connect' >
									<return exp='.Result' />
									<argument exp='IPAddr' />
									<argument exp='80' />
								</command>
								<command class_type='decision' title='Connected to Server' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='.Result' swap='0' >
									<flowline >
										<command class_type='sim' title='Call Component Macro' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' component='LibraryComponent1' macro='FlashTx' />
										<command class_type='calculation' title='Calculation' disable='1' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
											<exp exp='.Request = &quot;GET /en/forecast/rss/3day/&quot;' />
											<exp exp='.Request = .Request + LocationVar' />
											<exp exp='.Request = .Request + &quot; HTTP/1.1\r\nHost: weather-broker-cdn.api.bbci.co.uk\r\n\r\n&quot;' />
											<exp exp='.RxLen = Length$ (.Request)' />
										</command>
										<command class_type='call' title='Call Component Macro' disable='1' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' component='NetworkComms1' macro='Send' >
											<argument exp='.Request' />
											<argument exp='.RxLen' />
										</command>
										<command class_type='call' title='Call Component Macro' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' component='NetworkComms1' macro='Send' >
											<argument exp='&quot;GET /en/forecast/rss/3day/&quot;' />
											<argument exp='26' />
										</command>
										<command class_type='call' title='Call Component Macro' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' component='NetworkComms1' macro='Send' >
											<argument exp='LocationVar' />
											<argument exp='Length$(LocationVar)' />
										</command>
										<command class_type='call' title='Call Component Macro' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' component='NetworkComms1' macro='Send' >
											<argument exp='&quot; HTTP/1.1\r\nHost: weather-broker-cdn.api.bbci.co.uk\r\n\r\n&quot;' />
											<argument exp='54' />
										</command>
										<command class_type='comment' title='' comment='The return data we are interested in currently looks like this.
      &lt;description&gt;Temperature: 21Â°C (70Â°F), Wind Direction: Direction not available, Wind Speed: 5mph, Humidity: 63%, Pressure: -- mb, Not available, Visibility: --&lt;/description&gt;' textarea='12,0,12,0' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' />
										<command class_type='call' title='Call Macro' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='HuntForString' >
											<return exp='.Result' />
											<argument exp='&quot;Forecast for  &quot;' />
										</command>
										<command class_type='decision' title='Decision' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='.Result' swap='0' >
											<flowline >
												<command class_type='calculation' title='We have data!' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
													<exp exp='.Return = 1' />
												</command>
												<command class_type='sim' title='Component Macro' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' component='LibraryComponent1' macro='FlashRx' />
												<command class_type='call' title='Call Macro' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='ParseString' >
													<return exp='LocationName' />
													<argument exp='&apos;,&apos;' />
												</command>
												<command class_type='call' title='Jump to start of daily data' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='HuntForString' >
													<return exp='.Result' />
													<argument exp='&quot;&lt;item&gt;&quot;' />
												</command>
												<command class_type='loop' title='Loop' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' type='2' forvar='.ArrayIdx' exp='3' >
													<flowline >
														<command class_type='call' title='Jump to start of daily data' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='HuntForString' >
															<return exp='.Result' />
															<argument exp='&quot;&lt;title&gt;&quot;' />
														</command>
														<command class_type='call' title='Collect Day Name' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='ParseString' >
															<return exp='DayName[.ArrayIdx]' />
															<argument exp='&apos;:&apos;' />
														</command>
														<command class_type='call' title='Skip over Space' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='HuntForString' >
															<return exp='.Result' />
															<argument exp='&quot; &quot;' />
														</command>
														<command class_type='call' title='Collect Day Description' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='ParseString' >
															<return exp='Description[.ArrayIdx]' />
															<argument exp='&apos;,&apos;' />
														</command>
														<command class_type='call' title='Jump to Max Temp' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='HuntForString' >
															<return exp='.Result' />
															<argument exp='&quot;Maximum Temperature: &quot;' />
														</command>
														<command class_type='call' title='Collect Temp in C' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='ParseNumber' >
															<return exp='MaxTemp[.ArrayIdx][0]' />
														</command>
														<command class_type='call' title='Jump to Farenheit' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='HuntForString' >
															<return exp='.Result' />
															<argument exp='&quot;(&quot;' />
														</command>
														<command class_type='call' title='Collect Temp in F' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='ParseNumber' >
															<return exp='MaxTemp[.ArrayIdx][1]' />
														</command>
														<command class_type='call' title='Jump to Min Temp' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='HuntForString' >
															<return exp='.Result' />
															<argument exp='&quot;Minimum Temperature: &quot;' />
														</command>
														<command class_type='call' title='Collect Temp in C' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='ParseNumber' >
															<return exp='MinTemp[.ArrayIdx][0]' />
														</command>
														<command class_type='call' title='Jump to Farenheit' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='HuntForString' >
															<return exp='.Result' />
															<argument exp='&quot;(&quot;' />
														</command>
														<command class_type='call' title='Collect Temp in F' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='ParseNumber' >
															<return exp='MinTemp[.ArrayIdx][1]' />
														</command>
														<command class_type='call' title='Call Macro' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='HuntForString' >
															<return exp='.Result' />
															<argument exp='&quot;Wind Direction: &quot;' />
														</command>
														<command class_type='call' title='Call Macro' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='ParseString' >
															<return exp='WindDirection[.ArrayIdx]' />
															<argument exp='&apos;,&apos;' />
														</command>
														<command class_type='call' title='Call Macro' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='HuntForString' >
															<return exp='.Result' />
															<argument exp='&quot;Wind Speed: &quot;' />
														</command>
														<command class_type='call' title='Call Macro' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='ParseNumber' >
															<return exp='WindSpeed[.ArrayIdx]' />
														</command>
														<command class_type='call' title='Call Macro' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='HuntForString' >
															<return exp='.Result' />
															<argument exp='&quot;Visibility: &quot;' />
														</command>
														<command class_type='call' title='Call Macro' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='ParseString' >
															<return exp='Visibility[.ArrayIdx]' />
															<argument exp='&apos;,&apos;' />
														</command>
														<command class_type='call' title='Call Macro' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='HuntForString' >
															<return exp='.Result' />
															<argument exp='&quot;Pressure: &quot;' />
														</command>
														<command class_type='call' title='Call Macro' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='ParseNumber' >
															<return exp='Pressure[.ArrayIdx]' />
														</command>
														<command class_type='call' title='Call Macro' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='HuntForString' >
															<return exp='.Result' />
															<argument exp='&quot;Humidity: &quot;' />
														</command>
														<command class_type='call' title='Call Macro' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='ParseNumber' >
															<return exp='Humidity[.ArrayIdx]' />
														</command>
														<command class_type='call' title='Call Macro' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='HuntForString' >
															<return exp='.Result' />
															<argument exp='&quot;UV Risk: &quot;' />
														</command>
														<command class_type='call' title='Call Macro' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='ParseNumber' >
															<return exp='UVRisk[.ArrayIdx]' />
														</command>
														<command class_type='call' title='Call Macro' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='HuntForString' >
															<return exp='.Result' />
															<argument exp='&quot;Sunrise: &quot;' />
														</command>
														<command class_type='call' title='Call Macro' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='ParseString' >
															<return exp='Sunrise[.ArrayIdx]' />
															<argument exp='&apos;,&apos;' />
														</command>
														<command class_type='call' title='Call Macro' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='HuntForString' >
															<return exp='.Result' />
															<argument exp='&quot;Sunset: &quot;' />
														</command>
														<command class_type='call' title='Call Macro' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='ParseString' >
															<return exp='SunSet[.ArrayIdx]' />
															<argument exp='&apos;&lt;&apos;' />
														</command>
													</flowline>
												</command>
												<command class_type='call' title='Call Macro' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='HuntForString' >
													<return exp='.Result' />
													<argument exp='&quot;End&quot;' />
												</command>
											</flowline>
											<flowline />
										</command>
									</flowline>
									<flowline />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='call' title='Call Component Macro' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' component='NetworkComms1' macro='SocketClose' />
					</flowline>
				</macro>
				<macro >
					<flowline name='GetPollution' description='Reads the forecast pollution as a string for the selected day.' statediag='0' >
						<return name='Return' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='2000' />
						</return>
						<local name='Idx' type='u16' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='StrIdx' type='u8' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
						<command class_type='calculation' title='Assign Return String' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
							<exp exp='.Return = Pollution[SelectedDay]' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='GetSunset' description='Reads the forecast sunset time as a string for the selected day.' statediag='0' >
						<return name='Return' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='2000' />
						</return>
						<local name='Idx' type='u16' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='StrIdx' type='u8' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
						<command class_type='calculation' title='Assign Return String' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
							<exp exp='.Return = Sunset[SelectedDay]' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='GetHumidity' description='Reads the forecast humidity in Relative Humdity for the selected day.' statediag='0' >
						<return name='Return' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='StrData' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='4' />
						</local>
						<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
							<exp exp='.Return = Humidity[SelectedDay]' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Ev_Property' description='Sent when a property has been changed by the User' statediag='0' >
						<return name='Return' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='Handle' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='sim' title='Component Macro' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' component='LibraryComponent1' macro='GetLinkHandle' >
							<return exp='.Handle' />
							<argument exp='1' />
						</command>
						<command class_type='decision' title='Valid Handle?' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='.Handle' swap='0' >
							<flowline >
								<command class_type='sim' title='Attempt Macro Redirect' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='System.RedirectMacros' >
									<argument exp='NetworkComms1' />
									<argument exp='.Handle' />
								</command>
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Ev_LoadComplete' description='Broadcast after a project has finished loading' statediag='0' >
						<return name='Return' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='decision' title='Decision' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='NetworkCommsComp' swap='0' >
							<flowline >
								<command class_type='sim' title='Component Macro' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' component='LibraryComponent1' macro='SetLinkHandle' >
									<argument exp='1' />
									<argument exp='NetworkCommsComp' />
								</command>
								<command class_type='sim' title='Built-in Function' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Component.Property.SetValue' >
									<argument exp='this' />
									<argument exp='&quot;NetworkCommsComp&quot;' />
									<argument exp='0' />
								</command>
							</flowline>
							<flowline />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='GetDayName' description='Gets the name of the currently selected day as a string.' statediag='0' >
						<return name='Return' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='2000' />
						</return>
						<command class_type='calculation' title='Copy string to return' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
							<exp exp='.Return = DayName[SelectedDay]' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='GetWindSpeed' description='Reads the reported wind speed in MPH for the selected day.' statediag='0' >
						<return name='Return' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='StrData' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='4' />
						</local>
						<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
							<exp exp='.Return = WindSpeed[SelectedDay]' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='SetLocationCode' description='Allows the location code to be altered from the default location code set in the component properties.
After changing the location the RequestData macro must be called to refresh the forecast variables.' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<param name='NewLocation' type='T8*' description='New location string, see Location property tooltip for more info.' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</param>
						<command class_type='calculation' title='Assign new location to location variable' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
							<exp exp='LocationVar = .NewLocation' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Ev_Renamed' description='' statediag='0' >
						<return name='Return' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='Name' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<command class_type='sim' title='' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Tree.GetName' >
							<return exp='.Name' />
							<argument exp='this' />
						</command>
						<command class_type='sim' title='' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Component.Property.SetValue' >
							<argument exp='LibraryComponent1' />
							<argument exp='&quot;Name&quot;' />
							<argument exp='.Name' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='GetSunrise' description='Reads the forecast sunrise time as a string for the selected day.' statediag='0' >
						<return name='Return' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='2000' />
						</return>
						<local name='Idx' type='u16' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='StrIdx' type='u8' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
						<command class_type='calculation' title='Assign Return String' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
							<exp exp='.Return = Sunrise[SelectedDay]' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='HuntForString' description='' statediag='0' >
						<return name='Return' type='b1' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='DataString' type='T8*' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</param>
						<local name='RxLen' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='RxStr' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='2' />
						</local>
						<local name='DataIdx' type='u16' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
						<local name='StrLen' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='calculation' title='Not found or Timeout' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
							<exp exp='.Return = 0' />
						</command>
						<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
							<exp exp='.StrLen = Length$ (.DataString)' />
						</command>
						<command class_type='loop' title='Loop' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' type='0' exp='.Return = 0' >
							<flowline >
								<command class_type='call' title='Receive a single character' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' component='NetworkComms1' macro='Receive' >
									<return exp='.RxLen' />
									<argument exp='.RxStr' />
									<argument exp='1' />
									<argument exp='RxTimeout' />
								</command>
								<command class_type='decision' title='Decision' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='.RxLen' swap='0' >
									<flowline >
										<command class_type='decision' title='Check a single character' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='.RxStr[0] = .DataString[.DataIdx]' swap='0' >
											<flowline >
												<command class_type='calculation' title='Increment Data Index' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
													<exp exp='.DataIdx = .DataIdx + 1' />
												</command>
												<command class_type='decision' title='Check to see if we have matched the entire string' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='.DataIdx = .StrLen' swap='0' >
													<flowline >
														<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
															<exp exp='.Return = 1' />
														</command>
													</flowline>
													<flowline />
												</command>
											</flowline>
											<flowline >
												<command class_type='calculation' title='Reset Data Index' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
													<exp exp='.DataIdx = 0' />
												</command>
											</flowline>
										</command>
									</flowline>
									<flowline >
										<command class_type='goto' title='Jump out of loop' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' labelid='0' labelname='' />
									</flowline>
								</command>
							</flowline>
						</command>
						<command class_type='label' title='Connection Point' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' labelid='0' labelname='A' />
					</flowline>
				</macro>
				<macro >
					<flowline name='GetPressure' description='Reads the forecast air pressure in milli bar (mb) for the selected day.' statediag='0' >
						<return name='Return' type='u16' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='StrData' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='6' />
						</local>
						<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
							<exp exp='.Return = Pressure[SelectedDay]' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='SetForecastDay' description='Chooses which day of the three day forecast to look at.
' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<param name='Day' type='u8' description='0 = Today, 1 = Tomorrow, 2 = Day After Tomorrow' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='decision' title='Decision' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='.Day &gt; 2' swap='0' >
							<flowline >
								<command class_type='calculation' title='Reset to Today' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
									<exp exp='.Day = 0' />
								</command>
							</flowline>
							<flowline />
						</command>
						<command class_type='calculation' title='Copy to global' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
							<exp exp='SelectedDay = .Day' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='GetUVRisk' description='Reads the forecast UV Risk for the selected day.' statediag='0' >
						<return name='Return' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='StrData' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='4' />
						</local>
						<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
							<exp exp='.Return = UVRisk[SelectedDay]' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='GetLocationName' description='Reads the reported location name as a string.' statediag='0' >
						<return name='Return' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='2000' />
						</return>
						<local name='Idx' type='u16' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='StrIdx' type='u8' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
						<command class_type='calculation' title='Assign Return String' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
							<exp exp='.Return = LocationName' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Main' description='' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<local name='tempStr' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='Int' type='s16' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='call' title='User Macro' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Ev_Initialise' />
						<command class_type='call' title='User Macro' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Initialise' />
						<command class_type='call' title='User Macro' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='RequestData' />
						<command class_type='call' title='User Macro' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='GetLocationName' >
							<return exp='.tempStr' />
						</command>
						<command class_type='call' title='User Macro' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='SetForecastDay' >
							<argument exp='0' />
						</command>
						<command class_type='call' title='User Macro' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='GetMaxTemperature' >
							<return exp='.Int' />
							<argument exp='0' />
						</command>
						<command class_type='loop' title='Loop' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' type='0' exp='1' >
							<flowline />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Initialise' description='Sets up the component ready to collect weather data.' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<command class_type='calculation' title='Assign default location to location variable' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
							<exp exp='LocationVar = Location' />
						</command>
						<command class_type='call' title='Call Component Macro' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' component='NetworkComms1' macro='Initialise' />
					</flowline>
				</macro>
			</macros>
			<component class_type='ref' guid='6112d87f-f9c8-4670-a5d1-dfcf313d935c' vmin='1' vmaj='1' codename='NetworkComms1' panelId='-1' x='3.88725' y='3.46407' z='513.732' xsz='0.01' ysz='0.01' zsz='0.01' xang='0' yang='0' zang='0' xquat='0' yquat='0' zquat='0' wquat='1' visible='0' scadavisible='1' interactive='0' solid='1' layer='1' poslock='0' comp2dType='0' >
				<resources />
				<properties />
				<values >
					<value target='Component' data='' />
					<value target='RemapIndex' data='0' />
					<value target='Status' data='Simulation Only' />
				</values>
				<events />
				<apis />
				<variables />
				<macros />
			</component>
			<component class_type='ref' guid='58be670e-18fb-477e-ab09-61fde14b23ec' vmin='0' vmaj='1' codename='LibraryComponent1' panelId='-1' x='0' y='0' z='0' xsz='100' ysz='100' zsz='100' xang='0' yang='0' zang='0' xquat='0' yquat='0' zquat='0' wquat='1' visible='1' scadavisible='1' interactive='1' solid='1' layer='1' poslock='1' comp2dType='0' >
				<resources />
				<properties />
				<values >
					<value target='Text::sText' data='BBC
Weather' />
					<value target='Name' data='' />
					<value target='Peripheral::sText' data='' />
					<value target='Text::nVerticalAlignment' data='002' />
					<value target='ShowComms' data='1' />
					<value target='InputIcon::CommsType' data='255' />
					<value target='InputIcon::LinkTo' data='0' />
					<value target='IconsOnRight' data='0' />
					<value target='OutputIcon::CommsType' data='000' />
					<value target='OutputIcon::LinkTo' data='000' />
					<value target='ConsoleHandle' data='0' />
					<value target='Upgraded' data='1' />
				</values>
				<events />
				<apis />
				<variables />
				<macros />
			</component>
		</component>
	</components>
	<scadaresourcelookup />
	<keymap />
	<panel2d shadows='0' lighting='2' brightness='0' >
		<background rgb='0' img='' style='0' />
		<camera xe='-17.9282' ye='-6.18364' ze='729.283' xt='-17.9282' yt='-6.18364' zt='0' xquat='0' yquat='0' zquat='0' wquat='1' />
		<viewport dx='622' dy='352' zoom='103.2' fix_topleft='0' />
		<page x='1000' y='1000' show='0' rgb='16777215' />
		<winpos ID='7005' RectRecentFloat='944,227,1594,677' RectRecentDocked='0,0,295,419' RecentFrameAlignment='16384' RecentRowIndex='0' IsFloating='1' MRUWidth='32767' PinState='0' IsMaximized='0' IsVisible='1' />
	</panel2d>
	<panel3d shadows='0' lighting='2' brightness='0' perspective='1' >
		<background rgb='8409120' img='' style='5' />
		<table rgb='7360576' img='' style='0' size='0' />
		<camera xe='13.7606' ye='-1.45564' ze='215.551' xt='13.7606' yt='-1.45564' zt='0' xquat='0' yquat='0' zquat='0' wquat='1' />
		<camerakey0 xe='0' ye='0' ze='300' xt='0' yt='0' zt='0' xquat='0' yquat='0' zquat='0' wquat='1' />
		<camerakey1 xe='-3.67394e-14' ye='0' ze='-300' xt='0' yt='0' zt='0' xquat='0' yquat='1' zquat='0' wquat='6.12323e-17' />
		<camerakey2 xe='0' ye='-300' ze='6.66134e-14' xt='0' yt='0' zt='0' xquat='-0.707107' yquat='0' zquat='0' wquat='0.707107' />
		<camerakey3 xe='-3.67394e-14' ye='300' ze='6.66134e-14' xt='0' yt='0' zt='0' xquat='-4.32978e-17' yquat='0.707107' zquat='0.707107' wquat='4.32978e-17' />
		<camerakey4 xe='-300' ye='-6.66134e-14' ze='6.66134e-14' xt='0' yt='0' zt='0' xquat='-0.5' yquat='0.5' zquat='0.5' wquat='0.5' />
		<camerakey5 xe='300' ye='-6.66134e-14' ze='6.66134e-14' xt='0' yt='0' zt='0' xquat='-0.5' yquat='-0.5' zquat='-0.5' wquat='0.5' />
		<camerakey6 xe='-173.205' ye='-173.205' ze='173.205' xt='0' yt='0' zt='0' xquat='-0.424708' yquat='0.17592' zquat='0.339851' wquat='0.820473' />
		<winpos ID='7004' RectRecentFloat='0,402,654,979' RectRecentDocked='592,141,887,712' RecentFrameAlignment='16384' RecentRowIndex='0' IsFloating='1' MRUWidth='32767' PinState='0' IsMaximized='0' IsVisible='1' />
	</panel3d>
	<panels2d count='0' />
	<layout >
		<view type='0' name='RequestData' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAASgIAADYCAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='HuntForString' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAASgIAADYCAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Initialise' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAASgIAADYCAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='ParseString' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAASgIAADYCAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='ParseNumber' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAASgIAADYCAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='GetSunset' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAASgIAADYCAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='GetDaySummary' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAASgIAADYCAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='GetDayName' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAASgIAADYCAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='GetWindSpeed' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAASgIAADYCAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='GetWindDirection' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAASgIAADYCAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='GetVisibility' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAASgIAADYCAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='GetUVRisk' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAASgIAADYCAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='GetSunrise' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAASgIAADYCAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='GetPressure' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAASgIAADYCAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='GetPollution' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAASgIAADYCAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='GetMinTemperature' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAASgIAADYCAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='GetMaxTemperature' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAASgIAADYCAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='GetLocationName' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAASgIAADYCAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='GetHumidity' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAASgIAADYCAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='SetLocationCode' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAASgIAADYCAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='SetForecastDay' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAASgIAADYCAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Main' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAASgIAADYCAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Ev_Initialise' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAASgIAADYCAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Ev_Property' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAASgIAADYCAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Ev_LoadComplete' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAYAAAASgIAADYCAAA' zoom='100' scrollx='0' scrolly='0' flags='0' />
	</layout>
</document>
</root>
