<root>
<document scada='1' panel2DSCADA='0' panel3DSCADA='6' panelPropsSCADA='0' panelConsoleSCADA='0' panelDataRecorderSCADA='0' panel2DCount='0' playbackSCADA='0' ShouldAutoStartSCADA='0' ShouldLockCameraSCADA='0' ShouldBundleSCADA='1' SCADAProgramTitle='' schema='103' license='1,CompMaker,PWKUUN' title='App Developer Project' description='' fcversion='655360' target='SCADA.SCADA.GENERIC' >
	<config data='' clkspd='100000000' simspd='1' usewdt='0' constif='0' Use3V3='0' />
	<plugins >
		<dll_models enabled='1' />
	</plugins>
	<supplement use='0' head='' body='' />
	<debug />
	<traces />
	<ghost >
		<FK2 >
			<data name='FK2D0' port='4294967295' pin='4294967295' />
			<data name='FK2D1' port='4294967295' pin='4294967295' />
			<data name='FK2D2' port='4294967295' pin='4294967295' />
			<data name='FK2D3' port='4294967295' pin='4294967295' />
			<data name='FK2D4' port='4294967295' pin='4294967295' />
			<data name='FK2D5' port='4294967295' pin='4294967295' />
			<data name='FK2D6' port='4294967295' pin='4294967295' />
			<data name='FK2D7' port='4294967295' pin='4294967295' />
			<data name='FK2D8' port='4294967295' pin='4294967295' />
			<data name='FK2D9' port='4294967295' pin='4294967295' />
			<data name='FK2D10' port='4294967295' pin='4294967295' />
			<data name='FK2D11' port='4294967295' pin='4294967295' />
			<data name='FK2D12' port='4294967295' pin='4294967295' />
			<data name='FK2D13' port='4294967295' pin='4294967295' />
			<data name='FK2D14' port='4294967295' pin='4294967295' />
			<data name='FK2D15' port='4294967295' pin='4294967295' />
			<data name='FK2A0' port='4294967295' pin='4294967295' />
			<data name='FK2A1' port='4294967295' pin='4294967295' />
			<data name='FK2A2' port='4294967295' pin='4294967295' />
			<data name='FK2A3' port='4294967295' pin='4294967295' />
			<data name='FK2A4' port='4294967295' pin='4294967295' />
			<data name='FK2A5' port='4294967295' pin='4294967295' />
		</FK2>
		<ICD >
			<data name='AnalogPrescaleValue' value='19' />
			<data name='DigitalSampleRate' value='100000' />
			<data name='BreakpointCount' value='8' />
			<data name='CallStackDepthCount' value='8' />
			<data name='ClockPort' value='4095' />
			<data name='ClockPin' value='0' />
			<data name='DataPort' value='4095' />
			<data name='DataPin' value='0' />
			<data name='UseDefaultPins' value='1' />
			<data name='WrapEnabled' value='1' />
			<data name='CommsDelayOverridden' value='0' />
			<data name='CommsDelay' value='2' />
			<data name='CalculatedCommsDelay' value='2' />
			<data name='AnalogEB2PrescaleValue' value='2' />
			<data name='DigitalEB2SampleRate' value='100000' />
		</ICD>
		<pins >
			<digital A='0' B='0' C='0' D='0' E='0' F='0' G='0' H='0' I='0' J='0' K='0' L='0' M='0' N='0' O='0' P='0' Q='0' R='0' S='0' T='0' U='0' V='0' W='0' X='0' Y='0' Z='0' />
			<analog A='0' B='0' C='0' D='0' E='0' F='0' G='0' H='0' I='0' J='0' K='0' L='0' M='0' N='0' O='0' P='0' Q='0' R='0' S='0' T='0' U='0' V='0' W='0' X='0' Y='0' Z='0' />
		</pins>
	</ghost>
	<components >
		<settings autoimg='0' center='1' unitscale='0' fixedscale='0' fixedx='1' fixedy='1' fixedz='1' headcode='1' />
		<definition guid='a34ee78a-4a97-4e95-a5f6-3a9fa3de7167' vstate='40' vmin='1' vmaj='1' srcleaf='MIAC_NXT_AllCode_Component_Source.fcsx' visiblename='MIAC NXT AllCode API' description='Controls the MIAC NXT hardware loaded with the MIAC NXT AllCode firmware.
Usefull for SCADA, Control or Test applications.
Compatible with USB / Bluetooth / Wifi / Ethernet' category='AllCode' category2='' category3='' bIs2dOnly='1' bIs3dOnly='0' catenable='1' author='Matrix TSL' manuname='' manucode='' sysinfo='3150087' keywords='MIAC|AllCode|SCADA|Control|Test' dynamic='1' scadaCompatible='1' embeddedCompatible='0' showmacros='1' iconpath='..\..\icons\components\MIAC (dsPIC).png' />
		<component class_type='root' codename='MIAC_NXT_AllCode' panelId='-1' x='0' y='0' z='0' xsz='1' ysz='1' zsz='1' xang='0' yang='0' zang='0' xquat='0' yquat='0' zquat='0' wquat='1' visible='1' scadavisible='1' interactive='1' solid='1' layer='0' poslock='0' comp2dType='0' macronames='$(type)_$(module)__$(macro)' >
			<resources />
			<properties >
				<property name='Connections' folder='property_1' hidden='0' >
					<property name='API Connection Type' target='APIType' typeid='16' hidden='0' locked='0' info='API connection mode.
COM - Bluetooth / RS232 / RS485
WIFI - Network' filter='000USB
001Bluetooth
002WIFI / Ethernet' />
					<property name='Warnings On Error' target='WarningOnError' typeid='7' hidden='0' locked='0' info='Generates a warning dialogue if the communication to the device fails allowing the program to be ended.' />
					<property name='Connection Properties' folder='property_5' hidden='1' >
						<property name='Network Interface' target='NetworkComms1::NetworkInterface' typeid='16' hidden='0' locked='0' info='Some computers may have several network interfaces such as ethernet ports and wifi access.
Select the correct network interface for the network you wish to connect to.
Use the IP address to confirm you are connected to the right network.' filter='0000
0011
0022
0033
0044
0055
0066
255AutoDetect' />
						<property name='Local IP Address' target='NetworkComms1::IPAddress' typeid='10' hidden='0' locked='1' info='IP Address of the selected network interface.' />
						<property name='MIAC NXT IP Address' target='IPAddress' typeid='10' hidden='0' locked='0' info='The IP address of the MIAC we want to connect to' />
						<property name='TCP Port' target='Port' typeid='21' hidden='0' locked='0' info='Port to communicate on, default 1234' />
					</property>
					<property name='Connection Properties' folder='property_2' hidden='0' >
						<property name='Auto Detect' target='AutoDetect' typeid='7' hidden='0' locked='0' info='' />
						<property name='COM Port' target='COMPort1::COM_port' typeid='16' hidden='1' locked='0' info='Selects which port to communicate with, only lists ports which are currently available. ' />
						<property name='Refresh COM Ports' target='COMPort1::Refresh' typeid='7' hidden='1' locked='0' info='When set to yes the COM port list is rescanned for newly connected or available ports.
Note that refreshing the ports list may take a few seconds depending on the number of connected ports.' />
					</property>
				</property>
			</properties>
			<values >
				<value target='APIType' data='000' />
				<value target='WarningOnError' data='1' />
				<value target='NetworkComms1::NetworkInterface' data='255' />
				<value target='NetworkComms1::IPAddress' data='0.0.0.0' />
				<value target='IPAddress' data='192.168.1.18' />
				<value target='Port' data='1234' />
				<value target='AutoDetect' data='1' />
				<value target='COMPort1::COM_port' data='001' />
				<value target='COMPort1::Refresh' data='0' />
			</values>
			<events >
				<event class='Components' event='Property' target='Ev_Property' />
				<event class='Simulation' event='Stop' target='Ev_Stop' />
				<event class='Compile' event='Start' target='Ev_CompStart' />
				<event class='Simulation' event='Start' target='Ev_Start' />
				<event class='Components' event='Initialise' target='Ev_Initialise' />
				<event class='Components' event='Renamed' target='Ev_Renamed' />
				<event class='Compile' event='AddInterrupts' target='Ev_AddInterrupts' />
			</events>
			<apis >
				<api name='WriteTranPWMEnable' alt='' type='2' proto='1' />
				<api name='WriteTrans' alt='WriteTrans' type='2' proto='1' />
				<api name='DisplayPrint' alt='' type='2' proto='1' />
				<api name='GetAPIVersion' alt='' type='2' proto='1' />
				<api name='DisplayNumber' alt='' type='2' proto='1' />
				<api name='WriteTranPWMDuty' alt='' type='2' proto='1' />
				<api name='DisplayClear' alt='' type='2' proto='1' />
				<api name='ReadKey' alt='' type='2' proto='1' />
				<api name='DisplayPixel' alt='' type='2' proto='1' />
				<api name='WriteRelay' alt='' type='2' proto='1' />
				<api name='WriteRelays' alt='' type='2' proto='1' />
				<api name='ReadAnalogInput' alt='' type='2' proto='1' />
				<api name='SetAPIVerbose' alt='' type='2' proto='1' />
				<api name='DisplayCursor' alt='' type='2' proto='1' />
				<api name='ReadDigitalInput' alt='' type='2' proto='1' />
				<api name='ReadDigitalInputs' alt='' type='2' proto='1' />
				<api name='WriteTran' alt='' type='2' proto='1' />
				<api name='DisplayFloat' alt='' type='2' proto='1' />
			</apis>
			<variables >
				<variable public='0' >
					<def class_type='variable' name='ConsoleHandle' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
				</variable>
				<variable public='0' >
					<def class_type='variable' name='APIBuffer' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
						<array size='100' />
					</def>
				</variable>
				<variable public='0' >
					<def class_type='variable' name='SocketOpen' type='b1' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
				</variable>
			</variables>
			<macros >
				<macro >
					<flowline name='WriteTranPWMEnable' description='Allows pulse width modulated transistor outputs to be switched on or off.' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<param name='Channel' type='u8' description='Range: 1-4 Where 1=A / 2=B / 3=C / 4=D' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='EnableOrState' type='b1' description='PWM on Enable Pin or State Pin - 1 = Enable / 0 = State' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='OnOrOff' type='b1' description='1 = Enabled / 0 = Disabled' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='decision' title='Decision' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='(.Channel &gt; 0) &amp;&amp; (.Channel &lt;= 4)' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
									<exp exp='APIBuffer[0] = &apos;:&apos;' />
									<exp exp='APIBuffer[1] = &apos;J&apos;' />
									<exp exp='APIBuffer[2] = .Channel' />
									<exp exp='APIBuffer[3] = .EnableOrState' />
									<exp exp='APIBuffer[4] = .OnOrOff' />
									<exp exp='APIBuffer[5] = &apos;;&apos;' />
									<exp exp='APIBuffer[6] = &apos;\n&apos;' />
								</command>
								<command class_type='call' title='Send and Receive' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='APIComms' >
									<argument exp='7' />
									<argument exp='1' />
									<argument exp='1000' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.WriteText' >
									<argument exp='ConsoleHandle' />
									<argument exp='&quot;CMD : WriteTranPWMEnable &quot; + string .Channel + &quot; &quot; + string .EnableOrState + &quot; &quot; + string .OnOrOff + &quot;\n&quot;' />
								</command>
							</flowline>
							<flowline >
								<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.WriteText' >
									<argument exp='ConsoleHandle' />
									<argument exp='&quot;CMD : WriteTranPWMEnable &quot; +string .Channel + &quot; -&gt; Channel out of range 1-4\n&quot;' />
								</command>
							</flowline>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Ev_Stop' description='Broadcast to all components that simulation has stopped' statediag='0' >
						<return name='Return' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='decision' title='Decision' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='APIType &lt; 2' swap='0' >
							<flowline >
								<command class_type='sim' title='Call Component Macro' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' component='COMPort1' macro='ClosePort' />
							</flowline>
							<flowline >
								<command class_type='decision' title='Decision' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='SocketOpen' swap='0' >
									<flowline >
										<command class_type='call' title='Call Component Macro' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' component='NetworkComms1' macro='SocketClose' />
										<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
											<exp exp='SocketOpen = 0' />
										</command>
									</flowline>
									<flowline />
								</command>
							</flowline>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='WriteTrans' description='Allows all transistor outputs to be switched on or off in a single command.' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<param name='Value' type='u8' description='Range: 0-63 or 0b000000 to 0b111111' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
							<exp exp='APIBuffer[0] = &apos;:&apos;' />
							<exp exp='APIBuffer[1] = &apos;I&apos;' />
							<exp exp='APIBuffer[2] = .Value' />
							<exp exp='APIBuffer[3] = &apos;;&apos;' />
							<exp exp='APIBuffer[4] = &apos;\n&apos;' />
						</command>
						<command class_type='call' title='Send and Receive' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='APIComms' >
							<argument exp='5' />
							<argument exp='1' />
							<argument exp='1000' />
						</command>
						<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.WriteText' >
							<argument exp='ConsoleHandle' />
							<argument exp='&quot;CMD : WriteTrans &quot; + string .Value + &quot;\n&quot;' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='DisplayPrint' description='Prints a string to the MIAC display starting from the current cursor position.' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<param name='data' type='T8*' description='Range: 0-21' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</param>
						<local name='temp' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='idx' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='len' type='u16' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
							<exp exp='.len = Length$ (.data)' />
						</command>
						<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
							<exp exp='APIBuffer[0] = &apos;:&apos;' />
							<exp exp='APIBuffer[1] = &apos;P&apos;' />
						</command>
						<command class_type='loop' title='Loop' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' type='2' forvar='.idx' exp='.len' >
							<flowline >
								<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
									<exp exp='APIBuffer[.idx + 2] = .data[.idx]' />
								</command>
							</flowline>
						</command>
						<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
							<exp exp='APIBuffer[.idx + 2] = 0' />
							<exp exp='APIBuffer[.idx + 3] = &apos;;&apos;' />
							<exp exp='APIBuffer[.idx + 4] = &apos;\n&apos;' />
						</command>
						<command class_type='call' title='Send and Receive' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='APIComms' >
							<argument exp='.idx + 5' />
							<argument exp='1' />
							<argument exp='1000' />
						</command>
						<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.WriteText' >
							<argument exp='ConsoleHandle' />
							<argument exp='&quot;CMD : DisplayPrint &quot; + .data + &quot;\n&quot;' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='CANEnable' description='Enables communications on one of the inbuilt CAN interfaces.' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<param name='Channel' type='u8' description='Range: 1-3 - 1=CAN1 / 2=CAN2 / 3=CAN3' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Baud' type='u8' description='Range: 0-3 - 0=125 / 1=250 / 2=500 / 3=1000 (Kb/s)' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='decision' title='Decision' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='(.Channel &gt; 0) &amp;&amp; (.Channel &lt;= 3)' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
									<exp exp='APIBuffer[0] = &apos;:&apos;' />
									<exp exp='APIBuffer[1] = &apos;R&apos;' />
									<exp exp='APIBuffer[2] = .Channel' />
									<exp exp='APIBuffer[3] = .Baud' />
									<exp exp='APIBuffer[4] = &apos;;&apos;' />
									<exp exp='APIBuffer[5] = &apos;\n&apos;' />
								</command>
								<command class_type='call' title='Send and Receive' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='APIComms' >
									<argument exp='6' />
									<argument exp='1' />
									<argument exp='1000' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.WriteText' >
									<argument exp='ConsoleHandle' />
									<argument exp='&quot;CMD : CANEnable Channel: &quot; +string .Channel + &quot; BAUD: &quot;' />
								</command>
								<command class_type='switch' title='Switch' textarea='36,25,36,25' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='.Baud' >
									<case >
										<flowline >
											<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.WriteText' >
												<argument exp='ConsoleHandle' />
												<argument exp='&quot;250&quot;' />
											</command>
										</flowline>
									</case>
									<case exp='1' >
										<flowline >
											<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.WriteText' >
												<argument exp='ConsoleHandle' />
												<argument exp='&quot;250&quot;' />
											</command>
										</flowline>
									</case>
									<case exp='2' >
										<flowline >
											<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.WriteText' >
												<argument exp='ConsoleHandle' />
												<argument exp='&quot;500&quot;' />
											</command>
										</flowline>
									</case>
									<case exp='3' >
										<flowline >
											<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.WriteText' >
												<argument exp='ConsoleHandle' />
												<argument exp='&quot;1000&quot;' />
											</command>
										</flowline>
									</case>
									<case exp='0' >
										<flowline >
											<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.WriteText' >
												<argument exp='ConsoleHandle' />
												<argument exp='&quot;125&quot;' />
											</command>
										</flowline>
									</case>
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.WriteText' >
									<argument exp='ConsoleHandle' />
									<argument exp='&quot;Kb/s\n&quot;' />
								</command>
							</flowline>
							<flowline >
								<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.WriteText' >
									<argument exp='ConsoleHandle' />
									<argument exp='&quot;CMD : CANEnable - Channel out of range!&quot;' />
								</command>
							</flowline>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='LINEnable' description='Enables communications on the inbuilt LIN interface.' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<param name='Baud' type='u8' description='Range: 0-3 - 0=2400 / 1=4800 / 2=9600 / 3=19200 (b/s)' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
							<exp exp='APIBuffer[0] = &apos;:&apos;' />
							<exp exp='APIBuffer[1] = &apos;V&apos;' />
							<exp exp='APIBuffer[2] = .Baud' />
							<exp exp='APIBuffer[3] = &apos;;&apos;' />
							<exp exp='APIBuffer[4] = &apos;\n&apos;' />
						</command>
						<command class_type='call' title='Send and Receive' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='APIComms' >
							<argument exp='5' />
							<argument exp='1' />
							<argument exp='1000' />
						</command>
						<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.WriteText' >
							<argument exp='ConsoleHandle' />
							<argument exp='&quot;CMD : LINEnable Baud: &quot;' />
						</command>
						<command class_type='switch' title='Switch' textarea='36,25,36,25' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='.Baud' >
							<case >
								<flowline >
									<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.WriteText' >
										<argument exp='ConsoleHandle' />
										<argument exp='&quot;19200&quot;' />
									</command>
								</flowline>
							</case>
							<case exp='1' >
								<flowline >
									<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.WriteText' >
										<argument exp='ConsoleHandle' />
										<argument exp='&quot;4800&quot;' />
									</command>
								</flowline>
							</case>
							<case exp='2' >
								<flowline >
									<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.WriteText' >
										<argument exp='ConsoleHandle' />
										<argument exp='&quot;9600&quot;' />
									</command>
								</flowline>
							</case>
							<case exp='3' >
								<flowline >
									<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.WriteText' >
										<argument exp='ConsoleHandle' />
										<argument exp='&quot;19200&quot;' />
									</command>
								</flowline>
							</case>
							<case exp='0' >
								<flowline >
									<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.WriteText' >
										<argument exp='ConsoleHandle' />
										<argument exp='&quot;2400&quot;' />
									</command>
								</flowline>
							</case>
						</command>
						<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.WriteText' >
							<argument exp='ConsoleHandle' />
							<argument exp='&quot;b/s\n&quot;' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Ev_Initialise' description='Initialisation routine for the component once the component is linked to its parent' statediag='0' >
						<return name='Return' type='u32' description='Non-zero to prevent initialisation' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.AddText' >
							<return exp='ConsoleHandle' />
							<argument exp='&quot;MIAC AllCode&quot;' />
							<argument exp='0' />
						</command>
						<command class_type='sim' title='Component Macro' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' component='LibraryComponent1' macro='SetConsoleHandle' >
							<argument exp='ConsoleHandle' />
						</command>
						<command class_type='call' title='Populate the ports list' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Ev_Property' />
					</flowline>
				</macro>
				<macro >
					<flowline name='GetAPIVersion' description='Gets the API version of the MIAC NXT AllCode Firmware.
Useful to see if the MIAC NXT is responding to commands.' statediag='0' >
						<return name='Return' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
							<exp exp='APIBuffer[0] = &apos;:&apos;' />
							<exp exp='APIBuffer[1] = &apos;A&apos;' />
							<exp exp='APIBuffer[2] = &apos;;&apos;' />
							<exp exp='APIBuffer[3] = &apos;\n&apos;' />
						</command>
						<command class_type='call' title='Send and Receive' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='APIComms' >
							<return exp='.Return' />
							<argument exp='4' />
							<argument exp='2' />
							<argument exp='1000' />
						</command>
						<command class_type='decision' title='Decision' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='.Return = 2' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
									<exp exp='.Return = APIBuffer[1]' />
								</command>
							</flowline>
							<flowline >
								<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
									<exp exp='.Return = 0' />
								</command>
							</flowline>
						</command>
						<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.WriteText' >
							<argument exp='ConsoleHandle' />
							<argument exp='&quot;CMD : GetAPIVersion -&gt; &quot; + string .Return + &quot;\n&quot;' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='DisplayNumber' description='Prints a number to the MIAC display starting from the current cursor position.' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<param name='Value' type='s32' description='Range: Signed Long' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='Str' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
							<exp exp='.Str = ToString$ (.Value)' />
						</command>
						<command class_type='call' title='User Macro' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='DisplayPrint' >
							<argument exp='.Str' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='WriteTranPWMDuty' description='Sets the PWM duty on the selected channel.' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<param name='Channel' type='u8' description='Range: 1-4 Where 1=A / 2=B / 3=C / 4=D' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='EnableOrState' type='b1' description='1 = Enable / 0 = State' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Duty' type='u16' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='decision' title='Decision' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='(.Channel &gt; 0) &amp;&amp; (.Channel &lt;= 4)' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
									<exp exp='APIBuffer[0] = &apos;:&apos;' />
									<exp exp='APIBuffer[1] = &apos;K&apos;' />
									<exp exp='APIBuffer[2] = .Channel' />
									<exp exp='APIBuffer[3] = .EnableOrState' />
									<exp exp='APIBuffer[4] = .Duty' />
									<exp exp='APIBuffer[5] = .Duty &gt;&gt; 8' />
									<exp exp='APIBuffer[6] = &apos;;&apos;' />
									<exp exp='APIBuffer[7] = &apos;\n&apos;' />
								</command>
								<command class_type='call' title='Send and Receive' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='APIComms' >
									<argument exp='8' />
									<argument exp='1' />
									<argument exp='1000' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.WriteText' >
									<argument exp='ConsoleHandle' />
									<argument exp='&quot;CMD : WriteTranPWMDuty &quot; + string .Channel + &quot; &quot; + string .EnableOrState + &quot; &quot; + string .Duty + &quot;\n&quot;' />
								</command>
							</flowline>
							<flowline >
								<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.WriteText' >
									<argument exp='ConsoleHandle' />
									<argument exp='&quot;CMD : WriteTranPWMDuty &quot; +string .Channel + &quot; -&gt; Channel out of range 1-4\n&quot;' />
								</command>
							</flowline>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='CANRxCheck' description='Checks to see if there are any received messages waiting to be read.
Returns 0 for no messages in queue.
Returns 1 - 255 corresponding to the number of messages currently in the queue.' statediag='0' >
						<return name='Return' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Channel' type='u8' description='Range: 1-3 - 1=CAN1 / 2=CAN2 / 3=CAN3' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='decision' title='Decision' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='(.Channel &gt; 0) &amp;&amp; (.Channel &lt;= 3)' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
									<exp exp='APIBuffer[0] = &apos;:&apos;' />
									<exp exp='APIBuffer[1] = &apos;R&apos;' />
									<exp exp='APIBuffer[2] = .Channel' />
									<exp exp='APIBuffer[3] = &apos;;&apos;' />
									<exp exp='APIBuffer[4] = &apos;\n&apos;' />
								</command>
								<command class_type='call' title='Send and Receive' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='APIComms' >
									<argument exp='5' />
									<argument exp='1' />
									<argument exp='1000' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.WriteText' >
									<argument exp='ConsoleHandle' />
									<argument exp='&quot;CMD : CANRxCheck &quot; + STRING .Channel + &quot;\n&quot;' />
								</command>
							</flowline>
							<flowline >
								<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.WriteText' >
									<argument exp='ConsoleHandle' />
									<argument exp='&quot;CMD : CANRxCheck - Channel out of range!&quot;' />
								</command>
							</flowline>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='CANRead' description='Reads an incoming comms packet from the selected comms interface channel.
Returns the ID as a ULONG.
Data array is loaded with [0] = NumDataBytes / [1]-[8] = DataBytes' statediag='0' >
						<return name='Return' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Channel' type='u8' description='Range: 1-3 - 1=CAN1 / 2=CAN2 / 3=CAN3' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Data' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='9' />
						</param>
						<local name='HexStr' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='idx' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='decision' title='Decision' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='(.Channel &gt; 0) &amp;&amp; (.Channel &lt;= 3)' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
									<exp exp='APIBuffer[0] = &apos;:&apos;' />
									<exp exp='APIBuffer[1] = &apos;T&apos;' />
									<exp exp='APIBuffer[2] = .Channel' />
									<exp exp='APIBuffer[3] = &apos;;&apos;' />
									<exp exp='APIBuffer[4] = &apos;\n&apos;' />
								</command>
								<command class_type='call' title='Send and Receive' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='APIComms' >
									<argument exp='5' />
									<argument exp='13' />
									<argument exp='1000' />
								</command>
								<command class_type='calculation' title='Combine first three bytes into returned ID' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
									<exp exp='.Return = (APIBuffer[3] &lt;&lt; 8) + APIBuffer[2]' />
									<exp exp='.Return = .Return &lt;&lt; 8' />
									<exp exp='.Return = .Return | APIBuffer[1]' />
								</command>
								<command class_type='loop' title='Loop' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' type='2' forvar='.idx' exp='9' >
									<flowline >
										<command class_type='calculation' title='Copy num bytes and data bytes' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
											<exp exp='.Data[.idx] = APIBuffer[.idx + 4]' />
										</command>
									</flowline>
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.WriteText' >
									<argument exp='ConsoleHandle' />
									<argument exp='&quot;CMD : CANRead ID: &quot; + STRING .Return + &quot; DCnt: &quot; + STRING .Data[0] + &quot; Data: &quot;' />
								</command>
								<command class_type='loop' title='Loop' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' type='2' forvar='.idx' exp='.Data[0]' >
									<flowline >
										<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
											<exp exp='.HexStr = NumberToHex$ (.Data[.idx + 1])' />
										</command>
										<command class_type='decision' title='Decision' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='(.idx + 1) &lt; .Data[0]' swap='0' >
											<flowline >
												<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
													<exp exp='.HexStr = .HexStr + &quot;, &quot;' />
												</command>
											</flowline>
											<flowline />
										</command>
										<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.WriteText' >
											<argument exp='ConsoleHandle' />
											<argument exp='.HexStr' />
										</command>
									</flowline>
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.WriteText' >
									<argument exp='ConsoleHandle' />
									<argument exp='&quot;\n&quot;' />
								</command>
							</flowline>
							<flowline >
								<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.WriteText' >
									<argument exp='ConsoleHandle' />
									<argument exp='&quot;CMD : CANRead - Channel out of range!&quot;' />
								</command>
							</flowline>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='DisplayClear' description='Clears the MIAC display' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<local name='temp' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='idx' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
							<exp exp='APIBuffer[0] = &apos;:&apos;' />
							<exp exp='APIBuffer[1] = &apos;N&apos;' />
							<exp exp='APIBuffer[2] = &apos;;&apos;' />
							<exp exp='APIBuffer[3] = &apos;\n&apos;' />
						</command>
						<command class_type='call' title='Send and Receive' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='APIComms' >
							<argument exp='4' />
							<argument exp='1' />
							<argument exp='1000' />
						</command>
						<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.WriteText' >
							<argument exp='ConsoleHandle' />
							<argument exp='&quot;CMD : DisplayClear\n&quot;' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='ReadKey' description='Reads a keypress from the keypad.
Returns 0 for no keypress or 1-9 for a valid keypress.
1 = TopLeft, 2=TopMiddle, 3=TopRight, 4=CenterLeft etc' statediag='0' >
						<return name='Return' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='temp' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='idx' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
							<exp exp='APIBuffer[0] = &apos;:&apos;' />
							<exp exp='APIBuffer[1] = &apos;M&apos;' />
							<exp exp='APIBuffer[2] = &apos;;&apos;' />
							<exp exp='APIBuffer[3] = &apos;\n&apos;' />
						</command>
						<command class_type='call' title='Send and Receive' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='APIComms' >
							<return exp='.Return' />
							<argument exp='4' />
							<argument exp='2' />
							<argument exp='1000' />
						</command>
						<command class_type='decision' title='Decision' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='.Return = 2' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
									<exp exp='.Return = APIBuffer[1]' />
								</command>
							</flowline>
							<flowline >
								<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
									<exp exp='.Return = 0' />
								</command>
							</flowline>
						</command>
						<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.WriteText' >
							<argument exp='ConsoleHandle' />
							<argument exp='&quot;CMD : ReadKey -&gt; &quot; + string .Return + &quot;\n&quot;' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Ev_Property' description='Sent when a property has been changed by the User' statediag='0' >
						<return name='Return' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='test' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='temp' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='Handle' type='h32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='decision' title='Decision' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='APIType &lt; 2' swap='0' >
							<flowline >
								<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Component.Property.SetVisible' >
									<argument exp='this' />
									<argument exp='&quot;property_5&quot;' />
									<argument exp='0' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Component.Property.SetVisible' >
									<argument exp='this' />
									<argument exp='&quot;property_2&quot;' />
									<argument exp='1' />
								</command>
								<command class_type='decision' title='Decision' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='APIType = 0' swap='0' >
									<flowline >
										<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Component.Property.SetVisible' >
											<argument exp='this' />
											<argument exp='&quot;AutoDetect&quot;' />
											<argument exp='1' />
										</command>
										<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Component.Property.SetVisible' >
											<argument exp='this' />
											<argument exp='&quot;COMPort1::COM_port&quot;' />
											<argument exp='1 - AutoDetect' />
										</command>
										<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Component.Property.SetVisible' >
											<argument exp='this' />
											<argument exp='&quot;COMPort1::Refresh&quot;' />
											<argument exp='1 - AutoDetect' />
										</command>
									</flowline>
									<flowline >
										<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Component.Property.SetVisible' >
											<argument exp='this' />
											<argument exp='&quot;AutoDetect&quot;' />
											<argument exp='0' />
										</command>
										<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Component.Property.SetVisible' >
											<argument exp='this' />
											<argument exp='&quot;COMPort1::COM_port&quot;' />
											<argument exp='1' />
										</command>
										<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Component.Property.SetVisible' >
											<argument exp='this' />
											<argument exp='&quot;COMPort1::Refresh&quot;' />
											<argument exp='1' />
										</command>
									</flowline>
								</command>
							</flowline>
							<flowline >
								<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Component.Property.SetVisible' >
									<argument exp='this' />
									<argument exp='&quot;property_5&quot;' />
									<argument exp='1' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Component.Property.SetVisible' >
									<argument exp='this' />
									<argument exp='&quot;property_2&quot;' />
									<argument exp='0' />
								</command>
							</flowline>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='DisplayPixel' description='Controls a single pixel on the MIAC display' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<param name='X' type='u8' description='Range: 0-119' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Y' type='u8' description='Range: 0-31' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='State' type='b1' description='Range: 0-1' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
							<exp exp='APIBuffer[0] = &apos;:&apos;' />
							<exp exp='APIBuffer[1] = &apos;Q&apos;' />
							<exp exp='APIBuffer[2] = .X' />
							<exp exp='APIBuffer[3] = .Y' />
							<exp exp='APIBuffer[4] = .State' />
							<exp exp='APIBuffer[5] = &apos;;&apos;' />
							<exp exp='APIBuffer[6] = &apos;\n&apos;' />
						</command>
						<command class_type='call' title='Send and Receive' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='APIComms' >
							<argument exp='7' />
							<argument exp='1' />
							<argument exp='1000' />
						</command>
						<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.WriteText' >
							<argument exp='ConsoleHandle' />
							<argument exp='&quot;CMD : DisplayPixel &quot; +string .X + &quot; &quot; + string .Y + &quot; &quot; + string .state + &quot;\n&quot;' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='WriteRelay' description='Allows a single relay to be switched on or off.' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<param name='Channel' type='u8' description='Range 1-2' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Value' type='b1' description='0 = Off, 1 = On' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='decision' title='Decision' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='(.Channel &gt; 0) &amp;&amp; (.Channel &lt;= 2)' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
									<exp exp='APIBuffer[0] = &apos;:&apos;' />
									<exp exp='APIBuffer[1] = &apos;F&apos;' />
									<exp exp='APIBuffer[2] = .Channel' />
									<exp exp='APIBuffer[3] = .Value' />
									<exp exp='APIBuffer[4] = &apos;;&apos;' />
									<exp exp='APIBuffer[5] = &apos;\n&apos;' />
								</command>
								<command class_type='call' title='Send and Receive' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='APIComms' >
									<argument exp='6' />
									<argument exp='1' />
									<argument exp='1000' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.WriteText' >
									<argument exp='ConsoleHandle' />
									<argument exp='&quot;CMD : WriteRelay &quot; +string .Channel + &quot; &quot; + string .Value + &quot;\n&quot;' />
								</command>
							</flowline>
							<flowline >
								<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.WriteText' >
									<argument exp='ConsoleHandle' />
									<argument exp='&quot;CMD : WriteRelay &quot; +string .Channel + &quot; -&gt; Channel out of range 1-2\n&quot;' />
								</command>
							</flowline>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Ev_Renamed' description='' statediag='0' >
						<return name='Return' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='Name' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<command class_type='sim' title='' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Tree.GetName' >
							<return exp='.Name' />
							<argument exp='this' />
						</command>
						<command class_type='sim' title='' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Component.Property.SetValue' >
							<argument exp='LibraryComponent1' />
							<argument exp='&quot;Name&quot;' />
							<argument exp='.Name' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='WriteRelays' description='Allows all relays to be switched on or off in a single command.' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<param name='Value' type='u8' description='Range: 0-3 or 0b00 to 0b11' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
							<exp exp='APIBuffer[0] = &apos;:&apos;' />
							<exp exp='APIBuffer[1] = &apos;G&apos;' />
							<exp exp='APIBuffer[2] = .Value' />
							<exp exp='APIBuffer[3] = &apos;;&apos;' />
							<exp exp='APIBuffer[4] = &apos;\n&apos;' />
						</command>
						<command class_type='call' title='Send and Receive' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='APIComms' >
							<argument exp='5' />
							<argument exp='1' />
							<argument exp='1000' />
						</command>
						<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.WriteText' >
							<argument exp='ConsoleHandle' />
							<argument exp='&quot;CMD : WriteRelays &quot; + string .Value + &quot;\n&quot;' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='LINRead' description='Performs a LIN Master read to collect the data from a LIN Slave
Returns 1 if slave responds, 0 if no response.
Data array is loaded with [0] = NumDataBytes / [1]-[8] = DataBytes' statediag='0' >
						<return name='Return' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='ID' type='u8' description='Range: 0-63' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='ChecksumType' type='b1' description='0=Standard 1.3 / 1=Enhanced 2.0' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='ResponseCount' type='u8' description='Range: 1-8' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Data' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='9' />
						</param>
						<local name='HexStr' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='idx' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
							<exp exp='APIBuffer[0] = &apos;:&apos;' />
							<exp exp='APIBuffer[1] = &apos;W&apos;' />
							<exp exp='APIBuffer[2] = .ID' />
							<exp exp='APIBuffer[3] = .ChecksumType' />
							<exp exp='APIBuffer[4] = .ResponseCount' />
							<exp exp='APIBuffer[5] = &apos;;&apos;' />
							<exp exp='APIBuffer[6] = &apos;\n&apos;' />
						</command>
						<command class_type='call' title='Send and Receive' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='APIComms' >
							<argument exp='7' />
							<argument exp='10' />
							<argument exp='1000' />
						</command>
						<command class_type='loop' title='Loop' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' type='2' forvar='.idx' exp='9' >
							<flowline >
								<command class_type='calculation' title='Copy num bytes and data bytes' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
									<exp exp='.Data[.idx] = APIBuffer[.idx + 1]' />
								</command>
							</flowline>
						</command>
						<command class_type='decision' title='Decision' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='.ResponseCount = .Data[0]' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
									<exp exp='.Return = 1' />
								</command>
							</flowline>
							<flowline >
								<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
									<exp exp='.Return = 0' />
								</command>
							</flowline>
						</command>
						<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.WriteText' >
							<argument exp='ConsoleHandle' />
							<argument exp='&quot;CMD : LINRead ID: &quot; + STRING .ID + &quot; DCnt: &quot; + STRING .Data[0] + &quot; Data: &quot;' />
						</command>
						<command class_type='loop' title='Loop' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' type='2' forvar='.idx' exp='.Data[0]' >
							<flowline >
								<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
									<exp exp='.HexStr = NumberToHex$ (.Data[.idx + 1])' />
								</command>
								<command class_type='decision' title='Decision' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='(.idx + 1) &lt; .Data[0]' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
											<exp exp='.HexStr = .HexStr + &quot;, &quot;' />
										</command>
									</flowline>
									<flowline />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.WriteText' >
									<argument exp='ConsoleHandle' />
									<argument exp='.HexStr' />
								</command>
							</flowline>
						</command>
						<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.WriteText' >
							<argument exp='ConsoleHandle' />
							<argument exp='&quot;\n&quot;' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='ReadAnalogInput' description='Reads a single analog input with range 0 to 4095 corresponding to input voltage
0V to +V.' statediag='0' >
						<return name='Return' type='u16' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Channel' type='u8' description='Range: 1 - 8' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='decision' title='Decision' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='(.Channel &gt; 0) &amp;&amp; (.Channel &lt;= 8)' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
									<exp exp='APIBuffer[0] = &apos;:&apos;' />
									<exp exp='APIBuffer[1] = &apos;E&apos;' />
									<exp exp='APIBuffer[2] = .Channel' />
									<exp exp='APIBuffer[3] = &apos;;&apos;' />
									<exp exp='APIBuffer[4] = &apos;\n&apos;' />
								</command>
								<command class_type='call' title='Send and Receive' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='APIComms' >
									<return exp='.Return' />
									<argument exp='5' />
									<argument exp='3' />
									<argument exp='1000' />
								</command>
								<command class_type='decision' title='Decision' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='.Return = 3' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
											<exp exp='.Return = APIBuffer[1] + (APIBuffer[2] &lt;&lt; 8)' />
										</command>
									</flowline>
									<flowline >
										<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
											<exp exp='.Return = 0' />
										</command>
									</flowline>
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.WriteText' >
									<argument exp='ConsoleHandle' />
									<argument exp='&quot;CMD : ReadAnalogInput &quot; +string .Channel + &quot; -&gt; &quot; + string .Return + &quot;\n&quot;' />
								</command>
							</flowline>
							<flowline >
								<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
									<exp exp='.Return = 0' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.WriteText' >
									<argument exp='ConsoleHandle' />
									<argument exp='&quot;CMD : ReadAnalogInput &quot; +string .Channel + &quot; -&gt; Channel out of range 1-8\n&quot;' />
								</command>
							</flowline>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='SetAPIVerbose' description='Controls the Verbose mode. 
When enabled the LCD automatically displays an account of the incoming API commands and parameters. When switched off the LCD is free for the user to control as required.' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<param name='Mode' type='b1' description='Range: 0-1 : 0=Off or User Mode / 1=API Verbose Mode' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
							<exp exp='APIBuffer[0] = &apos;:&apos;' />
							<exp exp='APIBuffer[1] = &apos;B&apos;' />
							<exp exp='APIBuffer[2] = &apos;;&apos;' />
							<exp exp='APIBuffer[3] = &apos;\n&apos;' />
						</command>
						<command class_type='call' title='Send and Receive' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='APIComms' >
							<argument exp='4' />
							<argument exp='1' />
							<argument exp='1000' />
						</command>
						<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.WriteText' >
							<argument exp='ConsoleHandle' />
							<argument exp='&quot;CMD : LCDVerbose &quot; +string .Mode + &quot;\n&quot;' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='CANWrite' description='Writes an outgoing comms packet to the selected CAN interface channel.
Data array [0] = Num Data Bytes
Data array [1]-[8] = Data Bytes' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<param name='Channel' type='u8' description='Range: 1-3 - 1=CAN1 / 2=CAN2 / 3=CAN3' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='ID' type='u32' description='Range: 0-16777215' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Data' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='9' />
						</param>
						<local name='HexStr' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='idx' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='decision' title='Decision' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='(.Channel &gt; 0) &amp;&amp; (.Channel &lt;= 3)' swap='0' >
							<flowline >
								<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.WriteText' >
									<argument exp='ConsoleHandle' />
									<argument exp='&quot;CMD : CANWrite ID: &quot; + STRING .ID + &quot; DCnt: &quot; + STRING .Data[0] + &quot; Data: &quot;' />
								</command>
								<command class_type='loop' title='Loop' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' type='2' forvar='.idx' exp='.Data[0]' >
									<flowline >
										<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
											<exp exp='.HexStr = NumberToHex$ (.Data[.idx + 1])' />
										</command>
										<command class_type='decision' title='Decision' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='(.idx + 1) &lt; .Data[0]' swap='0' >
											<flowline >
												<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
													<exp exp='.HexStr = .HexStr + &quot;, &quot;' />
												</command>
											</flowline>
											<flowline />
										</command>
										<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.WriteText' >
											<argument exp='ConsoleHandle' />
											<argument exp='.HexStr' />
										</command>
									</flowline>
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.WriteText' >
									<argument exp='ConsoleHandle' />
									<argument exp='&quot;\n&quot;' />
								</command>
								<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
									<exp exp='APIBuffer[0] = &apos;:&apos;' />
									<exp exp='APIBuffer[1] = &apos;U&apos;' />
									<exp exp='APIBuffer[2] = .Channel' />
								</command>
								<command class_type='calculation' title='Combine first three bytes into returned ID' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
									<exp exp='APIBuffer[3] = .ID' />
									<exp exp='.ID = .ID &gt;&gt; 8' />
									<exp exp='APIBuffer[4] = .ID' />
									<exp exp='.ID = .ID &gt;&gt; 8' />
									<exp exp='APIBuffer[5] = .ID' />
								</command>
								<command class_type='loop' title='Loop' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' type='2' forvar='.idx' exp='9' >
									<flowline >
										<command class_type='calculation' title='Copy num bytes and data bytes' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
											<exp exp='APIBuffer[.idx + 6] = .Data[.idx]' />
										</command>
									</flowline>
								</command>
								<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
									<exp exp='APIBuffer[15] = &apos;;&apos;' />
									<exp exp='APIBuffer[16] = &apos;\n&apos;' />
								</command>
								<command class_type='call' title='Send and Receive' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='APIComms' >
									<argument exp='17' />
									<argument exp='1' />
									<argument exp='1000' />
								</command>
							</flowline>
							<flowline >
								<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.WriteText' >
									<argument exp='ConsoleHandle' />
									<argument exp='&quot;CMD : CANWrite - Channel out of range!&quot;' />
								</command>
							</flowline>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='LINWrite' description='Writes an outgoing comms packet to the LIN interface.
Data array [0] = Num Data Bytes
Data array [1]-[8] = Data Bytes' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<param name='ID' type='u8' description='Range: 0-16777215' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Data' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='9' />
						</param>
						<local name='HexStr' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='idx' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.WriteText' >
							<argument exp='ConsoleHandle' />
							<argument exp='&quot;CMD : LINWrite ID: &quot; + STRING .ID + &quot; DCnt: &quot; + STRING .Data[0] + &quot; Data: &quot;' />
						</command>
						<command class_type='loop' title='Loop' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' type='2' forvar='.idx' exp='.Data[0]' >
							<flowline >
								<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
									<exp exp='.HexStr = NumberToHex$ (.Data[.idx + 1])' />
								</command>
								<command class_type='decision' title='Decision' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='(.idx + 1) &lt; .Data[0]' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
											<exp exp='.HexStr = .HexStr + &quot;, &quot;' />
										</command>
									</flowline>
									<flowline />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.WriteText' >
									<argument exp='ConsoleHandle' />
									<argument exp='.HexStr' />
								</command>
							</flowline>
						</command>
						<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.WriteText' >
							<argument exp='ConsoleHandle' />
							<argument exp='&quot;\n&quot;' />
						</command>
						<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
							<exp exp='APIBuffer[0] = &apos;:&apos;' />
							<exp exp='APIBuffer[1] = &apos;X&apos;' />
							<exp exp='APIBuffer[2] = .ID' />
						</command>
						<command class_type='loop' title='Loop' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' type='2' forvar='.idx' exp='9' >
							<flowline >
								<command class_type='calculation' title='Copy num bytes and data bytes' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
									<exp exp='APIBuffer[.idx + 3] = .Data[.idx]' />
								</command>
							</flowline>
						</command>
						<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
							<exp exp='APIBuffer[12] = &apos;;&apos;' />
							<exp exp='APIBuffer[13] = &apos;\n&apos;' />
						</command>
						<command class_type='call' title='Send and Receive' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='APIComms' >
							<argument exp='14' />
							<argument exp='1' />
							<argument exp='1000' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='DisplayCursor' description='Sets the cursor position for the MIAC display' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<param name='X' type='u8' description='Range: 0-21' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Y' type='u8' description='Range: 0-3' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='temp' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='idx' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
							<exp exp='APIBuffer[0] = &apos;:&apos;' />
							<exp exp='APIBuffer[1] = &apos;O&apos;' />
							<exp exp='APIBuffer[2] = .X' />
							<exp exp='APIBuffer[3] = .Y' />
							<exp exp='APIBuffer[4] = &apos;;&apos;' />
							<exp exp='APIBuffer[5] = &apos;\n&apos;' />
						</command>
						<command class_type='call' title='Send and Receive' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='APIComms' >
							<argument exp='6' />
							<argument exp='1' />
							<argument exp='1000' />
						</command>
						<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.WriteText' >
							<argument exp='ConsoleHandle' />
							<argument exp='&quot;CMD : DisplayCursor &quot; +string .X + &quot; &quot; + string .Y + &quot;\n&quot;' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='ReadDigitalInput' description='Reads a single digital input.' statediag='0' >
						<return name='Return' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Channel' type='u8' description='Range: 1 - 8' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='decision' title='Decision' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='(.Channel &gt; 0) &amp;&amp; (.Channel &lt;= 8)' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
									<exp exp='APIBuffer[0] = &apos;:&apos;' />
									<exp exp='APIBuffer[1] = &apos;C&apos;' />
									<exp exp='APIBuffer[2] = .Channel' />
									<exp exp='APIBuffer[3] = &apos;;&apos;' />
									<exp exp='APIBuffer[4] = &apos;\n&apos;' />
								</command>
								<command class_type='call' title='Send and Receive' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='APIComms' >
									<return exp='.Return' />
									<argument exp='5' />
									<argument exp='2' />
									<argument exp='1000' />
								</command>
								<command class_type='decision' title='Decision' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='.Return = 2' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
											<exp exp='.Return = APIBuffer[1]' />
										</command>
									</flowline>
									<flowline >
										<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
											<exp exp='.Return = 0' />
										</command>
									</flowline>
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.WriteText' >
									<argument exp='ConsoleHandle' />
									<argument exp='&quot;CMD : ReadDigitalInput &quot; +string .Channel + &quot; -&gt; &quot; + string .Return + &quot;\n&quot;' />
								</command>
							</flowline>
							<flowline >
								<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
									<exp exp='.Return = 0' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.WriteText' >
									<argument exp='ConsoleHandle' />
									<argument exp='&quot;CMD : ReadDigitalInput &quot; +string .Channel + &quot; -&gt; Channel out of range 1-8\n&quot;' />
								</command>
							</flowline>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='ReadDigitalInputs' description='Reads all digital inputs at once and returns as a binary value.
Input 1 = Bit 0
Input 8 = Bit 7' statediag='0' >
						<return name='Return' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
							<exp exp='APIBuffer[0] = &apos;:&apos;' />
							<exp exp='APIBuffer[1] = &apos;D&apos;' />
							<exp exp='APIBuffer[2] = &apos;;&apos;' />
							<exp exp='APIBuffer[3] = &apos;\n&apos;' />
						</command>
						<command class_type='call' title='Send and Receive' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='APIComms' >
							<return exp='.Return' />
							<argument exp='4' />
							<argument exp='2' />
							<argument exp='1000' />
						</command>
						<command class_type='decision' title='Decision' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='.Return = 2' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
									<exp exp='.Return = APIBuffer[1]' />
								</command>
							</flowline>
							<flowline >
								<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
									<exp exp='.Return = 0' />
								</command>
							</flowline>
						</command>
						<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.WriteText' >
							<argument exp='ConsoleHandle' />
							<argument exp='&quot;CMD : ReadInputs -&gt; &quot; + string .Return + &quot;\n&quot;' />
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Ev_Start' description='Broadcast to all components that simulation is starting' statediag='0' >
						<return name='Return' type='u32' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='tempstr' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='idx' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='len' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='subidx' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='Port' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='decision' title='Decision' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='APIType &lt; 2' swap='0' >
							<flowline >
								<command class_type='comment' title='' comment='COM Port' textarea='36,-1,36,-1' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' />
								<command class_type='decision' title='Decision' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='APIType = 0' swap='0' >
									<flowline >
										<command class_type='comment' title='' comment='USB' textarea='36,-1,36,-1' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' />
										<command class_type='decision' title='Decision' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='AutoDetect' swap='0' >
											<flowline >
												<command class_type='sim' title='Call Component Macro' textarea='40,-10,40,-10' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' component='COMPort1' macro='ScanForDeviceID' >
													<return exp='.Port' />
													<argument exp='&quot;VID_12BF&amp;PID_0104&quot;' />
												</command>
												<command class_type='sim' title='Call Component Macro' textarea='40,-10,40,-10' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' component='COMPort1' macro='SetProp' >
													<argument exp='&quot;COM_port&quot;' />
													<argument exp='.Port' />
												</command>
											</flowline>
											<flowline />
										</command>
									</flowline>
									<flowline />
								</command>
								<command class_type='sim' title='Call Component Macro' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' component='COMPort1' macro='OpenPort' />
								<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.WriteText' >
									<argument exp='ConsoleHandle' />
									<argument exp='&quot;COM Port : Open\n&quot;' />
								</command>
							</flowline>
							<flowline >
								<command class_type='call' title='Call Component Macro' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' component='NetworkComms1' macro='Initialise' />
							</flowline>
						</command>
						<command class_type='call' title='User Macro' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='GetAPIVersion' />
					</flowline>
				</macro>
				<macro >
					<flowline name='APIComms' description='Sends an API type command.
Returns the number of bytes receievd' statediag='0' >
						<return name='Return' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='NumTX' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='NumRX' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Timeout' type='u16' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='TXCMD' type='u8' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
						<local name='RXCMD' type='u8' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
						<local name='StopSim' type='b1' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='Warning' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<local name='ret' type='u16' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='Retry' type='u8' description='' isconst='0' isHidden='0' isinit='1' usrinit='0' setinit='0' />
						<local name='TempAPIBuf' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='100' />
						</local>
						<local name='RetCount' type='u8' description='' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
							<exp exp='.TXCMD = APIBuffer[1]' />
						</command>
						<command class_type='decision' title='Decision' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='APIType &lt; 2' swap='0' >
							<flowline >
								<command class_type='comment' title='' comment='COM Port Based
USB / Bluetooth' textarea='12,0,12,0' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' />
								<command class_type='decision' title='Decision' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='.NumTX' swap='0' >
									<flowline >
										<command class_type='sim' title='Send outgoing command and param array' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' component='COMPort1' macro='SendByteArray' >
											<argument exp='APIBuffer' />
											<argument exp='.NumTX' />
										</command>
									</flowline>
									<flowline />
								</command>
								<command class_type='decision' title='Data To Receive?' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='.NumRX' swap='0' >
									<flowline >
										<command class_type='sim' title='Get outgoing echo and any return values' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' component='COMPort1' macro='ReceiveByteArray' >
											<return exp='.Return' />
											<argument exp='APIBuffer' />
											<argument exp='.NumRX' />
											<argument exp='.Timeout' />
										</command>
									</flowline>
									<flowline />
								</command>
							</flowline>
							<flowline >
								<command class_type='comment' title='' comment='Network Based
WIFI / ETH' textarea='12,0,12,0' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' />
								<command class_type='label' title='Declare Connection Point' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' labelid='0' labelname='A' />
								<command class_type='call' title='Call Component Macro' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' component='NetworkComms1' macro='SocketOpen' >
									<return exp='.ret' />
								</command>
								<command class_type='decision' title='Decision' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='.ret = 0' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
											<exp exp='.Retry = .Retry + 1' />
										</command>
										<command class_type='decision' title='Decision' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='.Retry &lt; 10' swap='0' >
											<flowline >
												<command class_type='goto' title='Goto Connection Point' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' labelid='0' labelname='' />
											</flowline>
											<flowline >
												<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.WriteText' >
													<argument exp='ConsoleHandle' />
													<argument exp='&quot;SocketOpen Error - Too many failures\n&quot;' />
												</command>
												<command class_type='goto' title='Goto Connection Point' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' labelid='4' labelname='' />
											</flowline>
										</command>
									</flowline>
									<flowline >
										<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
											<exp exp='SocketOpen = 1' />
										</command>
									</flowline>
								</command>
								<command class_type='label' title='Declare Connection Point' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' labelid='1' labelname='B' />
								<command class_type='call' title='Call Component Macro' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' component='NetworkComms1' macro='Connect' >
									<return exp='.Ret' />
									<argument exp='IPAddress' />
									<argument exp='Port' />
								</command>
								<command class_type='decision' title='Decision' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='.ret = 0' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
											<exp exp='.Retry = .Retry + 1' />
										</command>
										<command class_type='decision' title='Decision' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='.Retry &lt; 10' swap='0' >
											<flowline >
												<command class_type='goto' title='Goto Connection Point' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' labelid='1' labelname='' />
											</flowline>
											<flowline >
												<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.WriteText' >
													<argument exp='ConsoleHandle' />
													<argument exp='&quot;Connect Error - Too many failures\n&quot;' />
												</command>
												<command class_type='goto' title='Goto Connection Point' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' labelid='4' labelname='' />
											</flowline>
										</command>
									</flowline>
									<flowline />
								</command>
								<command class_type='decision' title='Decision' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='.NumTX' swap='0' >
									<flowline >
										<command class_type='call' title='Call Component Macro' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' component='NetworkComms1' macro='Send' >
											<return exp='.Ret' />
											<argument exp='APIBuffer' />
											<argument exp='.NumTX' />
										</command>
										<command class_type='decision' title='Decision' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='.Ret &lt; .NumTX' swap='0' >
											<flowline >
												<command class_type='label' title='Declare Connection Point' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' labelid='2' labelname='C' />
												<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
													<exp exp='.Retry = .Retry + 1' />
												</command>
												<command class_type='decision' title='Decision' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='.Retry &lt; 10' swap='0' >
													<flowline >
														<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
															<exp exp='.Return = 0' />
														</command>
														<command class_type='loop' title='Loop' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' type='0' exp='.Ret &lt; .NumTx' >
															<flowline >
																<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
																	<exp exp='.TempAPIBuf[.Return] = APIBuffer[.ret]' />
																</command>
																<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
																	<exp exp='.Ret = .Ret + 1' />
																	<exp exp='.Return = .Return + 1' />
																</command>
															</flowline>
														</command>
														<command class_type='call' title='Call Component Macro' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' component='NetworkComms1' macro='Send' >
															<return exp='.Ret' />
															<argument exp='.TempAPIBuf' />
															<argument exp='.Return' />
														</command>
														<command class_type='decision' title='Decision' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='.Ret &lt; .Return' swap='0' >
															<flowline >
																<command class_type='goto' title='Goto Connection Point' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' labelid='2' labelname='' />
															</flowline>
															<flowline />
														</command>
													</flowline>
													<flowline >
														<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.WriteText' >
															<argument exp='ConsoleHandle' />
															<argument exp='&quot;Send Error - Not all data sent\n&quot;' />
														</command>
														<command class_type='goto' title='Goto Connection Point' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' labelid='4' labelname='' />
													</flowline>
												</command>
											</flowline>
											<flowline />
										</command>
									</flowline>
									<flowline />
								</command>
								<command class_type='decision' title='Data To Receive?' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='.NumRX' swap='0' >
									<flowline >
										<command class_type='call' title='Call Component Macro' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' component='NetworkComms1' macro='Receive' >
											<return exp='.Return' />
											<argument exp='APIBuffer' />
											<argument exp='.NumRX' />
											<argument exp='.Timeout' />
										</command>
										<command class_type='decision' title='Decision' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='.Return &lt; .NumRX' swap='0' >
											<flowline >
												<command class_type='label' title='Declare Connection Point' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' labelid='3' labelname='D' />
												<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
													<exp exp='.Retry = .Retry + 1' />
												</command>
												<command class_type='decision' title='Decision' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='.Retry &lt; 10' swap='0' >
													<flowline >
														<command class_type='call' title='Call Component Macro' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' component='NetworkComms1' macro='Receive' >
															<return exp='.RetCount' />
															<argument exp='.TempAPIBuf' />
															<argument exp='.NumRX - .Return' />
															<argument exp='.Timeout' />
														</command>
														<command class_type='decision' title='Decision' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='.RetCount' swap='0' >
															<flowline >
																<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
																	<exp exp='.Ret = 0' />
																</command>
																<command class_type='loop' title='Loop' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' type='0' exp='.Ret &lt; .RetCount' >
																	<flowline >
																		<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
																			<exp exp='APIBuffer[.Return] = .TempAPIBuf[.ret]' />
																		</command>
																		<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
																			<exp exp='.Ret = .Ret + 1' />
																			<exp exp='.Return = .Return + 1' />
																		</command>
																	</flowline>
																</command>
															</flowline>
															<flowline />
														</command>
														<command class_type='decision' title='Decision' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='.Return &lt; .NumRX' swap='0' >
															<flowline >
																<command class_type='goto' title='Goto Connection Point' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' labelid='3' labelname='' />
															</flowline>
															<flowline />
														</command>
													</flowline>
													<flowline >
														<command class_type='decision' title='Decision' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='.Return' swap='0' >
															<flowline >
																<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.WriteText' >
																	<argument exp='ConsoleHandle' />
																	<argument exp='&quot;Receive Error - Not all data received\n&quot;' />
																</command>
															</flowline>
															<flowline >
																<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.WriteText' >
																	<argument exp='ConsoleHandle' />
																	<argument exp='&quot;Receive Error - No data received\n&quot;' />
																</command>
															</flowline>
														</command>
														<command class_type='goto' title='Goto Connection Point' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' labelid='4' labelname='' />
													</flowline>
												</command>
											</flowline>
											<flowline />
										</command>
									</flowline>
									<flowline />
								</command>
								<command class_type='label' title='Declare Connection Point' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' labelid='4' labelname='E' />
								<command class_type='call' title='Call Component Macro' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' component='NetworkComms1' macro='SocketClose' />
								<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
									<exp exp='SocketOpen = 0' />
								</command>
							</flowline>
						</command>
						<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
							<exp exp='.RXCMD = APIBuffer[0]' />
						</command>
						<command class_type='decision' title='Check to ensure TX and RX are ok' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='.TXCMD = .RXCMD' swap='0' >
							<flowline >
								<command class_type='comment' title='' comment='Command acknowledged' textarea='12,0,12,0' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' />
							</flowline>
							<flowline >
								<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
									<exp exp='.Warning = &quot;CMD : Failed TXCode &quot; + STRING .TXCMD + &quot; - RXCode &quot; + STRING .RXCMD + &quot;\n&quot;' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.WriteText' >
									<argument exp='ConsoleHandle' />
									<argument exp='.Warning' />
								</command>
								<command class_type='decision' title='Decision' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='WarningOnError' swap='0' >
									<flowline >
										<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
											<exp exp='.Warning = &quot;Command Failed - TXCode &quot; + STRING .TXCMD + &quot; - RXCode &quot; + STRING .RXCMD + &quot;\nWould you like to stop the program?&quot;' />
										</command>
										<command class_type='sim' title='Built-in Function' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='UI.YesNoMsgBox' >
											<return exp='.StopSim' />
											<argument exp='.Warning' />
										</command>
										<command class_type='decision' title='Decision' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='.StopSim' swap='0' >
											<flowline >
												<command class_type='sim' title='Built-in Function' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='System.StopSim' />
											</flowline>
											<flowline />
										</command>
									</flowline>
									<flowline />
								</command>
							</flowline>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='Main' description='' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
					</flowline>
				</macro>
				<macro >
					<flowline name='WriteTran' description='Allows a single transistor output to be switched on or off.' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<param name='Channel' type='u8' description='Range 1-6 where 1=A / 2=B / 3=C / 4=D / 5=E / 6=F' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<param name='Value' type='b1' description='0 = Off, 1 = On' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<command class_type='decision' title='Decision' cmdcolor='4767473' cmdcolor_sec='11337727' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' exp='(.Channel &gt; 0) &amp;&amp; (.Channel &lt;= 6)' swap='0' >
							<flowline >
								<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
									<exp exp='APIBuffer[0] = &apos;:&apos;' />
									<exp exp='APIBuffer[1] = &apos;H&apos;' />
									<exp exp='APIBuffer[2] = .Channel' />
									<exp exp='APIBuffer[3] = .Value' />
									<exp exp='APIBuffer[4] = &apos;;&apos;' />
									<exp exp='APIBuffer[5] = &apos;\n&apos;' />
								</command>
								<command class_type='call' title='Send and Receive' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='APIComms' >
									<argument exp='6' />
									<argument exp='1' />
									<argument exp='1000' />
								</command>
								<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.WriteText' >
									<argument exp='ConsoleHandle' />
									<argument exp='&quot;CMD : WriteTran &quot; +string .Channel + &quot; &quot; + string .Value + &quot;\n&quot;' />
								</command>
							</flowline>
							<flowline >
								<command class_type='sim' title='Simulation' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='Console.WriteText' >
									<argument exp='ConsoleHandle' />
									<argument exp='&quot;CMD : WriteTran &quot; +string .Channel + &quot; -&gt; Channel out of range 1-6\n&quot;' />
								</command>
							</flowline>
						</command>
					</flowline>
				</macro>
				<macro >
					<flowline name='DisplayFloat' description='Prints a floating point number to the MIAC display starting from the current cursor position.' statediag='0' >
						<return name='Return' type='v0' description='' isconst='0' isHidden='0' isinit='0' usrinit='' setinit='' />
						<param name='Value' type='f32' description='Range: Float' isconst='0' isHidden='0' isinit='0' usrinit='0.0' setinit='' />
						<param name='NumDP' type='u8' description='Number of decimal places to display' isconst='0' isHidden='0' isinit='0' usrinit='0' setinit='' />
						<local name='Str' type='T8' description='' isconst='0' isHidden='0' isinit='0' usrinit='&quot;&quot;' setinit='' >
							<array size='20' />
						</local>
						<command class_type='calculation' title='Calculation' cmdcolor='4206456' cmdcolor_sec='10785756' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' >
							<exp exp='.Str = FloatToString$ (.Value, .NumDP)' />
						</command>
						<command class_type='call' title='User Macro' cmdcolor='4487093' cmdcolor_sec='11066367' cmdcolor_txt='16777215' cmdgradient='4' cmdopacity='0.64' macro='DisplayPrint' >
							<argument exp='.Str' />
						</command>
					</flowline>
				</macro>
			</macros>
			<component class_type='ref' guid='54369d81-80ed-4d59-97bf-91f4b2cdf24c' vmin='2' vmaj='2' codename='TCP_Base1' panelId='-1' x='-42.3699' y='-1.98076' z='309.288' xsz='5' ysz='5' zsz='0.2' xang='0' yang='0' zang='0' xquat='0' yquat='0' zquat='0' wquat='1' visible='1' scadavisible='1' interactive='1' solid='1' layer='1' poslock='0' comp2dType='0' >
				<resources />
				<properties />
				<values >
					<value target='hostname' data='192.168.0.1' />
					<value target='interface' data='4' />
					<value target='gateway0' data='192' />
					<value target='gateway1' data='168' />
					<value target='gateway2' data='0' />
					<value target='gateway3' data='10' />
					<value target='subnet0' data='255' />
					<value target='subnet1' data='255' />
					<value target='subnet2' data='255' />
					<value target='subnet3' data='0' />
					<value target='ip0' data='192' />
					<value target='ip1' data='168' />
					<value target='ip2' data='0' />
					<value target='ip3' data='41' />
					<value target='mac0' data='164' />
					<value target='mac1' data='107' />
					<value target='mac2' data='182' />
					<value target='mac3' data='24' />
					<value target='mac4' data='2' />
					<value target='mac5' data='89' />
					<value target='ConsoleData' data='1' />
					<value target='notify_target' data='' />
				</values>
				<events />
				<apis />
				<variables />
				<macros />
			</component>
			<component class_type='ref' guid='cbb3c28e-2d73-4442-ac52-23a3b45d9870' vmin='0' vmaj='3' codename='COMPort1' panelId='-1' x='0.130125' y='-2.58847' z='309.288' xsz='0.02' ysz='0.01' zsz='0.01' xang='0' yang='0' zang='0' xquat='0' yquat='0' zquat='0' wquat='1' visible='1' scadavisible='1' interactive='1' solid='1' layer='1' poslock='0' comp2dType='0' >
				<resources />
				<properties />
				<values >
					<value target='COM_port' data='001' />
					<value target='Refresh' data='0' />
					<value target='baud_rate' data='115200' />
					<value target='Tout_Val' data='255' />
					<value target='ConsoleData' data='0' />
					<value target='AutoClose' data='1' />
					<value target='NewLineFormat' data='000' />
				</values>
				<events />
				<apis />
				<variables />
				<macros />
			</component>
			<component class_type='ref' guid='58be670e-18fb-477e-ab09-61fde14b23ec' vmin='0' vmaj='1' codename='LibraryComponent1' panelId='-1' x='0' y='0' z='0' xsz='100' ysz='100' zsz='100' xang='0' yang='0' zang='0' xquat='0' yquat='0' zquat='0' wquat='1' visible='1' scadavisible='1' interactive='1' solid='1' layer='1' poslock='1' comp2dType='0' >
				<resources />
				<properties />
				<values >
					<value target='Text::sText' data='MIAC
AllCode 
API' />
					<value target='Name' data='' />
					<value target='Peripheral::sText' data='' />
					<value target='Text::nVerticalAlignment' data='002' />
					<value target='ShowComms' data='1' />
					<value target='InputIcon::CommsType' data='007' />
					<value target='InputIcon::LinkTo' data='0' />
					<value target='IconsOnRight' data='0' />
					<value target='OutputIcon::CommsType' data='255' />
					<value target='OutputIcon::LinkTo' data='0' />
					<value target='ConsoleHandle' data='0' />
					<value target='Upgraded' data='0' />
				</values>
				<events />
				<apis />
				<variables />
				<macros />
			</component>
			<component class_type='ref' guid='91049bf5-2436-42dc-947a-c30c86463d98' vmin='5' vmaj='1' codename='NetworkComms1' panelId='-1' x='-42' y='-17' z='0' xsz='0.25' ysz='0.25' zsz='0.25' xang='0' yang='0' zang='0' xquat='0' yquat='0' zquat='0' wquat='1' visible='1' scadavisible='1' interactive='1' solid='1' layer='1' poslock='0' comp2dType='0' >
				<resources />
				<properties />
				<values >
					<value target='Component' data='' />
					<value target='LibraryComponent1::OutputIcon::LinkTo' data='0' />
					<value target='TCPIP_Channel' data='000' />
					<value target='RemapIndex' data='0' />
					<value target='Status' data='Simulation Only' />
					<value target='Sim' data='0' />
					<value target='SimControl' data='000' />
					<value target='NetworkInterface' data='255' />
					<value target='IPAddress' data='0.0.0.0' />
				</values>
				<events />
				<apis />
				<variables />
				<macros />
			</component>
		</component>
	</components>
	<scadaresourcelookup />
	<keymap />
	<panel2d shadows='0' lighting='2' brightness='0' >
		<background rgb='9737364' img='' style='0' />
		<camera xe='-26.8405' ye='-3.8011' ze='363.248' xt='-26.8405' yt='-3.8011' zt='0' xquat='0' yquat='0' zquat='0' wquat='1' />
		<viewport dx='622' dy='343' zoom='207.192' fix_topleft='0' />
		<page x='1000' y='1000' show='0' rgb='7360576' />
		<winpos ID='7005' RectRecentFloat='1270,427,1920,877' RectRecentDocked='0,0,642,413' RecentFrameAlignment='16384' RecentRowIndex='0' IsFloating='1' MRUWidth='32767' PinState='0' IsMaximized='0' IsVisible='1' />
	</panel2d>
	<panel3d shadows='1' lighting='0' brightness='51' perspective='1' >
		<background rgb='7895160' img='' style='0' />
		<table rgb='5921370' img='' style='0' size='0' />
		<camera xe='4.31809' ye='-0.109425' ze='196.962' xt='4.31809' yt='-0.109425' zt='48.0462' xquat='0' yquat='0' zquat='0' wquat='1' />
		<camerakey0 xe='0' ye='0' ze='300' xt='0' yt='0' zt='0' xquat='0' yquat='0' zquat='0' wquat='1' />
		<camerakey1 xe='-3.67394e-14' ye='0' ze='-300' xt='0' yt='0' zt='0' xquat='0' yquat='1' zquat='0' wquat='6.12323e-17' />
		<camerakey2 xe='0' ye='-300' ze='6.66134e-14' xt='0' yt='0' zt='0' xquat='-0.707107' yquat='0' zquat='0' wquat='0.707107' />
		<camerakey3 xe='-3.67394e-14' ye='300' ze='6.66134e-14' xt='0' yt='0' zt='0' xquat='-4.32978e-17' yquat='0.707107' zquat='0.707107' wquat='4.32978e-17' />
		<camerakey4 xe='-300' ye='-6.66134e-14' ze='6.66134e-14' xt='0' yt='0' zt='0' xquat='-0.5' yquat='0.5' zquat='0.5' wquat='0.5' />
		<camerakey5 xe='300' ye='-6.66134e-14' ze='6.66134e-14' xt='0' yt='0' zt='0' xquat='-0.5' yquat='-0.5' zquat='-0.5' wquat='0.5' />
		<camerakey6 xe='-173.205' ye='-173.205' ze='173.205' xt='0' yt='0' zt='0' xquat='-0.424708' yquat='0.17592' zquat='0.339851' wquat='0.820473' />
		<winpos ID='7004' RectRecentFloat='153,370,807,947' RectRecentDocked='157,403,803,943' RecentFrameAlignment='16384' RecentRowIndex='0' IsFloating='1' MRUWidth='32767' PinState='0' IsMaximized='0' IsVisible='1' />
	</panel3d>
	<panels2d count='0' />
	<layout >
		<view type='0' name='DisplayClear' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAeAAAAUwYAACcDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='WriteTran' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAeAAAAUwYAACcDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='DisplayCursor' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAeAAAAUwYAACcDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='ReadDigitalInput' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAeAAAAUwYAACcDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='ReadAnalogInput' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAeAAAAUwYAACcDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='WriteRelays' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAeAAAAUwYAACcDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='ReadDigitalInputs' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAeAAAAUwYAACcDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='DisplayPrint' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAeAAAAUwYAACcDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='WriteRelay' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAeAAAAUwYAACcDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='ReadKey' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAeAAAAUwYAACcDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='DisplayNumber' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAeAAAAUwYAACcDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='DisplayPixel' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAeAAAAUwYAACcDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='WriteTrans' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAeAAAAUwYAACcDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='WriteTranPWMDuty' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAeAAAAUwYAACcDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='WriteTranPWMEnable' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAeAAAAUwYAACcDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Main' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAeAAAAUwYAACcDAAA' zoom='60' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='GetAPIVersion' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAeAAAAUwYAACcDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Ev_Property' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAeAAAAUwYAACcDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Ev_Stop' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAeAAAAUwYAACcDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Ev_Start' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAeAAAAUwYAACcDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='Ev_Initialise' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAeAAAAUwYAACcDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='SetAPIVerbose' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAeAAAAUwYAACcDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='APIComms' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAeAAAAUwYAACcDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='DisplayFloat' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAeAAAAUwYAACcDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='CANEnable' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAeAAAAUwYAACcDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='CANRxCheck' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAeAAAAUwYAACcDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='CANRead' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAeAAAAUwYAACcDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='CANWrite' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAeAAAAUwYAACcDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='LINEnable' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAeAAAAUwYAACcDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='LINRead' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAeAAAAUwYAACcDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
		<view type='0' name='LINWrite' mode='0' placement='LAAAAAAAAAABAAAA---------------------wUAAAAeAAAAUwYAACcDAAA' zoom='75' scrollx='0' scrolly='0' flags='0' />
	</layout>
</document>
</root>
