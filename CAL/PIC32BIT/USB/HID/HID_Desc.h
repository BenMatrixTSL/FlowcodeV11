// CRC: A6459004C43C0517DC6DFC5681C2AD69C10B8AB997F36C59C8E2D33ADDA05BC17E849C698F74EB624B366BF50A9985A2F8F0B679987821A67B09CF8806E65CDC9A0D46BD3B6AACB92DE4D84759EBB5079CA9DA2D2BBCDAE2A4D1C56CD1580BF531804F27C2A836898B1055015FEFC388B5AC2B2E93F9F68772C50CDF8B3311E4C82BB426A89A6935FA8E1C78383214D031AAE706C54DAEE07A6D0E96BE5AD17D2CE1B7FAC2D14E83A2A8BA924ED764A60791785AC80D155F549D34A0D5AD11F3D5FF8FACD397410A585C6956FF4F50BCB521726CB3A23CF182C256CBF4C17012C4BCD2B02DB1B1F4
// REVISION: 1.0
// GUID: D077554B-7EF3-4DCF-886A-4BCB6D50C17E
// DATE: 08\08\2022
// DIR: CAL\PIC32BIT\USB\HID\HID_Desc.h

#ifndef _HIDDESC_H
#define _HIDDESC_H

extern const USB_DEVICE_DESCRIPTOR deviceDescriptor;
extern const uint8_t fullSpeedConfigurationDescriptor[];
extern USB_DEVICE_CONFIGURATION_DESCRIPTORS_TABLE fullSpeedConfigDescSet;
extern const USB_DEVICE_INIT usbDevInitData;


typedef enum
{
	/* Application's state machine's initial state. */
	APP_STATE_INIT=0,
    APP_STATE_WAIT_FOR_CONFIGURATION,
    APP_STATE_CHECK_FOR_OUTPUT_REPORT,
    APP_STATE_CHECK_IF_CONFIGURED,
    APP_STATE_ERROR,
	APP_STATE_SERVICE_TASKS,
} APP_STATES;


typedef struct
{
    /* The application's current state */
    APP_STATES state;
    USB_DEVICE_HANDLE                handleUsbDevice;
	USB_DEVICE_HID_INDEX		     hidInstance;
    bool                             usbDeviceIsConfigured;
    USB_DEVICE_HID_TRANSFER_HANDLE   receiveTransferHandle;
	USB_DEVICE_HID_TRANSFER_HANDLE   sendTransferHandle;
    USB_HID_PROTOCOL_CODE            activeProtocol;
    uint8_t                          idleRate;
    bool                             isReportSentComplete;
	bool							 isReportReceived;
	bool							 sofEventHasOccurred;
    uint16_t                         setIdleTimer;

} APP_DATA;

#endif
